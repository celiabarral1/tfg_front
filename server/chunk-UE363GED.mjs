import './polyfills.server.mjs';
import{$ as Fi,$a as Ie,A as $r,Aa as $d,B as si,Ba as Ke,C as q,Ca as Se,Cb as ou,D as Q,Da as le,E as be,Ea as ce,F as R,Fa as Zt,G as Qe,Ga as S,Gb as ru,H as G,Ha as li,Hb as su,I as K,Ia as st,Ib as au,J as te,Ja as Ga,K as Ue,Ka as Xa,Kb as Et,L as ie,La as Qa,Lb as Jr,M as ne,Ma as Ka,Mb as lu,N as Ui,Na as ze,Nb as to,O as $i,Oa as Go,P as Yi,Pa as Pi,Q as ue,Qa as Yd,R as Fe,Ra as qd,S as pe,Sa as Gd,T as Zn,Ta as _i,U as zd,V as ai,Va as Xd,W as Hd,Wa as Za,X as E,Y as x,Z as Yr,Za as Qd,_ as ve,a as ri,aa as Jn,b as Wo,ba as Kt,bb as Ee,c as _e,ca as qo,cb as wn,d as Qn,da as Le,db as Xo,e as Ua,ea as bt,eb as qi,f as $a,fa as X,fb as Ja,g as Pd,ga as Ct,gb as Me,h as Rd,ha as T,i as Uo,ia as qr,ib as Kd,j as Ld,ja as fe,jb as Kr,k as Pt,ka as Gr,kb as Zr,l as Vd,la as Ya,lb as at,m as Nd,ma as mt,mb as Zd,n as Bd,na as Xr,nb as el,o as yn,oa as Qr,ob as ci,p as Oi,pa as v,pb as Jd,q as Yt,qa as g,qb as Lt,r as $o,ra as V,rb as eu,s as Kn,sa as Wd,sb as tu,t as xn,ta as Ud,tb as iu,u as Yo,ua as qa,ub as eo,v as jd,va as ye,vb as Cn,w as Wr,wa as B,wb as di,x as Wi,xa as U,xb as Gi,y as Rt,ya as vt,yb as En,z as Ur,za as je,zb as nu}from"./chunk-OLW55HAN.mjs";import{$ as yt,A as es,Aa as xt,B as il,Ba as lt,C as fu,Ca as ao,D as Mn,Da as Ou,E as gu,Ea as Ji,F as nl,Fa as Fu,G as Jt,Ga as gl,H as ts,Ha as Pu,I as ol,Ia as _l,J as rl,Ja as Ru,K as _u,Ka as bl,L as oo,La as vl,M as Jo,Ma as en,N as Mt,Na as Lu,O as bu,Oa as yl,P as Li,Pa as Vu,Q as vu,Qa as xl,R as ro,Ra as Nu,S as yu,Sa as Bu,T as xu,Ta as ju,U as wu,Ua as kn,V as sl,Va as wl,W as al,Wa as Cl,X as Cu,Xa as zu,Y as ll,Ya as El,Z as Eu,Za as Hu,_ as is,a as bi,aa as Du,b as cu,ba as cl,c as ke,ca as dl,d as Ot,da as ul,e as $e,ea as hl,f as Je,fa as er,g as Vt,ga as ns,h as ge,ha as Sn,i as du,ia as ml,j as uu,ja as He,k as Pe,ka as pl,l as Ae,la as Mu,m as Qo,ma as Xi,n as hu,na as fl,o as Ko,oa as os,p as Dn,pa as Su,q as mu,qa as Qi,r as io,ra as tr,s as Zo,sa as ir,t as tl,ta as ku,u as pu,ua as Au,v as vi,va as Ki,w as Dt,wa as so,x as qt,xa as Iu,y as no,ya as Tu,z as Ri,za as Zi}from"./chunk-ZVTFXWI3.mjs";import{ca as Wu}from"./chunk-6TAFF536.mjs";import{a as he,b as rt,c as mg,e as pg,g as fg,h as ht}from"./chunk-5XUXGTUW.mjs";var af=pg((Zc,Jc)=>{"use strict";(function(n,t){typeof define=="function"&&define.amd?define([],t):typeof Jc=="object"&&typeof Zc<"u"?Jc.exports=t():n.Papa=t()})(Zc,function n(){"use strict";var t=function(){return typeof self<"u"?self:typeof window<"u"?window:typeof t<"u"?t:{}}();function e(){var _=t.URL||t.webkitURL||null,y=n.toString();return a.BLOB_URL||(a.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",y,")();"],{type:"text/javascript"})))}var i=!t.document&&!!t.postMessage,o=t.IS_PAPA_WORKER||!1,r={},s=0,a={};if(a.parse=c,a.unparse=d,a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=1024*1024*10,a.RemoteChunkSize=1024*1024*5,a.DefaultDelimiter=",",a.Parser=I,a.ParserHandle=C,a.NetworkStreamer=h,a.FileStreamer=m,a.StringStreamer=p,a.ReadableStreamStreamer=f,typeof PAPA_BROWSER_CONTEXT>"u"&&(a.DuplexStreamStreamer=b),t.jQuery){var l=t.jQuery;l.fn.parse=function(_){var y=_.config||{},O=[];return this.each(function($){var j=l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&t.FileReader;if(!j||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)O.push({file:this.files[me],inputElem:this,instanceConfig:l.extend({},y)})}),P(),this;function P(){if(O.length===0){z(_.complete)&&_.complete();return}var $=O[0];if(z(_.before)){var j=_.before($.file,$.inputElem);if(typeof j=="object")if(j.action==="abort"){N("AbortError",$.file,$.inputElem,j.reason);return}else if(j.action==="skip"){Y();return}else typeof j.config=="object"&&($.instanceConfig=l.extend($.instanceConfig,j.config));else if(j==="skip"){Y();return}}var me=$.instanceConfig.complete;$.instanceConfig.complete=function(Ce){z(me)&&me(Ce,$.file,$.inputElem),Y()},a.parse($.file,$.instanceConfig)}function N($,j,me,Ce){z(_.error)&&_.error({name:$},j,me,Ce)}function Y(){O.splice(0,1),P()}}}o&&(t.onmessage=F);function c(_,y){y=y||{};var O=y.dynamicTyping||!1;if(z(O)&&(y.dynamicTypingFunction=O,O={}),y.dynamicTyping=O,y.transform=z(y.transform)?y.transform:!1,y.worker&&a.WORKERS_SUPPORTED){var P=k();P.userStep=y.step,P.userChunk=y.chunk,P.userComplete=y.complete,P.userError=y.error,y.step=z(y.step),y.chunk=z(y.chunk),y.complete=z(y.complete),y.error=z(y.error),delete y.worker,P.postMessage({input:_,config:y,workerId:P.id});return}var N=null;if(_===a.NODE_STREAM_INPUT&&typeof PAPA_BROWSER_CONTEXT>"u")return N=new b(y),N.getStream();return typeof _=="string"?(_=Y(_),y.download?N=new h(y):N=new p(y)):_.readable===!0&&z(_.read)&&z(_.on)?N=new f(y):(t.File&&_ instanceof File||_ instanceof Object)&&(N=new m(y)),N.stream(_);function Y($){return $.charCodeAt(0)===65279?$.slice(1):$}}function d(_,y){var O=!1,P=!0,N=",",Y=`\r
`,$='"',j=$+$,me=!1,Ce=null,J=!1;re();var _t=new RegExp(w($),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return Ge(null,_,me);if(typeof _[0]=="object")return Ge(Ce||Object.keys(_[0]),_,me)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||Ce),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),!Array.isArray(_.data[0])&&typeof _.data[0]!="object"&&(_.data=[_.data])),Ge(_.fields||[],_.data||[],me);throw new Error("Unable to serialize unrecognized input");function re(){if(typeof y=="object"){if(typeof y.delimiter=="string"&&!a.BAD_DELIMITERS.filter(function(we){return y.delimiter.indexOf(we)!==-1}).length&&(N=y.delimiter),(typeof y.quotes=="boolean"||typeof y.quotes=="function"||Array.isArray(y.quotes))&&(O=y.quotes),(typeof y.skipEmptyLines=="boolean"||typeof y.skipEmptyLines=="string")&&(me=y.skipEmptyLines),typeof y.newline=="string"&&(Y=y.newline),typeof y.quoteChar=="string"&&($=y.quoteChar),typeof y.header=="boolean"&&(P=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");Ce=y.columns}y.escapeChar!==void 0&&(j=y.escapeChar+$),y.escapeFormulae instanceof RegExp?J=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(J=/^[=+\-@\t\r].*$/)}}function Ge(we,Te,nt){var Be="";typeof we=="string"&&(we=JSON.parse(we)),typeof Te=="string"&&(Te=JSON.parse(Te));var Ze=Array.isArray(we)&&we.length>0,Ii=!Array.isArray(Te[0]);if(Ze&&P){for(var Xe=0;Xe<we.length;Xe++)Xe>0&&(Be+=N),Be+=ae(we[Xe],Xe);Te.length>0&&(Be+=Y)}for(var wt=0;wt<Te.length;wt++){var Ti=Ze?we.length:Te[wt].length,Ut=!1,ee=Ze?Object.keys(Te[wt]).length===0:Te[wt].length===0;if(nt&&!Ze&&(Ut=nt==="greedy"?Te[wt].join("").trim()==="":Te[wt].length===1&&Te[wt][0].length===0),nt==="greedy"&&Ze){for(var se=[],We=0;We<Ti;We++){var de=Ii?we[We]:We;se.push(Te[wt][de])}Ut=se.join("").trim()===""}if(!Ut){for(var Oe=0;Oe<Ti;Oe++){Oe>0&&!ee&&(Be+=N);var Ne=Ze&&Ii?we[Oe]:Oe;Be+=ae(Te[wt][Ne],Oe)}wt<Te.length-1&&(!nt||Ti>0&&!ee)&&(Be+=Y)}}return Be}function ae(we,Te){if(typeof we>"u"||we===null)return"";if(we.constructor===Date)return JSON.stringify(we).slice(1,25);var nt=!1;J&&typeof we=="string"&&J.test(we)&&(we="'"+we,nt=!0);var Be=we.toString().replace(_t,j);return nt=nt||O===!0||typeof O=="function"&&O(we,Te)||Array.isArray(O)&&O[Te]||$n(Be,a.BAD_DELIMITERS)||Be.indexOf(N)>-1||Be.charAt(0)===" "||Be.charAt(Be.length-1)===" ",nt?$+Be+$:Be}function $n(we,Te){for(var nt=0;nt<Te.length;nt++)if(we.indexOf(Te[nt])>-1)return!0;return!1}}function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},y.call(this,_),this.parseChunk=function(O,P){let N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&N>0){let J=this._config.newline;if(!J){let re=this._config.quoteChar||'"';J=this._handle.guessLineEndings(O,re)}O=[...O.split(J).slice(N)].join(J)}if(this.isFirstChunk&&z(this._config.beforeFirstChunk)){var Y=this._config.beforeFirstChunk(O);Y!==void 0&&(O=Y)}this.isFirstChunk=!1,this._halted=!1;var $=this._partialLine+O;this._partialLine="";var j=this._handle.parse($,this._baseIndex,!this._finished);if(this._handle.paused()||this._handle.aborted()){this._halted=!0;return}var me=j.meta.cursor;this._finished||(this._partialLine=$.substring(me-this._baseIndex),this._baseIndex=me),j&&j.data&&(this._rowCount+=j.data.length);var Ce=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)t.postMessage({results:j,workerId:a.WORKER_ID,finished:Ce});else if(z(this._config.chunk)&&!P){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted()){this._halted=!0;return}j=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),!this._completed&&Ce&&z(this._config.complete)&&(!j||!j.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!Ce&&(!j||!j.meta.paused)&&this._nextChunk(),j},this._sendError=function(O){z(this._config.error)?this._config.error(O):o&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:O,finished:!1})};function y(O){var P=H(O);P.chunkSize=parseInt(P.chunkSize),!O.step&&!O.chunk&&(P.chunkSize=null),this._handle=new C(P),this._handle.streamer=this,this._config=P}}function h(_){_=_||{},_.chunkSize||(_.chunkSize=a.RemoteChunkSize),u.call(this,_);var y;i?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished){this._chunkLoaded();return}if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),i||(y.onload=W(this._chunkLoaded,this),y.onerror=W(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var P=this._config.downloadRequestHeaders;for(var N in P)y.setRequestHeader(N,P[N])}if(this._config.chunkSize){var Y=this._start+this._config.chunkSize-1;y.setRequestHeader("Range","bytes="+this._start+"-"+Y)}try{y.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}i&&y.status===0&&this._chunkError()},this._chunkLoaded=function(){if(y.readyState===4){if(y.status<200||y.status>=400){this._chunkError();return}this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=O(y),this.parseChunk(y.responseText)}},this._chunkError=function(P){var N=y.statusText||P;this._sendError(new Error(N))};function O(P){var N=P.getResponseHeader("Content-Range");return N===null?-1:parseInt(N.substring(N.lastIndexOf("/")+1))}}h.prototype=Object.create(u.prototype),h.prototype.constructor=h;function m(_){_=_||{},_.chunkSize||(_.chunkSize=a.LocalChunkSize),u.call(this,_);var y,O,P=typeof FileReader<"u";this.stream=function(N){this._input=N,O=N.slice||N.webkitSlice||N.mozSlice,P?(y=new FileReader,y.onload=W(this._chunkLoaded,this),y.onerror=W(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){!this._finished&&(!this._config.preview||this._rowCount<this._config.preview)&&this._readChunk()},this._readChunk=function(){var N=this._input;if(this._config.chunkSize){var Y=Math.min(this._start+this._config.chunkSize,this._input.size);N=O.call(N,this._start,Y)}var $=y.readAsText(N,this._config.encoding);P||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(y.error)}}m.prototype=Object.create(u.prototype),m.prototype.constructor=m;function p(_){_=_||{},u.call(this,_);var y;this.stream=function(O){return y=O,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var O=this._config.chunkSize,P;return O?(P=y.substring(0,O),y=y.substring(O)):(P=y,y=""),this._finished=!y,this.parseChunk(P)}}}p.prototype=Object.create(p.prototype),p.prototype.constructor=p;function f(_){_=_||{},u.call(this,_);var y=[],O=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):O=!0},this._streamData=W(function(N){try{y.push(typeof N=="string"?N:N.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=W(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=W(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}f.prototype=Object.create(u.prototype),f.prototype.constructor=f;function b(_){var y=mg("stream").Duplex,O=H(_),P=!0,N=!1,Y=[],$=null;this._onCsvData=function(j){var me=j.data;!$.push(me)&&!this._handle.paused()&&this._handle.pause()},this._onCsvComplete=function(){$.push(null)},O.step=W(this._onCsvData,this),O.complete=W(this._onCsvComplete,this),u.call(this,O),this._nextChunk=function(){N&&Y.length===1&&(this._finished=!0),Y.length?Y.shift()():P=!0},this._addToParseQueue=function(j,me){Y.push(W(function(){if(this.parseChunk(typeof j=="string"?j:j.toString(O.encoding)),z(me))return me()},this)),P&&(P=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(j,me,Ce){this._addToParseQueue(j,Ce)},this._onWriteComplete=function(){N=!0,this._addToParseQueue("")},this.getStream=function(){return $},$=new y({readableObjectMode:!0,decodeStrings:!1,read:W(this._onRead,this),write:W(this._onWrite,this)}),$.once("finish",W(this._onWriteComplete,this))}typeof PAPA_BROWSER_CONTEXT>"u"&&(b.prototype=Object.create(u.prototype),b.prototype.constructor=b);function C(_){var y=Math.pow(2,53),O=-y,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,N=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,$=0,j=0,me,Ce,J=!1,_t=!1,re,Ge=[],ae={data:[],errors:[],meta:{}};if(z(_.step)){var $n=_.step;_.step=function(ee){if(ae=ee,Be())nt();else{if(nt(),ae.data.length===0)return;$+=ee.data.length,_.preview&&$>_.preview?Ce.abort():(ae.data=ae.data[0],$n(ae,Y))}}}this.parse=function(ee,se,We){var de=_.quoteChar||'"';if(_.newline||(_.newline=this.guessLineEndings(ee,de)),re=!1,_.delimiter)z(_.delimiter)&&(_.delimiter=_.delimiter(ee),ae.meta.delimiter=_.delimiter);else{var Oe=Ti(ee,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);Oe.successful?_.delimiter=Oe.bestDelimiter:(re=!0,_.delimiter=a.DefaultDelimiter),ae.meta.delimiter=_.delimiter}var Ne=H(_);return _.preview&&_.header&&Ne.preview++,me=ee,Ce=new I(Ne),ae=Ce.parse(me,se,We),nt(),J?{meta:{paused:!0}}:ae||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,Ce.abort(),me=z(_.chunk)?"":me.substring(Ce.getCharIndex())},this.resume=function(){Y.streamer._halted?(J=!1,Y.streamer.parseChunk(me,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return _t},this.abort=function(){_t=!0,Ce.abort(),ae.meta.aborted=!0,z(_.complete)&&_.complete(ae),me=""},this.guessLineEndings=function(ee,se){ee=ee.substring(0,1024*1024);var We=new RegExp(w(se)+"([^]*?)"+w(se),"gm");ee=ee.replace(We,"");var de=ee.split("\r"),Oe=ee.split(`
`),Ne=Oe.length>1&&Oe[0].length<de[0].length;if(de.length===1||Ne)return`
`;for(var dt=0,ot=0;ot<de.length;ot++)de[ot][0]===`
`&&dt++;return dt>=de.length/2?`\r
`:"\r"};function we(ee){return _.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function Te(ee){if(P.test(ee)){var se=parseFloat(ee);if(se>O&&se<y)return!0}return!1}function nt(){return ae&&re&&(Ut("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),re=!1),_.skipEmptyLines&&(ae.data=ae.data.filter(function(ee){return!we(ee)})),Be()&&Ze(),wt()}function Be(){return _.header&&Ge.length===0}function Ze(){if(!ae)return;function ee(We,de){z(_.transformHeader)&&(We=_.transformHeader(We,de)),Ge.push(We)}if(Array.isArray(ae.data[0])){for(var se=0;Be()&&se<ae.data.length;se++)ae.data[se].forEach(ee);ae.data.splice(0,1)}else ae.data.forEach(ee)}function Ii(ee){return _.dynamicTypingFunction&&_.dynamicTyping[ee]===void 0&&(_.dynamicTyping[ee]=_.dynamicTypingFunction(ee)),(_.dynamicTyping[ee]||_.dynamicTyping)===!0}function Xe(ee,se){return Ii(ee)?se==="true"||se==="TRUE"?!0:se==="false"||se==="FALSE"?!1:Te(se)?parseFloat(se):N.test(se)?new Date(se):se===""?null:se:se}function wt(){if(!ae||!_.header&&!_.dynamicTyping&&!_.transform)return ae;function ee(We,de){var Oe=_.header?{}:[],Ne;for(Ne=0;Ne<We.length;Ne++){var dt=Ne,ot=We[Ne];_.header&&(dt=Ne>=Ge.length?"__parsed_extra":Ge[Ne]),_.transform&&(ot=_.transform(ot,dt)),ot=Xe(dt,ot),dt==="__parsed_extra"?(Oe[dt]=Oe[dt]||[],Oe[dt].push(ot)):Oe[dt]=ot}return _.header&&(Ne>Ge.length?Ut("FieldMismatch","TooManyFields","Too many fields: expected "+Ge.length+" fields but parsed "+Ne,j+de):Ne<Ge.length&&Ut("FieldMismatch","TooFewFields","Too few fields: expected "+Ge.length+" fields but parsed "+Ne,j+de)),Oe}var se=1;return!ae.data.length||Array.isArray(ae.data[0])?(ae.data=ae.data.map(ee),se=ae.data.length):ae.data=ee(ae.data,0),_.header&&ae.meta&&(ae.meta.fields=Ge),j+=se,ae}function Ti(ee,se,We,de,Oe){var Ne,dt,ot,Hi;Oe=Oe||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Yn=0;Yn<Oe.length;Yn++){var qn=Oe[Yn],Gn=0,ut=0,vn=0;ot=void 0;for(var pt=new I({comments:de,delimiter:qn,newline:se,preview:10}).parse(ee),$t=0;$t<pt.data.length;$t++){if(We&&we(pt.data[$t])){vn++;continue}var Ft=pt.data[$t].length;if(ut+=Ft,typeof ot>"u"){ot=Ft;continue}else Ft>0&&(Gn+=Math.abs(Ft-ot),ot=Ft)}pt.data.length>0&&(ut/=pt.data.length-vn),(typeof dt>"u"||Gn<=dt)&&(typeof Hi>"u"||ut>Hi)&&ut>1.99&&(dt=Gn,Ne=qn,Hi=ut)}return _.delimiter=Ne,{successful:!!Ne,bestDelimiter:Ne}}function Ut(ee,se,We,de){var Oe={type:ee,code:se,message:We};de!==void 0&&(Oe.row=de),ae.errors.push(Oe)}}function w(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(_){_=_||{};var y=_.delimiter,O=_.newline,P=_.comments,N=_.step,Y=_.preview,$=_.fastMode,j,me=null;_.quoteChar===void 0||_.quoteChar===null?j='"':j=_.quoteChar;var Ce=j;if(_.escapeChar!==void 0&&(Ce=_.escapeChar),(typeof y!="string"||a.BAD_DELIMITERS.indexOf(y)>-1)&&(y=","),P===y)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||a.BAD_DELIMITERS.indexOf(P)>-1)&&(P=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var J=0,_t=!1;this.parse=function(re,Ge,ae){if(typeof re!="string")throw new Error("Input must be a string");var $n=re.length,we=y.length,Te=O.length,nt=P.length,Be=z(N);J=0;var Ze=[],Ii=[],Xe=[],wt=0;if(!re)return ut();if($||$!==!1&&re.indexOf(j)===-1){for(var Ti=re.split(O),Ut=0;Ut<Ti.length;Ut++){if(Xe=Ti[Ut],J+=Xe.length,Ut!==Ti.length-1)J+=O.length;else if(ae)return ut();if(!(P&&Xe.substring(0,nt)===P)){if(Be){if(Ze=[],Hi(Xe.split(y)),vn(),_t)return ut()}else Hi(Xe.split(y));if(Y&&Ut>=Y)return Ze=Ze.slice(0,Y),ut(!0)}}return ut()}for(var ee=re.indexOf(y,J),se=re.indexOf(O,J),We=new RegExp(w(Ce)+w(j),"g"),de=re.indexOf(j,J);;){if(re[J]===j){for(de=J,J++;;){if(de=re.indexOf(j,de+1),de===-1)return ae||Ii.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ze.length,index:J}),qn();if(de===$n-1){var Oe=re.substring(J,de).replace(We,j);return qn(Oe)}if(j===Ce&&re[de+1]===Ce){de++;continue}if(!(j!==Ce&&de!==0&&re[de-1]===Ce)){ee!==-1&&ee<de+1&&(ee=re.indexOf(y,de+1)),se!==-1&&se<de+1&&(se=re.indexOf(O,de+1));var Ne=se===-1?ee:Math.min(ee,se),dt=Yn(Ne);if(re.substr(de+1+dt,we)===y){Xe.push(re.substring(J,de).replace(We,j)),J=de+1+dt+we,re[de+1+dt+we]!==j&&(de=re.indexOf(j,J)),ee=re.indexOf(y,J),se=re.indexOf(O,J);break}var ot=Yn(se);if(re.substring(de+1+ot,de+1+ot+Te)===O){if(Xe.push(re.substring(J,de).replace(We,j)),Gn(de+1+ot+Te),ee=re.indexOf(y,J),de=re.indexOf(j,J),Be&&(vn(),_t))return ut();if(Y&&Ze.length>=Y)return ut(!0);break}Ii.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ze.length,index:J}),de++}}continue}if(P&&Xe.length===0&&re.substring(J,J+nt)===P){if(se===-1)return ut();J=se+Te,se=re.indexOf(O,J),ee=re.indexOf(y,J);continue}if(ee!==-1&&(ee<se||se===-1)){Xe.push(re.substring(J,ee)),J=ee+we,ee=re.indexOf(y,J);continue}if(se!==-1){if(Xe.push(re.substring(J,se)),Gn(se+Te),Be&&(vn(),_t))return ut();if(Y&&Ze.length>=Y)return ut(!0);continue}break}return qn();function Hi(pt){Ze.push(pt),wt=J}function Yn(pt){var $t=0;if(pt!==-1){var Ft=re.substring(de+1,pt);Ft&&Ft.trim()===""&&($t=Ft.length)}return $t}function qn(pt){return ae||(typeof pt>"u"&&(pt=re.substring(J)),Xe.push(pt),J=$n,Hi(Xe),Be&&vn()),ut()}function Gn(pt){J=pt,Hi(Xe),Xe=[],se=re.indexOf(O,J)}function ut(pt){if(_.header&&!Ge&&Ze.length){let $t=Ze[0],Ft={},Wa=new Set($t),Od=!1;for(let Xn=0;Xn<$t.length;Xn++){let gi=$t[Xn];if(z(_.transformHeader)&&(gi=_.transformHeader(gi,Xn)),!Ft[gi])Ft[gi]=1,$t[Xn]=gi;else{let Ho,Fd=Ft[gi];do Ho=`${gi}_${Fd}`,Fd++;while(Wa.has(Ho));Wa.add(Ho),$t[Xn]=Ho,Ft[gi]++,Od=!0,me===null&&(me={}),me[Ho]=gi}Wa.add(gi)}Od&&console.warn("Duplicate headers found and renamed.")}return{data:Ze,errors:Ii,meta:{delimiter:y,linebreak:O,aborted:_t,truncated:!!pt,cursor:wt+(Ge||0),renamedHeaders:me}}}function vn(){N(ut()),Ze=[],Ii=[]}},this.abort=function(){_t=!0},this.getCharIndex=function(){return J}}function k(){if(!a.WORKERS_SUPPORTED)return!1;var _=e(),y=new t.Worker(_);return y.onmessage=D,y.id=s++,r[y.id]=y,y}function D(_){var y=_.data,O=r[y.workerId],P=!1;if(y.error)O.userError(y.error,y.file);else if(y.results&&y.results.data){var N=function(){P=!0,A(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},Y={abort:N,pause:L,resume:L};if(z(O.userStep)){for(var $=0;$<y.results.data.length&&(O.userStep({data:y.results.data[$],errors:y.results.errors,meta:y.results.meta},Y),!P);$++);delete y.results}else z(O.userChunk)&&(O.userChunk(y.results,Y,y.file),delete y.results)}y.finished&&!P&&A(y.workerId,y.results)}function A(_,y){var O=r[_];z(O.userComplete)&&O.userComplete(y),O.terminate(),delete r[_]}function L(){throw new Error("Not implemented.")}function F(_){var y=_.data;if(typeof a.WORKER_ID>"u"&&y&&(a.WORKER_ID=y.workerId),typeof y.input=="string")t.postMessage({workerId:a.WORKER_ID,results:a.parse(y.input,y.config),finished:!0});else if(t.File&&y.input instanceof File||y.input instanceof Object){var O=a.parse(y.input,y.config);O&&t.postMessage({workerId:a.WORKER_ID,results:O,finished:!0})}}function H(_){if(typeof _!="object"||_===null)return _;var y=Array.isArray(_)?[]:{};for(var O in _)y[O]=H(_[O]);return y}function W(_,y){return function(){_.apply(y,arguments)}}function z(_){return typeof _=="function"}return a})});var Zu=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(x(Jn),x(pe))}}static{this.\u0275dir=te({type:n})}}return n})(),ms=(()=>{class n extends Zu{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ui(n)))(o||n)}})()}static{this.\u0275dir=te({type:n,features:[Le]})}}return n})(),rn=new be(""),_g={provide:rn,useExisting:si(()=>Tl),multi:!0},Tl=(()=>{class n extends ms{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ui(n)))(o||n)}})()}static{this.\u0275dir=te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[ze([_g]),Le]})}}return n})(),bg={provide:rn,useExisting:si(()=>Nt),multi:!0};function vg(){let n=Ja()?Ja().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var yg=new be(""),Nt=(()=>{class n extends Zu{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vg())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(x(Jn),x(pe),x(yg,8))}}static{this.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&B("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[ze([bg]),Le]})}}return n})();function tn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Ju(n){return n!=null&&typeof n.length=="number"}var Ol=new be(""),Fl=new be(""),xg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,St=class{static min(t){return wg(t)}static max(t){return Cg(t)}static required(t){return Eg(t)}static requiredTrue(t){return Dg(t)}static email(t){return Mg(t)}static minLength(t){return Sg(t)}static maxLength(t){return kg(t)}static pattern(t){return Ag(t)}static nullValidator(t){return eh(t)}static compose(t){return sh(t)}static composeAsync(t){return lh(t)}};function wg(n){return t=>{if(tn(t.value)||tn(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Cg(n){return t=>{if(tn(t.value)||tn(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Eg(n){return tn(n.value)?{required:!0}:null}function Dg(n){return n.value===!0?null:{required:!0}}function Mg(n){return tn(n.value)||xg.test(n.value)?null:{email:!0}}function Sg(n){return t=>tn(t.value)||!Ju(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function kg(n){return t=>Ju(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Ag(n){if(!n)return eh;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(tn(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function eh(n){return null}function th(n){return n!=null}function ih(n){return Xd(n)?Rd(n):n}function nh(n){let t={};return n.forEach(e=>{t=e!=null?he(he({},t),e):t}),Object.keys(t).length===0?null:t}function oh(n,t){return t.map(e=>e(n))}function Ig(n){return!n.validate}function rh(n){return n.map(t=>Ig(t)?t:e=>t.validate(e))}function sh(n){if(!n)return null;let t=n.filter(th);return t.length==0?null:function(e){return nh(oh(e,t))}}function ah(n){return n!=null?sh(rh(n)):null}function lh(n){if(!n)return null;let t=n.filter(th);return t.length==0?null:function(e){let i=oh(e,t).map(ih);return Bd(i).pipe(Pt(nh))}}function ch(n){return n!=null?lh(rh(n)):null}function Uu(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dh(n){return n._rawValidators}function uh(n){return n._rawAsyncValidators}function Dl(n){return n?Array.isArray(n)?n:[n]:[]}function ss(n,t){return Array.isArray(n)?n.includes(t):n===t}function $u(n,t){let e=Dl(t);return Dl(n).forEach(o=>{ss(e,o)||e.push(o)}),e}function Yu(n,t){return Dl(t).filter(e=>!ss(n,e))}var as=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ah(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ch(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},An=class extends as{get formDirective(){return null}get path(){return null}},nn=class extends as{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ls=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Tg={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fD=rt(he({},Tg),{"[class.ng-submitted]":"isSubmitted"}),ei=(()=>{class n extends ls{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(x(nn,2))}}static{this.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&fe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Le]})}}return n})(),yi=(()=>{class n extends ls{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(x(An,10))}}static{this.\u0275dir=te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&fe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Le]})}}return n})();var nr="VALID",rs="INVALID",lo="PENDING",or="DISABLED",on=class{},cs=class extends on{constructor(t,e){super(),this.value=t,this.source=e}},rr=class extends on{constructor(t,e){super(),this.pristine=t,this.source=e}},sr=class extends on{constructor(t,e){super(),this.touched=t,this.source=e}},co=class extends on{constructor(t,e){super(),this.status=t,this.source=e}},Ml=class extends on{constructor(t){super(),this.source=t}},Sl=class extends on{constructor(t){super(),this.source=t}};function Pl(n){return(ps(n)?n.validators:n)||null}function Og(n){return Array.isArray(n)?ah(n):n||null}function Rl(n,t){return(ps(t)?t.asyncValidators:n)||null}function Fg(n){return Array.isArray(n)?ch(n):n||null}function ps(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function hh(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new $r(1e3,"");if(!i[e])throw new $r(1001,"")}function mh(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new $r(1002,"")})}var uo=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Xo(()=>this.statusReactive()),this.statusReactive=qo(void 0),this._pristine=Xo(()=>this.pristineReactive()),this.pristineReactive=qo(!0),this._touched=Xo(()=>this.touchedReactive()),this.touchedReactive=qo(!1),this._events=new _e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qi(this.statusReactive)}set status(t){qi(()=>this.statusReactive.set(t))}get valid(){return this.status===nr}get invalid(){return this.status===rs}get pending(){return this.status==lo}get disabled(){return this.status===or}get enabled(){return this.status!==or}get pristine(){return qi(this.pristineReactive)}set pristine(t){qi(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return qi(this.touchedReactive)}set touched(t){qi(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($u(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($u(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yu(t,this._rawAsyncValidators))}hasValidator(t){return ss(this._rawValidators,t)}hasAsyncValidator(t){return ss(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(rt(he({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new sr(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new sr(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(rt(he({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new rr(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new rr(!0,i))}markAsPending(t={}){this.status=lo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new co(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(rt(he({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=or,this.errors=null,this._forEachChild(o=>{o.disable(rt(he({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cs(this.value,i)),this._events.next(new co(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(rt(he({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=nr,this._forEachChild(i=>{i.enable(rt(he({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(rt(he({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nr||this.status===lo)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cs(this.value,e)),this._events.next(new co(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(rt(he({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=lo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=ih(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new co(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?rs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lo)?lo:this._anyControlsHaveStatus(rs)?rs:nr}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new rr(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new sr(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ps(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Og(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Fg(this._rawAsyncValidators)}},ds=class extends uo{constructor(t,e,i){super(Pl(e),Rl(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){mh(this,!0,t),Object.keys(t).forEach(i=>{hh(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var kl=class extends ds{};var lr=new be("CallSetDisabledState",{providedIn:"root",factory:()=>cr}),cr="always";function ph(n,t){return[...t.path,n]}function Al(n,t,e=cr){Ll(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Rg(n,t),Vg(n,t),Lg(n,t),Pg(n,t)}function qu(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),hs(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function us(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Pg(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ll(n,t){let e=dh(n);t.validator!==null?n.setValidators(Uu(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=uh(n);t.asyncValidator!==null?n.setAsyncValidators(Uu(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();us(t._rawValidators,o),us(t._rawAsyncValidators,o)}function hs(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=dh(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=uh(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return us(t._rawValidators,i),us(t._rawAsyncValidators,i),e}function Rg(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&fh(n,t)})}function Lg(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&fh(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function fh(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vg(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Ng(n,t){n==null,Ll(n,t)}function Bg(n,t){return hs(n,t)}function gh(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function jg(n){return Object.getPrototypeOf(n.constructor)===ms}function zg(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function _h(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===Nt?e=r:jg(r)?i=r:o=r}),o||i||e||null}function Hg(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Gu(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Xu(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ar=class extends uo{constructor(t=null,e,i){super(Pl(e),Rl(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ps(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Xu(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Gu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Gu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Xu(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Wg=n=>n instanceof ar;var Ug={provide:nn,useExisting:si(()=>Vl)},Qu=Promise.resolve(),Vl=(()=>{class n extends nn{constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ar,this._registered=!1,this.name="",this.update=new ue,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=_h(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),gh(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Al(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Qu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Ee(i);Qu.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ph(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(x(An,9),x(Ol,10),x(Fl,10),x(rn,10),x(Ie,8),x(lr,8))}}static{this.\u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([Ug]),Le,Ue]})}}return n})(),xi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),$g={provide:rn,useExisting:si(()=>Nl),multi:!0},Nl=(()=>{class n extends ms{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ui(n)))(o||n)}})()}static{this.\u0275dir=te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&B("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[ze([$g]),Le]})}}return n})(),Yg={provide:rn,useExisting:si(()=>dr),multi:!0};var qg=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dr=(()=>{class n extends ms{constructor(e,i,o,r){super(e,i),this._registry=o,this._injector=r,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Qe(lr,{optional:!0})??cr}ngOnInit(){this._control=this._injector.get(nn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(x(Jn),x(pe),x(qg),x(Yi))}}static{this.\u0275dir=te({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ze([Yg]),Le]})}}return n})();var bh=new be("");var Gg={provide:An,useExisting:si(()=>ui)},ui=(()=>{class n extends An{get submitted(){return qi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,o){super(),this.callSetDisabledState=o,this._submitted=Xo(()=>this._submittedReactive()),this._submittedReactive=qo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ue,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Al(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qu(e.control||null,e,!1),Hg(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),zg(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Ml(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Sl(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(qu(i||null,e),Wg(o)&&(Al(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Ng(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Bg(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ll(this.form,this),this._oldForm&&hs(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(x(Ol,10),x(Fl,10),x(lr,8))}}static{this.\u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&B("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([Gg]),Le,Ue]})}}return n})();var Xg={provide:nn,useExisting:si(()=>hi)},hi=(()=>{class n extends nn{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ue,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=_h(this,r)}ngOnChanges(e){this._added||this._setUpControl(),gh(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ph(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(x(An,13),x(Ol,10),x(Fl,10),x(rn,10),x(bh,8))}}static{this.\u0275dir=te({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ze([Xg]),Le,Ue]})}}return n})();var vh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})(),Il=class extends uo{constructor(t,e,i){super(Pl(e),Rl(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){mh(this,!1,t),t.forEach((i,o)=>{hh(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Ku(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var wi=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),r={};return Ku(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new ds(o,r)}record(e,i=null){let o=this._reduceControls(e);return new kl(o,i)}control(e,i,o){let r={};return this.useNonNullable?(Ku(i)?r=i:(r.validators=i,r.asyncValidators=o),new ar(e,rt(he({},r),{nonNullable:!0}))):new ar(e,i,o)}array(e,i,o){let r=e.map(s=>this._createControl(s));return new Il(r,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof ar)return e;if(e instanceof uo)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(i,o,r)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ur=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lr,useValue:e.callSetDisabledState??cr}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[vh]})}}return n})(),hr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:bh,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:lr,useValue:e.callSetDisabledState??cr}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[vh]})}}return n})();var mo=class{Emotion_1_label;Emotion_1_mean;Emotion_1_std;Emotion_2_label;Emotion_2_mean;Emotion_2_std;Emotion_3_label;Emotion_3_mean;Emotion_3_std;arousal;dominance;file_name;timestamp;user_id;valence;constructor(t){let e=i=>{if(typeof i=="number")return i;if(typeof i=="string"&&!isNaN(Number(i))){let o=i.startsWith("-"),r=i.replace(",",".");return o?-parseFloat(r.slice(1)):parseFloat(r)}throw new Error(`Invalid value for parseDecimal: ${i}`)};this.Emotion_1_label=t.Emotion_1_label,this.Emotion_1_mean=e(t.Emotion_1_mean),this.Emotion_1_std=e(t.Emotion_1_std),this.Emotion_2_label=t.Emotion_2_label,this.Emotion_2_mean=e(t.Emotion_2_mean),this.Emotion_2_std=e(t.Emotion_2_std),this.Emotion_3_label=t.Emotion_3_label,this.Emotion_3_mean=e(t.Emotion_3_mean),this.Emotion_3_std=e(t.Emotion_3_std),this.arousal=e(t.arousal),this.dominance=e(t.dominance),this.file_name=t.file_name,this.timestamp=t.timestamp,this.user_id=t.user_id,this.valence=e(t.valence)}};function Oh(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function Qg(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yh(n,t){return n.get(Oh(n,t))}function Kg(n,t,e){Qg(n,t),t.set(n,e)}function Zg(n,t,e){return n.set(Oh(n,t),e),e}var Jg=100,oe={},e_=()=>{oe.previousActiveElement instanceof HTMLElement?(oe.previousActiveElement.focus(),oe.previousActiveElement=null):document.body&&document.body.focus()},t_=n=>new Promise(t=>{if(!n)return t();let e=window.scrollX,i=window.scrollY;oe.restoreFocusTimeout=setTimeout(()=>{e_(),t()},Jg),window.scrollTo(e,i)}),Fh="swal2-",i_=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],M=i_.reduce((n,t)=>(n[t]=Fh+t,n),{}),n_=["success","warning","info","question","error"],gs=n_.reduce((n,t)=>(n[t]=Fh+t,n),{}),Ph="SweetAlert2:",$l=n=>n.charAt(0).toUpperCase()+n.slice(1),jt=n=>{console.warn(`${Ph} ${typeof n=="object"?n.join(" "):n}`)},Fn=n=>{console.error(`${Ph} ${n}`)},xh=[],o_=n=>{xh.includes(n)||(xh.push(n),jt(n))},Rh=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;o_(`"${n}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Ds=n=>typeof n=="function"?n():n,Yl=n=>n&&typeof n.toPromise=="function",mr=n=>Yl(n)?n.toPromise():Promise.resolve(n),ql=n=>n&&Promise.resolve(n)===n,zt=()=>document.body.querySelector(`.${M.container}`),pr=n=>{let t=zt();return t?t.querySelector(n):null},Xt=n=>pr(`.${n}`),De=()=>Xt(M.popup),bo=()=>Xt(M.icon),r_=()=>Xt(M["icon-content"]),Lh=()=>Xt(M.title),Gl=()=>Xt(M["html-container"]),Vh=()=>Xt(M.image),Xl=()=>Xt(M["progress-steps"]),Ms=()=>Xt(M["validation-message"]),Ei=()=>pr(`.${M.actions} .${M.confirm}`),vo=()=>pr(`.${M.actions} .${M.cancel}`),Pn=()=>pr(`.${M.actions} .${M.deny}`),s_=()=>Xt(M["input-label"]),yo=()=>pr(`.${M.loader}`),fr=()=>Xt(M.actions),Nh=()=>Xt(M.footer),Ss=()=>Xt(M["timer-progress-bar"]),Ql=()=>Xt(M.close),a_=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Kl=()=>{let n=De();if(!n)return[];let t=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((r,s)=>{let a=parseInt(r.getAttribute("tabindex")||"0"),l=parseInt(s.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),i=n.querySelectorAll(a_),o=Array.from(i).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(o))].filter(r=>Bt(r))},Zl=()=>Vi(document.body,M.shown)&&!Vi(document.body,M["toast-shown"])&&!Vi(document.body,M["no-backdrop"]),ks=()=>{let n=De();return n?Vi(n,M.toast):!1},l_=()=>{let n=De();return n?n.hasAttribute("data-loading"):!1},Qt=(n,t)=>{if(n.textContent="",t){let i=new DOMParser().parseFromString(t,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(s=>{n.appendChild(s)});let r=i.querySelector("body");r&&Array.from(r.childNodes).forEach(s=>{s instanceof HTMLVideoElement||s instanceof HTMLAudioElement?n.appendChild(s.cloneNode(!0)):n.appendChild(s)})}},Vi=(n,t)=>{if(!t)return!1;let e=t.split(/\s+/);for(let i=0;i<e.length;i++)if(!n.classList.contains(e[i]))return!1;return!0},c_=(n,t)=>{Array.from(n.classList).forEach(e=>{!Object.values(M).includes(e)&&!Object.values(gs).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&n.classList.remove(e)})},Gt=(n,t,e)=>{if(c_(n,t),!t.customClass)return;let i=t.customClass[e];if(i){if(typeof i!="string"&&!i.forEach){jt(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof i}"`);return}xe(n,i)}},As=(n,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return n.querySelector(`.${M.popup} > .${M[t]}`);case"checkbox":return n.querySelector(`.${M.popup} > .${M.checkbox} input`);case"radio":return n.querySelector(`.${M.popup} > .${M.radio} input:checked`)||n.querySelector(`.${M.popup} > .${M.radio} input:first-child`);case"range":return n.querySelector(`.${M.popup} > .${M.range} input`);default:return n.querySelector(`.${M.popup} > .${M.input}`)}},Bh=n=>{if(n.focus(),n.type!=="file"){let t=n.value;n.value="",n.value=t}},jh=(n,t,e)=>{!n||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(i=>{Array.isArray(n)?n.forEach(o=>{e?o.classList.add(i):o.classList.remove(i)}):e?n.classList.add(i):n.classList.remove(i)}))},xe=(n,t)=>{jh(n,t,!0)},ti=(n,t)=>{jh(n,t,!1)},sn=(n,t)=>{let e=Array.from(n.children);for(let i=0;i<e.length;i++){let o=e[i];if(o instanceof HTMLElement&&Vi(o,t))return o}},Tn=(n,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?n.style.setProperty(t,typeof e=="number"?`${e}px`:e):n.style.removeProperty(t)},ft=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=t)},kt=n=>{n&&(n.style.display="none")},Jl=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{gr(n,n.innerHTML,t)}).observe(n,{childList:!0,subtree:!0})},wh=(n,t,e,i)=>{let o=n.querySelector(t);o&&o.style.setProperty(e,i)},gr=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?ft(n,e):kt(n)},Bt=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),d_=()=>!Bt(Ei())&&!Bt(Pn())&&!Bt(vo()),Ch=n=>n.scrollHeight>n.clientHeight,zh=n=>{let t=window.getComputedStyle(n),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||i>0},ec=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=Ss();e&&Bt(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${n/1e3}s linear`,e.style.width="0%"},10))},u_=()=>{let n=Ss();if(!n)return;let t=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";let e=parseInt(window.getComputedStyle(n).width),i=t/e*100;n.style.width=`${i}%`},h_=()=>typeof window>"u"||typeof document>"u",m_=`
 <div aria-labelledby="${M.title}" aria-describedby="${M["html-container"]}" class="${M.popup}" tabindex="-1">
   <button type="button" class="${M.close}"></button>
   <ul class="${M["progress-steps"]}"></ul>
   <div class="${M.icon}"></div>
   <img class="${M.image}" />
   <h2 class="${M.title}" id="${M.title}"></h2>
   <div class="${M["html-container"]}" id="${M["html-container"]}"></div>
   <input class="${M.input}" id="${M.input}" />
   <input type="file" class="${M.file}" />
   <div class="${M.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${M.select}" id="${M.select}"></select>
   <div class="${M.radio}"></div>
   <label class="${M.checkbox}">
     <input type="checkbox" id="${M.checkbox}" />
     <span class="${M.label}"></span>
   </label>
   <textarea class="${M.textarea}" id="${M.textarea}"></textarea>
   <div class="${M["validation-message"]}" id="${M["validation-message"]}"></div>
   <div class="${M.actions}">
     <div class="${M.loader}"></div>
     <button type="button" class="${M.confirm}"></button>
     <button type="button" class="${M.deny}"></button>
     <button type="button" class="${M.cancel}"></button>
   </div>
   <div class="${M.footer}"></div>
   <div class="${M["timer-progress-bar-container"]}">
     <div class="${M["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),p_=()=>{let n=zt();return n?(n.remove(),ti([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},In=()=>{oe.currentInstance.resetValidationMessage()},f_=()=>{let n=De(),t=sn(n,M.input),e=sn(n,M.file),i=n.querySelector(`.${M.range} input`),o=n.querySelector(`.${M.range} output`),r=sn(n,M.select),s=n.querySelector(`.${M.checkbox} input`),a=sn(n,M.textarea);t.oninput=In,e.onchange=In,r.onchange=In,s.onchange=In,a.oninput=In,i.oninput=()=>{In(),o.value=i.value},i.onchange=()=>{In(),o.value=i.value}},g_=n=>typeof n=="string"?document.querySelector(n):n,__=n=>{let t=De();t.setAttribute("role",n.toast?"alert":"dialog"),t.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||t.setAttribute("aria-modal","true")},b_=n=>{window.getComputedStyle(n).direction==="rtl"&&xe(zt(),M.rtl)},v_=n=>{let t=p_();if(h_()){Fn("SweetAlert2 requires document to initialize");return}let e=document.createElement("div");e.className=M.container,t&&xe(e,M["no-transition"]),Qt(e,m_);let i=g_(n.target);i.appendChild(e),__(n),b_(i),f_()},tc=(n,t)=>{n instanceof HTMLElement?t.appendChild(n):typeof n=="object"?y_(n,t):n&&Qt(t,n)},y_=(n,t)=>{n.jquery?x_(t,n):Qt(t,n.toString())},x_=(n,t)=>{if(n.textContent="",0 in t)for(let e=0;e in t;e++)n.appendChild(t[e].cloneNode(!0));else n.appendChild(t.cloneNode(!0))},w_=(n,t)=>{let e=fr(),i=yo();!e||!i||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?kt(e):ft(e),Gt(e,t,"actions"),C_(e,i,t),Qt(i,t.loaderHtml||""),Gt(i,t,"loader"))};function C_(n,t,e){let i=Ei(),o=Pn(),r=vo();!i||!o||!r||(Bl(i,"confirm",e),Bl(o,"deny",e),Bl(r,"cancel",e),E_(i,o,r,e),e.reverseButtons&&(e.toast?(n.insertBefore(r,i),n.insertBefore(o,i)):(n.insertBefore(r,t),n.insertBefore(o,t),n.insertBefore(i,t))))}function E_(n,t,e,i){if(!i.buttonsStyling){ti([n,t,e],M.styled);return}xe([n,t,e],M.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,xe(n,M["default-outline"])),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,xe(t,M["default-outline"])),i.cancelButtonColor&&(e.style.backgroundColor=i.cancelButtonColor,xe(e,M["default-outline"]))}function Bl(n,t,e){let i=$l(t);gr(n,e[`show${i}Button`],"inline-block"),Qt(n,e[`${t}ButtonText`]||""),n.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),n.className=M[t],Gt(n,e,`${t}Button`)}var D_=(n,t)=>{let e=Ql();e&&(Qt(e,t.closeButtonHtml||""),Gt(e,t,"closeButton"),gr(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},M_=(n,t)=>{let e=zt();e&&(S_(e,t.backdrop),k_(e,t.position),A_(e,t.grow),Gt(e,t,"container"))};function S_(n,t){typeof t=="string"?n.style.background=t:t||xe([document.documentElement,document.body],M["no-backdrop"])}function k_(n,t){t&&(t in M?xe(n,M[t]):(jt('The "position" parameter is not valid, defaulting to "center"'),xe(n,M.center)))}function A_(n,t){t&&xe(n,M[`grow-${t}`])}var Ve={innerParams:new WeakMap,domCache:new WeakMap},I_=["input","file","range","select","radio","checkbox","textarea"],T_=(n,t)=>{let e=De();if(!e)return;let i=Ve.innerParams.get(n),o=!i||t.input!==i.input;I_.forEach(r=>{let s=sn(e,M[r]);s&&(P_(r,t.inputAttributes),s.className=M[r],o&&kt(s))}),t.input&&(o&&O_(t),R_(t))},O_=n=>{if(!n.input)return;if(!et[n.input]){Fn(`Unexpected type of input! Expected ${Object.keys(et).join(" | ")}, got "${n.input}"`);return}let t=Hh(n.input);if(!t)return;let e=et[n.input](t,n);ft(t),n.inputAutoFocus&&setTimeout(()=>{Bh(e)})},F_=n=>{for(let t=0;t<n.attributes.length;t++){let e=n.attributes[t].name;["id","type","value","style"].includes(e)||n.removeAttribute(e)}},P_=(n,t)=>{let e=De();if(!e)return;let i=As(e,n);if(i){F_(i);for(let o in t)i.setAttribute(o,t[o])}},R_=n=>{if(!n.input)return;let t=Hh(n.input);t&&Gt(t,n,"input")},ic=(n,t)=>{!n.placeholder&&t.inputPlaceholder&&(n.placeholder=t.inputPlaceholder)},_r=(n,t,e)=>{if(e.inputLabel){let i=document.createElement("label"),o=M["input-label"];i.setAttribute("for",n.id),i.className=o,typeof e.customClass=="object"&&xe(i,e.customClass.inputLabel),i.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",i)}},Hh=n=>{let t=De();if(t)return sn(t,M[n]||M.input)},_s=(n,t)=>{["string","number"].includes(typeof t)?n.value=`${t}`:ql(t)||jt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},et={};et.text=et.email=et.password=et.number=et.tel=et.url=et.search=et.date=et["datetime-local"]=et.time=et.week=et.month=(n,t)=>(_s(n,t.inputValue),_r(n,n,t),ic(n,t),n.type=t.input,n);et.file=(n,t)=>(_r(n,n,t),ic(n,t),n);et.range=(n,t)=>{let e=n.querySelector("input"),i=n.querySelector("output");return _s(e,t.inputValue),e.type=t.input,_s(i,t.inputValue),_r(e,n,t),n};et.select=(n,t)=>{if(n.textContent="",t.inputPlaceholder){let e=document.createElement("option");Qt(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,n.appendChild(e)}return _r(n,n,t),n};et.radio=n=>(n.textContent="",n);et.checkbox=(n,t)=>{let e=As(De(),"checkbox");e.value="1",e.checked=!!t.inputValue;let i=n.querySelector("span");return Qt(i,t.inputPlaceholder||t.inputLabel),e};et.textarea=(n,t)=>{_s(n,t.inputValue),ic(n,t),_r(n,n,t);let e=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let i=parseInt(window.getComputedStyle(De()).width),o=()=>{if(!document.body.contains(n))return;let r=n.offsetWidth+e(n);r>i?De().style.width=`${r}px`:Tn(De(),"width",t.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};var L_=(n,t)=>{let e=Gl();e&&(Jl(e),Gt(e,t,"htmlContainer"),t.html?(tc(t.html,e),ft(e,"block")):t.text?(e.textContent=t.text,ft(e,"block")):kt(e),T_(n,t))},V_=(n,t)=>{let e=Nh();e&&(Jl(e),gr(e,t.footer,"block"),t.footer&&tc(t.footer,e),Gt(e,t,"footer"))},N_=(n,t)=>{let e=Ve.innerParams.get(n),i=bo();if(i){if(e&&t.icon===e.icon){Dh(i,t),Eh(i,t);return}if(!t.icon&&!t.iconHtml){kt(i);return}if(t.icon&&Object.keys(gs).indexOf(t.icon)===-1){Fn(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),kt(i);return}ft(i),Dh(i,t),Eh(i,t),xe(i,t.showClass&&t.showClass.icon)}},Eh=(n,t)=>{for(let[e,i]of Object.entries(gs))t.icon!==e&&ti(n,i);xe(n,t.icon&&gs[t.icon]),H_(n,t),B_(),Gt(n,t,"icon")},B_=()=>{let n=De();if(!n)return;let t=window.getComputedStyle(n).getPropertyValue("background-color"),e=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<e.length;i++)e[i].style.backgroundColor=t},j_=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,z_=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Dh=(n,t)=>{if(!t.icon&&!t.iconHtml)return;let e=n.innerHTML,i="";t.iconHtml?i=Mh(t.iconHtml):t.icon==="success"?(i=j_,e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?i=z_:t.icon&&(i=Mh({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==i.trim()&&Qt(n,i)},H_=(n,t)=>{if(t.iconColor){n.style.color=t.iconColor,n.style.borderColor=t.iconColor;for(let e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wh(n,e,"background-color",t.iconColor);wh(n,".swal2-success-ring","border-color",t.iconColor)}},Mh=n=>`<div class="${M["icon-content"]}">${n}</div>`,W_=(n,t)=>{let e=Vh();if(e){if(!t.imageUrl){kt(e);return}ft(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),Tn(e,"width",t.imageWidth),Tn(e,"height",t.imageHeight),e.className=M.image,Gt(e,t,"image")}},nc=!1,Wh=0,Uh=0,$h=0,Yh=0,U_=n=>{n.addEventListener("mousedown",bs),document.body.addEventListener("mousemove",vs),n.addEventListener("mouseup",ys),n.addEventListener("touchstart",bs),document.body.addEventListener("touchmove",vs),n.addEventListener("touchend",ys)},$_=n=>{n.removeEventListener("mousedown",bs),document.body.removeEventListener("mousemove",vs),n.removeEventListener("mouseup",ys),n.removeEventListener("touchstart",bs),document.body.removeEventListener("touchmove",vs),n.removeEventListener("touchend",ys)},bs=n=>{let t=De();if(n.target===t||bo().contains(n.target)){nc=!0;let e=qh(n);Wh=e.clientX,Uh=e.clientY,$h=parseInt(t.style.insetInlineStart)||0,Yh=parseInt(t.style.insetBlockStart)||0,xe(t,"swal2-dragging")}},vs=n=>{let t=De();if(nc){let{clientX:e,clientY:i}=qh(n);t.style.insetInlineStart=`${$h+(e-Wh)}px`,t.style.insetBlockStart=`${Yh+(i-Uh)}px`}},ys=()=>{let n=De();nc=!1,ti(n,"swal2-dragging")},qh=n=>{let t=0,e=0;return n.type.startsWith("mouse")?(t=n.clientX,e=n.clientY):n.type.startsWith("touch")&&(t=n.touches[0].clientX,e=n.touches[0].clientY),{clientX:t,clientY:e}},Y_=(n,t)=>{let e=zt(),i=De();if(!(!e||!i)){if(t.toast){Tn(e,"width",t.width),i.style.width="100%";let o=yo();o&&i.insertBefore(o,bo())}else Tn(i,"width",t.width);Tn(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),kt(Ms()),q_(i,t),t.draggable&&!t.toast?(xe(i,M.draggable),U_(i)):(ti(i,M.draggable),$_(i))}},q_=(n,t)=>{let e=t.showClass||{};n.className=`${M.popup} ${Bt(n)?e.popup:""}`,t.toast?(xe([document.documentElement,document.body],M["toast-shown"]),xe(n,M.toast)):xe(n,M.modal),Gt(n,t,"popup"),typeof t.customClass=="string"&&xe(n,t.customClass),t.icon&&xe(n,M[`icon-${t.icon}`])},G_=(n,t)=>{let e=Xl();if(!e)return;let{progressSteps:i,currentProgressStep:o}=t;if(!i||i.length===0||o===void 0){kt(e);return}ft(e),e.textContent="",o>=i.length&&jt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((r,s)=>{let a=X_(r);if(e.appendChild(a),s===o&&xe(a,M["active-progress-step"]),s!==i.length-1){let l=Q_(t);e.appendChild(l)}})},X_=n=>{let t=document.createElement("li");return xe(t,M["progress-step"]),Qt(t,n),t},Q_=n=>{let t=document.createElement("li");return xe(t,M["progress-step-line"]),n.progressStepsDistance&&Tn(t,"width",n.progressStepsDistance),t},K_=(n,t)=>{let e=Lh();e&&(Jl(e),gr(e,t.title||t.titleText,"block"),t.title&&tc(t.title,e),t.titleText&&(e.innerText=t.titleText),Gt(e,t,"title"))},Gh=(n,t)=>{Y_(n,t),M_(n,t),G_(n,t),N_(n,t),W_(n,t),K_(n,t),D_(n,t),L_(n,t),w_(n,t),V_(n,t);let e=De();typeof t.didRender=="function"&&e&&t.didRender(e),oe.eventEmitter.emit("didRender",e)},Z_=()=>Bt(De()),Xh=()=>{var n;return(n=Ei())===null||n===void 0?void 0:n.click()},J_=()=>{var n;return(n=Pn())===null||n===void 0?void 0:n.click()},eb=()=>{var n;return(n=vo())===null||n===void 0?void 0:n.click()},xo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Qh=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},tb=(n,t,e)=>{Qh(n),t.toast||(n.keydownHandler=i=>nb(t,i,e),n.keydownTarget=t.keydownListenerCapture?window:De(),n.keydownListenerCapture=t.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},zl=(n,t)=>{var e;let i=Kl();if(i.length){n=n+t,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(e=De())===null||e===void 0||e.focus()},Kh=["ArrowRight","ArrowDown"],ib=["ArrowLeft","ArrowUp"],nb=(n,t,e)=>{n&&(t.isComposing||t.keyCode===229||(n.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?ob(t,n):t.key==="Tab"?rb(t):[...Kh,...ib].includes(t.key)?sb(t.key):t.key==="Escape"&&ab(t,n,e)))},ob=(n,t)=>{if(!Ds(t.allowEnterKey))return;let e=As(De(),t.input);if(n.target&&e&&n.target instanceof HTMLElement&&n.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;Xh(),n.preventDefault()}},rb=n=>{let t=n.target,e=Kl(),i=-1;for(let o=0;o<e.length;o++)if(t===e[o]){i=o;break}n.shiftKey?zl(i,-1):zl(i,1),n.stopPropagation(),n.preventDefault()},sb=n=>{let t=fr(),e=Ei(),i=Pn(),o=vo();if(!t||!e||!i||!o)return;let r=[e,i,o];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;let s=Kh.includes(n)?"nextElementSibling":"previousElementSibling",a=document.activeElement;if(a){for(let l=0;l<t.children.length;l++){if(a=a[s],!a)return;if(a instanceof HTMLButtonElement&&Bt(a))break}a instanceof HTMLButtonElement&&a.focus()}},ab=(n,t,e)=>{Ds(t.allowEscapeKey)&&(n.preventDefault(),e(xo.esc))},go={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},lb=()=>{let n=zt();Array.from(document.body.children).forEach(e=>{e.contains(n)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},Zh=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Jh=typeof window<"u"&&!!window.GestureEvent,cb=()=>{if(Jh&&!Vi(document.body,M.iosfix)){let n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,xe(document.body,M.iosfix),db()}},db=()=>{let n=zt();if(!n)return;let t;n.ontouchstart=e=>{t=ub(e)},n.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},ub=n=>{let t=n.target,e=zt(),i=Gl();return!e||!i||hb(n)||mb(n)?!1:t===e||!Ch(e)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Ch(i)&&i.contains(t))},hb=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",mb=n=>n.touches&&n.touches.length>1,pb=()=>{if(Vi(document.body,M.iosfix)){let n=parseInt(document.body.style.top,10);ti(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},fb=()=>{let n=document.createElement("div");n.className=M["scrollbar-measure"],document.body.appendChild(n);let t=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),t},po=null,gb=n=>{po===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(po=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${po+fb()}px`)},_b=()=>{po!==null&&(document.body.style.paddingRight=`${po}px`,po=null)};function em(n,t,e,i){ks()?Sh(n,i):(t_(e).then(()=>Sh(n,i)),Qh(oe)),Jh?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Zl()&&(_b(),pb(),Zh()),bb()}function bb(){ti([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function an(n){n=yb(n);let t=go.swalPromiseResolve.get(this),e=vb(this);this.isAwaitingPromise?n.isDismissed||(br(this),t(n)):e&&t(n)}var vb=n=>{let t=De();if(!t)return!1;let e=Ve.innerParams.get(n);if(!e||Vi(t,e.hideClass.popup))return!1;ti(t,e.showClass.popup),xe(t,e.hideClass.popup);let i=zt();return ti(i,e.showClass.backdrop),xe(i,e.hideClass.backdrop),xb(n,t,e),!0};function tm(n){let t=go.swalPromiseReject.get(this);br(this),t&&t(n)}var br=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ve.innerParams.get(n)||n._destroy())},yb=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),xb=(n,t,e)=>{var i;let o=zt(),r=zh(t);typeof e.willClose=="function"&&e.willClose(t),(i=oe.eventEmitter)===null||i===void 0||i.emit("willClose",t),r?wb(n,t,o,e.returnFocus,e.didClose):em(n,o,e.returnFocus,e.didClose)},wb=(n,t,e,i,o)=>{oe.swalCloseEventFinishedCallback=em.bind(null,n,e,i,o);let r=function(s){if(s.target===t){var a;(a=oe.swalCloseEventFinishedCallback)===null||a===void 0||a.call(oe),delete oe.swalCloseEventFinishedCallback,t.removeEventListener("animationend",r),t.removeEventListener("transitionend",r)}};t.addEventListener("animationend",r),t.addEventListener("transitionend",r)},Sh=(n,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(n.params)(),(e=oe.eventEmitter)===null||e===void 0||e.emit("didClose"),n._destroy&&n._destroy()})},_o=n=>{let t=De();if(t||new gt,t=De(),!t)return;let e=yo();ks()?kt(bo()):Cb(t,n),ft(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Cb=(n,t)=>{let e=fr(),i=yo();!e||!i||(!t&&Bt(Ei())&&(t=Ei()),ft(e),t&&(kt(t),i.setAttribute("data-button-to-replace",t.className),e.insertBefore(i,t)),xe([n,e],M.loading))},Eb=(n,t)=>{t.input==="select"||t.input==="radio"?Ab(n,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Yl(t.inputValue)||ql(t.inputValue))&&(_o(Ei()),Ib(n,t))},Db=(n,t)=>{let e=n.getInput();if(!e)return null;switch(t.input){case"checkbox":return Mb(e);case"radio":return Sb(e);case"file":return kb(e);default:return t.inputAutoTrim?e.value.trim():e.value}},Mb=n=>n.checked?1:0,Sb=n=>n.checked?n.value:null,kb=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,Ab=(n,t)=>{let e=De();if(!e)return;let i=o=>{t.input==="select"?Tb(e,xs(o),t):t.input==="radio"&&Ob(e,xs(o),t)};Yl(t.inputOptions)||ql(t.inputOptions)?(_o(Ei()),mr(t.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof t.inputOptions=="object"?i(t.inputOptions):Fn(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Ib=(n,t)=>{let e=n.getInput();e&&(kt(e),mr(t.inputValue).then(i=>{e.value=t.input==="number"?`${parseFloat(i)||0}`:`${i}`,ft(e),e.focus(),n.hideLoading()}).catch(i=>{Fn(`Error in inputValue promise: ${i}`),e.value="",ft(e),e.focus(),n.hideLoading()}))};function Tb(n,t,e){let i=sn(n,M.select);if(!i)return;let o=(r,s,a)=>{let l=document.createElement("option");l.value=a,Qt(l,s),l.selected=im(a,e.inputValue),r.appendChild(l)};t.forEach(r=>{let s=r[0],a=r[1];if(Array.isArray(a)){let l=document.createElement("optgroup");l.label=s,l.disabled=!1,i.appendChild(l),a.forEach(c=>o(l,c[1],c[0]))}else o(i,a,s)}),i.focus()}function Ob(n,t,e){let i=sn(n,M.radio);if(!i)return;t.forEach(r=>{let s=r[0],a=r[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=M.radio,l.value=s,im(s,e.inputValue)&&(l.checked=!0);let d=document.createElement("span");Qt(d,a),d.className=M.label,c.appendChild(l),c.appendChild(d),i.appendChild(c)});let o=i.querySelectorAll("input");o.length&&o[0].focus()}var xs=n=>{let t=[];return n instanceof Map?n.forEach((e,i)=>{let o=e;typeof o=="object"&&(o=xs(o)),t.push([i,o])}):Object.keys(n).forEach(e=>{let i=n[e];typeof i=="object"&&(i=xs(i)),t.push([e,i])}),t},im=(n,t)=>!!t&&t.toString()===n.toString(),Fb=n=>{let t=Ve.innerParams.get(n);n.disableButtons(),t.input?nm(n,"confirm"):rc(n,!0)},Pb=n=>{let t=Ve.innerParams.get(n);n.disableButtons(),t.returnInputValueOnDeny?nm(n,"deny"):oc(n,!1)},Rb=(n,t)=>{n.disableButtons(),t(xo.cancel)},nm=(n,t)=>{let e=Ve.innerParams.get(n);if(!e.input){Fn(`The "input" parameter is needed to be set when using returnInputValueOn${$l(t)}`);return}let i=n.getInput(),o=Db(n,e);e.inputValidator?Lb(n,o,t):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(e.validationMessage||i.validationMessage)):t==="deny"?oc(n,o):rc(n,o)},Lb=(n,t,e)=>{let i=Ve.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>mr(i.inputValidator(t,i.validationMessage))).then(r=>{n.enableButtons(),n.enableInput(),r?n.showValidationMessage(r):e==="deny"?oc(n,t):rc(n,t)})},oc=(n,t)=>{let e=Ve.innerParams.get(n||void 0);e.showLoaderOnDeny&&_o(Pn()),e.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>mr(e.preDeny(t,e.validationMessage))).then(o=>{o===!1?(n.hideLoading(),br(n)):n.close({isDenied:!0,value:typeof o>"u"?t:o})}).catch(o=>om(n||void 0,o))):n.close({isDenied:!0,value:t})},kh=(n,t)=>{n.close({isConfirmed:!0,value:t})},om=(n,t)=>{n.rejectPromise(t)},rc=(n,t)=>{let e=Ve.innerParams.get(n||void 0);e.showLoaderOnConfirm&&_o(),e.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>mr(e.preConfirm(t,e.validationMessage))).then(o=>{Bt(Ms())||o===!1?(n.hideLoading(),br(n)):kh(n,typeof o>"u"?t:o)}).catch(o=>om(n||void 0,o))):kh(n,t)};function ws(){let n=Ve.innerParams.get(this);if(!n)return;let t=Ve.domCache.get(this);kt(t.loader),ks()?n.icon&&ft(bo()):Vb(t),ti([t.popup,t.actions],M.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}var Vb=n=>{let t=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));t.length?ft(t[0],"inline-block"):d_()&&kt(n.actions)};function rm(){let n=Ve.innerParams.get(this),t=Ve.domCache.get(this);return t?As(t.popup,n.input):null}function sm(n,t,e){let i=Ve.domCache.get(n);t.forEach(o=>{i[o].disabled=e})}function am(n,t){let e=De();if(!(!e||!n))if(n.type==="radio"){let i=e.querySelectorAll(`[name="${M.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=t}else n.disabled=t}function lm(){sm(this,["confirmButton","denyButton","cancelButton"],!1)}function cm(){sm(this,["confirmButton","denyButton","cancelButton"],!0)}function dm(){am(this.getInput(),!1)}function um(){am(this.getInput(),!0)}function hm(n){let t=Ve.domCache.get(this),e=Ve.innerParams.get(this);Qt(t.validationMessage,n),t.validationMessage.className=M["validation-message"],e.customClass&&e.customClass.validationMessage&&xe(t.validationMessage,e.customClass.validationMessage),ft(t.validationMessage);let i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",M["validation-message"]),Bh(i),xe(i,M.inputerror))}function mm(){let n=Ve.domCache.get(this);n.validationMessage&&kt(n.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ti(t,M.inputerror))}var fo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Nb=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Bb={allowEnterKey:void 0},jb=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],pm=n=>Object.prototype.hasOwnProperty.call(fo,n),fm=n=>Nb.indexOf(n)!==-1,gm=n=>Bb[n],zb=n=>{pm(n)||jt(`Unknown parameter "${n}"`)},Hb=n=>{jb.includes(n)&&jt(`The parameter "${n}" is incompatible with toasts`)},Wb=n=>{let t=gm(n);t&&Rh(n,t)},Ub=n=>{n.backdrop===!1&&n.allowOutsideClick&&jt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let t in n)zb(t),n.toast&&Hb(t),Wb(t)};function _m(n){let t=De(),e=Ve.innerParams.get(this);if(!t||Vi(t,e.hideClass.popup)){jt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let i=$b(n),o=Object.assign({},e,i);Gh(this,o),Ve.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}var $b=n=>{let t={};return Object.keys(n).forEach(e=>{fm(e)?t[e]=n[e]:jt(`Invalid parameter to update: ${e}`)}),t};function bm(){let n=Ve.domCache.get(this),t=Ve.innerParams.get(this);if(!t){vm(this);return}n.popup&&oe.swalCloseEventFinishedCallback&&(oe.swalCloseEventFinishedCallback(),delete oe.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),oe.eventEmitter.emit("didDestroy"),Yb(this)}var Yb=n=>{vm(n),delete n.params,delete oe.keydownHandler,delete oe.keydownTarget,delete oe.currentInstance},vm=n=>{n.isAwaitingPromise?(jl(Ve,n),n.isAwaitingPromise=!0):(jl(go,n),jl(Ve,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},jl=(n,t)=>{for(let e in n)n[e].delete(t)},qb=Object.freeze({__proto__:null,_destroy:bm,close:an,closeModal:an,closePopup:an,closeToast:an,disableButtons:cm,disableInput:um,disableLoading:ws,enableButtons:lm,enableInput:dm,getInput:rm,handleAwaitingPromise:br,hideLoading:ws,rejectPromise:tm,resetValidationMessage:mm,showValidationMessage:hm,update:_m}),Gb=(n,t,e)=>{n.toast?Xb(n,t,e):(Kb(t),Zb(t),Jb(n,t,e))},Xb=(n,t,e)=>{t.popup.onclick=()=>{n&&(Qb(n)||n.timer||n.input)||e(xo.close)}},Qb=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton),Cs=!1,Kb=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(t){n.container.onmouseup=()=>{},t.target===n.container&&(Cs=!0)}}},Zb=n=>{n.container.onmousedown=t=>{t.target===n.container&&t.preventDefault(),n.popup.onmouseup=function(e){n.popup.onmouseup=()=>{},(e.target===n.popup||e.target instanceof HTMLElement&&n.popup.contains(e.target))&&(Cs=!0)}}},Jb=(n,t,e)=>{t.container.onclick=i=>{if(Cs){Cs=!1;return}i.target===t.container&&Ds(n.allowOutsideClick)&&e(xo.backdrop)}},e0=n=>typeof n=="object"&&n.jquery,Ah=n=>n instanceof Element||e0(n),t0=n=>{let t={};return typeof n[0]=="object"&&!Ah(n[0])?Object.assign(t,n[0]):["title","html","icon"].forEach((e,i)=>{let o=n[i];typeof o=="string"||Ah(o)?t[e]=o:o!==void 0&&Fn(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof o}`)}),t};function i0(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return new this(...t)}function n0(n){class t extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return t}var o0=()=>oe.timeout&&oe.timeout.getTimerLeft(),ym=()=>{if(oe.timeout)return u_(),oe.timeout.stop()},xm=()=>{if(oe.timeout){let n=oe.timeout.start();return ec(n),n}},r0=()=>{let n=oe.timeout;return n&&(n.running?ym():xm())},s0=n=>{if(oe.timeout){let t=oe.timeout.increase(n);return ec(t,!0),t}},a0=()=>!!(oe.timeout&&oe.timeout.isRunning()),Ih=!1,Hl={};function l0(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Hl[n]=this,Ih||(document.body.addEventListener("click",c0),Ih=!0)}var c0=n=>{for(let t=n.target;t&&t!==document;t=t.parentNode)for(let e in Hl){let i=t.getAttribute(e);if(i){Hl[e].fire({template:i});return}}},Wl=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){let i=this._getHandlersByEventName(t);i.includes(e)||i.push(e)}once(t,e){var i=this;let o=function(){i.removeListener(t,o);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];e.apply(i,s)};this.on(t,o)}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this._getHandlersByEventName(t).forEach(r=>{try{r.apply(this,i)}catch(s){console.error(s)}})}removeListener(t,e){let i=this._getHandlersByEventName(t),o=i.indexOf(e);o>-1&&i.splice(o,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};oe.eventEmitter=new Wl;var d0=(n,t)=>{oe.eventEmitter.on(n,t)},u0=(n,t)=>{oe.eventEmitter.once(n,t)},h0=(n,t)=>{if(!n){oe.eventEmitter.reset();return}t?oe.eventEmitter.removeListener(n,t):oe.eventEmitter.removeAllListeners(n)},m0=Object.freeze({__proto__:null,argsToParams:t0,bindClickHandler:l0,clickCancel:eb,clickConfirm:Xh,clickDeny:J_,enableLoading:_o,fire:i0,getActions:fr,getCancelButton:vo,getCloseButton:Ql,getConfirmButton:Ei,getContainer:zt,getDenyButton:Pn,getFocusableElements:Kl,getFooter:Nh,getHtmlContainer:Gl,getIcon:bo,getIconContent:r_,getImage:Vh,getInputLabel:s_,getLoader:yo,getPopup:De,getProgressSteps:Xl,getTimerLeft:o0,getTimerProgressBar:Ss,getTitle:Lh,getValidationMessage:Ms,increaseTimer:s0,isDeprecatedParameter:gm,isLoading:l_,isTimerRunning:a0,isUpdatableParameter:fm,isValidParameter:pm,isVisible:Z_,mixin:n0,off:h0,on:d0,once:u0,resumeTimer:xm,showLoading:_o,stopTimer:ym,toggleTimer:r0}),Ul=class{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){let e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}},wm=["swal-title","swal-html","swal-footer"],p0=n=>{let t=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!t)return{};let e=t.content;return w0(e),Object.assign(f0(e),g0(e),_0(e),b0(e),v0(e),y0(e),x0(e,wm))},f0=n=>{let t={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{On(i,["name","value"]);let o=i.getAttribute("name"),r=i.getAttribute("value");!o||!r||(typeof fo[o]=="boolean"?t[o]=r!=="false":typeof fo[o]=="object"?t[o]=JSON.parse(r):t[o]=r)}),t},g0=n=>{let t={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{let o=i.getAttribute("name"),r=i.getAttribute("value");!o||!r||(t[o]=new Function(`return ${r}`)())}),t},_0=n=>{let t={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{On(i,["type","color","aria-label"]);let o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(t[`${o}ButtonText`]=i.innerHTML,t[`show${$l(o)}Button`]=!0,i.hasAttribute("color")&&(t[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(t[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),t},b0=n=>{let t={},e=n.querySelector("swal-image");return e&&(On(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},v0=n=>{let t={},e=n.querySelector("swal-icon");return e&&(On(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},y0=n=>{let t={},e=n.querySelector("swal-input");e&&(On(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));let i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(t.inputOptions={},i.forEach(o=>{On(o,["value"]);let r=o.getAttribute("value");if(!r)return;let s=o.innerHTML;t.inputOptions[r]=s})),t},x0=(n,t)=>{let e={};for(let i in t){let o=t[i],r=n.querySelector(o);r&&(On(r,[]),e[o.replace(/^swal-/,"")]=r.innerHTML.trim())}return e},w0=n=>{let t=wm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(e=>{let i=e.tagName.toLowerCase();t.includes(i)||jt(`Unrecognized element <${i}>`)})},On=(n,t)=>{Array.from(n.attributes).forEach(e=>{t.indexOf(e.name)===-1&&jt([`Unrecognized attribute "${e.name}" on <${n.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},Cm=10,C0=n=>{let t=zt(),e=De();typeof n.willOpen=="function"&&n.willOpen(e),oe.eventEmitter.emit("willOpen",e);let o=window.getComputedStyle(document.body).overflowY;M0(t,e,n),setTimeout(()=>{E0(t,e)},Cm),Zl()&&(D0(t,n.scrollbarPadding,o),lb()),!ks()&&!oe.previousActiveElement&&(oe.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(e)),oe.eventEmitter.emit("didOpen",e),ti(t,M["no-transition"])},Es=n=>{let t=De();if(n.target!==t)return;let e=zt();t.removeEventListener("animationend",Es),t.removeEventListener("transitionend",Es),e.style.overflowY="auto"},E0=(n,t)=>{zh(t)?(n.style.overflowY="hidden",t.addEventListener("animationend",Es),t.addEventListener("transitionend",Es)):n.style.overflowY="auto"},D0=(n,t,e)=>{cb(),t&&e!=="hidden"&&gb(e),setTimeout(()=>{n.scrollTop=0})},M0=(n,t,e)=>{xe(n,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),ft(t,"grid"),setTimeout(()=>{xe(t,e.showClass.popup),t.style.removeProperty("opacity")},Cm)):ft(t,"grid"),xe([document.documentElement,document.body],M.shown),e.heightAuto&&e.backdrop&&!e.toast&&xe([document.documentElement,document.body],M["height-auto"])},Th={email:(n,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(n,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function S0(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Th.email),n.input==="url"&&(n.inputValidator=Th.url))}function k0(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(jt('Target parameter is not valid, defaulting to "body"'),n.target="body")}function A0(n){S0(n),n.showLoaderOnConfirm&&!n.preConfirm&&jt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),k0(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),v_(n)}var Ci,fs=new WeakMap,Ye=class{constructor(){if(Kg(this,fs,void 0),typeof window>"u")return;Ci=this;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let o=Object.freeze(this.constructor.argsToParams(e));this.params=o,this.isAwaitingPromise=!1,Zg(fs,this,this._main(Ci.params))}_main(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ub(Object.assign({},e,t)),oe.currentInstance){let r=go.swalPromiseResolve.get(oe.currentInstance),{isAwaitingPromise:s}=oe.currentInstance;oe.currentInstance._destroy(),s||r({isDismissed:!0}),Zl()&&Zh()}oe.currentInstance=Ci;let i=T0(t,e);A0(i),Object.freeze(i),oe.timeout&&(oe.timeout.stop(),delete oe.timeout),clearTimeout(oe.restoreFocusTimeout);let o=O0(Ci);return Gh(Ci,i),Ve.innerParams.set(Ci,i),I0(Ci,o,i)}then(t){return yh(fs,this).then(t)}finally(t){return yh(fs,this).finally(t)}},I0=(n,t,e)=>new Promise((i,o)=>{let r=s=>{n.close({isDismissed:!0,dismiss:s})};go.swalPromiseResolve.set(n,i),go.swalPromiseReject.set(n,o),t.confirmButton.onclick=()=>{Fb(n)},t.denyButton.onclick=()=>{Pb(n)},t.cancelButton.onclick=()=>{Rb(n,r)},t.closeButton.onclick=()=>{r(xo.close)},Gb(e,t,r),tb(oe,e,r),Eb(n,e),C0(e),F0(oe,e,r),P0(t,e),setTimeout(()=>{t.container.scrollTop=0})}),T0=(n,t)=>{let e=p0(n),i=Object.assign({},fo,t,e,n);return i.showClass=Object.assign({},fo.showClass,i.showClass),i.hideClass=Object.assign({},fo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},O0=n=>{let t={popup:De(),container:zt(),actions:fr(),confirmButton:Ei(),denyButton:Pn(),cancelButton:vo(),loader:yo(),closeButton:Ql(),validationMessage:Ms(),progressSteps:Xl()};return Ve.domCache.set(n,t),t},F0=(n,t,e)=>{let i=Ss();kt(i),t.timer&&(n.timeout=new Ul(()=>{e("timer"),delete n.timeout},t.timer),t.timerProgressBar&&(ft(i),Gt(i,t,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&ec(t.timer)})))},P0=(n,t)=>{if(!t.toast){if(!Ds(t.allowEnterKey)){Rh("allowEnterKey"),V0();return}R0(n)||L0(n,t)||zl(-1,1)}},R0=n=>{let t=Array.from(n.popup.querySelectorAll("[autofocus]"));for(let e of t)if(e instanceof HTMLElement&&Bt(e))return e.focus(),!0;return!1},L0=(n,t)=>t.focusDeny&&Bt(n.denyButton)?(n.denyButton.focus(),!0):t.focusCancel&&Bt(n.cancelButton)?(n.cancelButton.focus(),!0):t.focusConfirm&&Bt(n.confirmButton)?(n.confirmButton.focus(),!0):!1,V0=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let n=new Date,t=localStorage.getItem("swal-initiation");t?(n.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}Ye.prototype.disableButtons=cm;Ye.prototype.enableButtons=lm;Ye.prototype.getInput=rm;Ye.prototype.disableInput=um;Ye.prototype.enableInput=dm;Ye.prototype.hideLoading=ws;Ye.prototype.disableLoading=ws;Ye.prototype.showValidationMessage=hm;Ye.prototype.resetValidationMessage=mm;Ye.prototype.close=an;Ye.prototype.closePopup=an;Ye.prototype.closeModal=an;Ye.prototype.closeToast=an;Ye.prototype.rejectPromise=tm;Ye.prototype.update=_m;Ye.prototype._destroy=bm;Object.assign(Ye,m0);Object.keys(qb).forEach(n=>{Ye[n]=function(){return Ci&&Ci[n]?Ci[n](...arguments):null}});Ye.DismissReason=xo;Ye.version="11.15.10";var gt=Ye;gt.default=gt;typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var At=class n{apiUrl="http://127.0.0.1:5000";apiUrlForceAlignment="http://127.0.0.1:5001";constructor(){}getApiUrl(){return this.apiUrl}getApiUrlForceAlignment(){return this.apiUrlForceAlignment}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var ln=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrl()}apiUrl;getTimePeriods(){return this.http.get(`${this.apiUrl}/getTimePeriods`)}getIds(){return this.http.get(`${this.apiUrl}/ids`)}getShifts(){return this.http.get(`${this.apiUrl}/getShifts`)}getEmotions(){return this.http.get(`${this.apiUrl}/getEmotions`)}filterRecords(t){return this.http.post(`${this.apiUrl}/records/id`,t)}filterByShifts(t){return this.http.post(`${this.apiUrl}/records/shift`,t)}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var ii=class n{chartDataSource=new Qn({data:[],time:"",userId:""});chartData$=this.chartDataSource.asObservable();constructor(){}updateChartData(t,e,i){let o={data:t,time:e,userId:i};this.chartDataSource.next(o),console.log(this.chartData$)}deleteChartData(){let t={data:[],time:"",userId:""};this.chartDataSource.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var N0=["content"],B0=["scroll"],j0=["padding"],Mm=["*"],xr=n=>({searchTerm:n});function z0(n,t){if(n&1&&(v(0,"div",3),qa(1,6),g()),n&2){let e=U();E(),T("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Pi(2,xr,e.filterValue))}}function H0(n,t){if(n&1&&(v(0,"div",5),qa(1,6),g()),n&2){let e=U();E(),T("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Pi(2,xr,e.filterValue))}}var W0=["searchInput"],U0=["clearButton"],$0=(n,t,e)=>({item:n,clear:t,label:e}),Y0=(n,t)=>({items:n,clear:t}),q0=(n,t,e,i)=>({item:n,item$:t,index:e,searchTerm:i});function G0(n,t){if(n&1&&(v(0,"div",20),S(1),g()),n&2){let e=U(2);E(),li(e.placeholder)}}function X0(n,t){}function Q0(n,t){if(n&1&&X(0,G0,2,1,"ng-template",null,1,_i)(2,X0,0,0,"ng-template",19),n&2){let e=Zt(1),i=U();E(2),T("ngTemplateOutlet",i.placeholderTemplate||e)}}function K0(n,t){if(n&1){let e=ye();v(0,"span",23),B("click",function(){ie(e);let o=U().$implicit,r=U(2);return ne(r.unselect(o))}),S(1,"\xD7"),g(),V(2,"span",24)}if(n&2){let e=U().$implicit,i=U(2);E(2),T("ngItemLabel",e.label)("escape",i.escapeHTML)}}function Z0(n,t){}function J0(n,t){if(n&1&&(v(0,"div",22),X(1,K0,3,2,"ng-template",null,2,_i)(3,Z0,0,0,"ng-template",12),g()),n&2){let e=t.$implicit,i=Zt(2),o=U(2);fe("ng-value-disabled",e.disabled),E(3),T("ngTemplateOutlet",o.labelTemplate||i)("ngTemplateOutletContext",qd(4,$0,e.value,o.clearItem,e.label))}}function ev(n,t){if(n&1&&Xr(0,J0,4,8,"div",21,Ya().trackByOption,!0),n&2){let e=U();Qr(e.selectedItems)}}function tv(n,t){}function iv(n,t){if(n&1&&X(0,tv,0,0,"ng-template",12),n&2){let e=U();T("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",Yd(2,Y0,e.selectedValues,e.clearItem))}}function nv(n,t){n&1&&V(0,"div",25)}function ov(n,t){}function rv(n,t){if(n&1&&X(0,nv,1,0,"ng-template",null,3,_i)(2,ov,0,0,"ng-template",19),n&2){let e=Zt(1),i=U();E(2),T("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function sv(n,t){if(n&1&&(v(0,"span",15,4)(2,"span",26),S(3,"\xD7"),g()()),n&2){let e=U();$d("title",e.clearAllText)}}function av(n,t){if(n&1&&V(0,"span",31),n&2){let e=U().$implicit,i=U(2);T("ngItemLabel",e.label)("escape",i.escapeHTML)}}function lv(n,t){}function cv(n,t){if(n&1){let e=ye();v(0,"div",30),B("click",function(){let o=ie(e).$implicit,r=U(2);return ne(r.toggleItem(o))})("mouseover",function(){let o=ie(e).$implicit,r=U(2);return ne(r.onItemHover(o))}),X(1,av,1,2,"ng-template",null,5,_i)(3,lv,0,0,"ng-template",12),g()}if(n&2){let e=t.$implicit,i=Zt(2),o=U(2);fe("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===o.itemsList.markedItem),Ct("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),E(3),T("ngTemplateOutlet",e.children?o.optgroupTemplate||i:o.optionTemplate||i)("ngTemplateOutletContext",Gd(17,q0,e.value,e,e.index,o.searchTerm))}}function dv(n,t){if(n&1&&(v(0,"span")(1,"span",33),S(2),g(),S(3),g()),n&2){let e=U(3);E(2),li(e.addTagText),E(),st('"',e.searchTerm,'"')}}function uv(n,t){}function hv(n,t){if(n&1){let e=ye();v(0,"div",32),B("mouseover",function(){ie(e);let o=U(2);return ne(o.itemsList.unmarkItem())})("click",function(){ie(e);let o=U(2);return ne(o.selectTag())}),X(1,dv,4,2,"ng-template",null,6,_i)(3,uv,0,0,"ng-template",12),g()}if(n&2){let e=Zt(2),i=U(2);fe("ng-option-marked",!i.itemsList.markedItem),E(3),T("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",Pi(4,xr,i.searchTerm))}}function mv(n,t){if(n&1&&(v(0,"div",34),S(1),g()),n&2){let e=U(3);E(),li(e.notFoundText)}}function pv(n,t){}function fv(n,t){if(n&1&&X(0,mv,2,1,"ng-template",null,7,_i)(2,pv,0,0,"ng-template",12),n&2){let e=Zt(1),i=U(2);E(2),T("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",Pi(2,xr,i.searchTerm))}}function gv(n,t){if(n&1&&(v(0,"div",34),S(1),g()),n&2){let e=U(3);E(),li(e.typeToSearchText)}}function _v(n,t){}function bv(n,t){if(n&1&&X(0,gv,2,1,"ng-template",null,8,_i)(2,_v,0,0,"ng-template",19),n&2){let e=Zt(1),i=U(2);E(2),T("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function vv(n,t){if(n&1&&(v(0,"div",34),S(1),g()),n&2){let e=U(3);E(),li(e.loadingText)}}function yv(n,t){}function xv(n,t){if(n&1&&X(0,vv,2,1,"ng-template",null,9,_i)(2,yv,0,0,"ng-template",12),n&2){let e=Zt(1),i=U(2);E(2),T("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",Pi(2,xr,i.searchTerm))}}function wv(n,t){if(n&1){let e=ye();v(0,"ng-dropdown-panel",27),B("update",function(o){ie(e);let r=U();return ne(r.viewPortItems=o)})("scroll",function(o){ie(e);let r=U();return ne(r.scroll.emit(o))})("scrollToEnd",function(o){ie(e);let r=U();return ne(r.scrollToEnd.emit(o))})("outsideClick",function(){ie(e);let o=U();return ne(o.close())}),Wd(1),Xr(2,cv,4,22,"div",28,Ya().trackByOption,!0),X(4,hv,4,6,"div",29),Ud(),X(5,fv,3,4)(6,bv,3,1)(7,xv,3,4),g()}if(n&2){let e=U();fe("ng-select-multiple",e.multiple),T("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId),E(2),Qr(e.viewPortItems),E(2),mt(e.showAddTag?4:-1),E(),mt(e.showNoItemsFound()?5:-1),E(),mt(e.showTypeToSearch()?6:-1),E(),mt(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}var Sm=/[&<>"']/g,Cv=RegExp(Sm.source),Ev={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Dv(n){return n&&Cv.test(n)?n.replace(Sm,t=>Ev[t]):n}function qe(n){return n!=null}function yr(n){return typeof n=="object"&&qe(n)}function Mv(n){return n instanceof Promise}function Ts(n){return n instanceof Function}var Sv=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?Dv(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(i){return new(i||n)(x(pe))}}static{this.\u0275dir=te({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},standalone:!0,features:[Ue]})}}return n})(),kv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-option-tmp",""]],standalone:!0})}}return n})(),Av=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-optgroup-tmp",""]],standalone:!0})}}return n})(),Iv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-label-tmp",""]],standalone:!0})}}return n})(),Tv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-multi-label-tmp",""]],standalone:!0})}}return n})(),Ov=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-header-tmp",""]],standalone:!0})}}return n})(),Fv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-footer-tmp",""]],standalone:!0})}}return n})(),Pv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-notfound-tmp",""]],standalone:!0})}}return n})(),Rv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-placeholder-tmp",""]],standalone:!0})}}return n})(),Lv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-typetosearch-tmp",""]],standalone:!0})}}return n})(),Vv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-loadingtext-tmp",""]],standalone:!0})}}return n})(),Nv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-tag-tmp",""]],standalone:!0})}}return n})(),Bv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(x(ve))}}static{this.\u0275dir=te({type:n,selectors:[["","ng-loadingspinner-tmp",""]],standalone:!0})}}return n})();function km(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var jv={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Is(n){let t=e=>jv[e]||e;return n.replace(/[^\u0000-\u007E]/g,t)}var ac=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&qe(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=i=>this._ngSelect.compareWith(i.value,t):this._ngSelect.bindValue?e=i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===t:e=i=>i.value===t||!i.children&&i.label&&i.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Is(t).toLocaleLowerCase(),this.filteredItems.find(e=>Is(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Is(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(let o of Array.from(this._groups.keys())){let r=[];for(let s of this._groups.get(o)){if(i&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn?s.value:s;e(t,a)&&r.push(s)}if(r.length>0){let[s]=r.slice(-1);if(s.parent){let a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...r)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(t,e){if(!yr(t))return t;if(e.indexOf(".")===-1)return t[e];{let i=e.split("."),o=t;for(let r=0,s=i.length;r<s;++r){if(o==null)return null;o=o[i[r]]}return o}}mapItem(t,e){let i=qe(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),o=qe(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:qe(i)?i.toString():"",value:o,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,o=qe(i)?this.findItem(i):null;this._selectionModel.unselect(e,t),this._selectionModel.select(o||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(o=>o===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return Is(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let i=new Map;if(t.length===0)return i;if(Array.isArray(t[0].value[e])){for(let s of t){let a=(s.value[e]||[]).map((l,c)=>this.mapItem(l,c));i.set(s,a)}return i}let o=Ts(this._ngSelect.groupBy),r=s=>{let a=o?e(s.value):s.value[e];return qe(a)?a:void 0};for(let s of t){let a=r(s),l=i.get(a);l?l.push(s):i.set(a,[s])}return i}_flatten(t){let e=Ts(this._ngSelect.groupBy),i=[];for(let o of Array.from(t.keys())){let r=i.length;if(o===void 0){let u=t.get(void 0)||[];i.push(...u.map(h=>(h.index=r++,h)));continue}let s=yr(o),a={label:s?"":String(o),children:void 0,parent:null,index:r++,disabled:!this._ngSelect.selectableGroup,htmlId:km()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>s?o.value:{[l]:o}),d=t.get(o).map(u=>(u.parent=a,u.children=void 0,u.index=r++,u));a.children=d,a.value=c(o,d.map(u=>u.value)),i.push(a),i.push(...d)}return i}},Di=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace",n}(Di||{}),Am=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,o){let r=this._dimensions,s=r.itemHeight*i,l=Math.max(0,e)/s*i,c=Math.min(i,Math.ceil(l)+(r.itemsPerViewport+1)),u=Math.max(0,c-r.itemsPerViewport),h=Math.min(u,Math.floor(l)),m=r.itemHeight*Math.ceil(h)-r.itemHeight*Math.min(h,o);return m=isNaN(m)?0:m,h=isNaN(h)?-1:h,c=isNaN(c)?-1:c,h-=o,h=Math.max(0,h),c+=o,c=Math.min(i,c),{topPadding:m,scrollHeight:s,start:h,end:c}}setDimensions(e,i){let o=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:o}}getScrollTo(e,i,o){let{panelHeight:r}=this.dimensions,s=e+i,a=o,l=a+r;return r>=s&&o===e?null:s>l?a+s-l:e<=a?e:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Em=["top","right","bottom","left"],zv=typeof requestAnimationFrame<"u"?$a:Ua,Dm=(()=>{class n{constructor(e,i,o,r,s){this._renderer=e,this._zone=i,this._panelService=o,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new ue,this.scroll=new ue,this.scrollToEnd=new ue,this.outsideClick=new ue,this._destroy$=new _e,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:i}=this._panelService.dimensions,o=this.markedItem.index*e;return i>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;let o=this.items.indexOf(e);if(o<0||o>=this.itemsLength)return;let r;if(this.virtualScroll){let s=this._panelService.dimensions.itemHeight;r=this._panelService.getScrollTo(o*s,s,this._lastScrollPosition)}else{let s=this._dropdown.querySelector(`#${e.htmlId}`),a=i?s.offsetTop:this._lastScrollPosition;r=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,a)}qe(r)&&(this._scrollablePanel.scrollTop=r)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Em.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){Em.forEach(o=>{let r=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,r),this._renderer.removeClass(this._select,r)});let i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{yn(this.scrollElementRef.nativeElement,"scroll").pipe(Rt(this._destroy$),$o(0,zv)).subscribe(e=>{let i=e.path||e.composedPath&&e.composedPath();if(!i||i.length===0&&!e.target)return;let o=!i||i.length===0?e.target.scrollTop:i[0].scrollTop;this._onContentScrolled(o)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Oi(yn(this._document,"touchstart",{capture:!0}),yn(this._document,"click",{capture:!0})).pipe(Rt(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let i=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,i),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let i=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),qe(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let o=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${o*this.itemsLength}px`;let r=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(o,r),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let i=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=i.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let i=this._select.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop,r=i.top+window.pageYOffset,s=i.height,a=e.getBoundingClientRect().height;return r+s+a>o+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=e.left-i.left;this._dropdown.style.left=o+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=e.height;if(this._currentPosition==="top"){let r=i.bottom-e.bottom;this._dropdown.style.bottom=r+o+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let r=e.top-i.top;this._dropdown.style.top=r+o+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{yn(this._dropdown,"mousedown").pipe(Rt(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(i){return new(i||n)(x(Jn),x(Fe),x(Am),x(pe),x(Me,8))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,o){if(i&1&&(Se(N0,7,pe),Se(B0,7,pe),Se(j0,7,pe)),i&2){let r;le(r=ce())&&(o.contentElementRef=r.first),le(r=ce())&&(o.scrollElementRef=r.first),le(r=ce())&&(o.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Ee],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},standalone:!0,features:[bt,Ue,Go],ngContentSelectors:Mm,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(vt(),X(0,z0,2,4,"div",3),v(1,"div",4,0),V(3,"div",null,1),v(5,"div",null,2),je(7),g()(),X(8,H0,2,4,"div",5)),i&2&&(mt(o.headerTemplate?0:-1),E(3),fe("total-padding",o.virtualScroll),E(2),fe("scrollable-content",o.virtualScroll&&o.items.length),E(3),mt(o.footerTemplate?8:-1))},dependencies:[el],encapsulation:2,changeDetection:0})}}return n})(),Hv=(()=>{class n{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new _e}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(i){return new(i||n)(x(pe))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Ee]},standalone:!0,features:[bt,Ue,Go],ngContentSelectors:Mm,decls:1,vars:0,template:function(i,o){i&1&&(vt(),je(0))},encapsulation:2,changeDetection:0})}}return n})();function Im(){return new lc}var lc=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){let o=t.parent.children.length,r=t.parent.children.filter(s=>s.selected).length;t.parent.selected=o===r}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),i&&this._activeChildren(t)?this._selected=[...this._selected.filter(o=>o.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(o=>!o.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(o=>o!==t&&!o.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},Wv=(()=>{class n{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uv=(()=>{class n{warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Tm=new be("ng-select-selection-model"),cn=(()=>{class n{constructor(e,i,o,r,s,a,l){this.classes=e,this.autoFocus=i,this.config=o,this._cd=a,this._console=l,this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new ue,this.focusEvent=new ue,this.changeEvent=new ue,this.openEvent=new ue,this.closeEvent=new ue,this.searchEvent=new ue,this.clearEvent=new ue,this.addEvent=new ue,this.removeEvent=new ue,this.scroll=new ue,this.scrollToEnd=new ue,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=km(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new _e,this._keyPress$=new _e,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{let d=this.selectedItems.find(u=>u.value===c);this.unselect(d)},this.trackByOption=(c,d)=>this.trackByFn?this.trackByFn(d.value):d,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(o),this.itemsList=new ac(this,r?r():Im()),this.element=s.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!Ts(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return qe(this._clearSearchOnAdd)?this._clearSearchOnAdd:qe(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return qe(this._deselectOnClick)?this._deselectOnClick:qe(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=qe(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),qe(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Di[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let i=e.target;this.clearButton&&this.clearButton.nativeElement===i?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case Di.ArrowDown:this._handleArrowDown(e);break;case Di.ArrowUp:this._handleArrowUp(e);break;case Di.Space:this._handleSpace(e);break;case Di.Enter:this._handleEnter(e);break;case Di.Tab:this._handleTab(e);break;case Di.Esc:this.close(),e.preventDefault();break;case Di.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case Di.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let i=e.target;if(i.tagName!=="INPUT"&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(i.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;Ts(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let i=o=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);Mv(e)?e.then(o=>this.select(i(o))).catch(()=>{}):e&&this.select(i(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=qe(i)?!yr(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&qe(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=o=>{this.items=o.map(r=>({$ngOptionValue:r.value,$ngOptionLabel:r.elementRef.nativeElement.innerHTML,disabled:r.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{let o=Oi(this.ngOptions.changes,this._destroy$);Oi(...this.ngOptions.map(r=>r.stateChange$)).pipe(Rt(o)).subscribe(r=>{let s=this.itemsList.findItem(r.value);s.disabled=r.disabled,s.label=r.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Wi(this.ngOptions),Rt(this._destroy$)).subscribe(o=>{this.bindLabel=this._defaultLabel,e(o),i()})}_isValidWriteValue(e){if(!qe(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let i=o=>!qe(this.compareWith)&&yr(o)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(o=>i(o)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let i=o=>{let r=this.itemsList.findItem(o);if(r)this.itemsList.select(r);else{let s=yr(o),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue&&(r={[this.bindLabel]:null,[this.bindValue]:o},this.itemsList.select(this.itemsList.mapItem(r,null)))}};this.multiple?e.forEach(o=>i(o)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Rt(this._destroy$),Ur(e=>this._pressedKeys.push(e)),Kn(200),Yt(()=>this._pressedKeys.length>0),Pt(()=>this._pressedKeys.join(""))).subscribe(e=>{let i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,i=he({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let o of Object.keys(i))e.setAttribute(o,i[o])}_updateNgModel(){let e=[];for(let o of this.selectedItems)if(this.bindValue){let r=null;if(o.children){let s=this.groupValue?this.bindValue:this.groupBy;r=o.value[s||this.groupBy]}else r=this.itemsList.resolveNested(o.value,this.bindValue);e.push(r)}else e.push(o.value);let i=this.selectedItems.map(o=>o.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(qe(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey)this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=qe(this.virtualScroll)?this.virtualScroll:qe(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=qe(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(i){return new(i||n)($i("class"),$i("autofocus"),x(Wv),x(Tm,8),x(pe),x(Ie),x(Uv))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-select"]],contentQueries:function(i,o,r){if(i&1&&(Ke(r,kv,5,ve),Ke(r,Av,5,ve),Ke(r,Iv,5,ve),Ke(r,Tv,5,ve),Ke(r,Ov,5,ve),Ke(r,Fv,5,ve),Ke(r,Pv,5,ve),Ke(r,Rv,5,ve),Ke(r,Lv,5,ve),Ke(r,Vv,5,ve),Ke(r,Nv,5,ve),Ke(r,Bv,5,ve),Ke(r,Hv,5)),i&2){let s;le(s=ce())&&(o.optionTemplate=s.first),le(s=ce())&&(o.optgroupTemplate=s.first),le(s=ce())&&(o.labelTemplate=s.first),le(s=ce())&&(o.multiLabelTemplate=s.first),le(s=ce())&&(o.headerTemplate=s.first),le(s=ce())&&(o.footerTemplate=s.first),le(s=ce())&&(o.notFoundTemplate=s.first),le(s=ce())&&(o.placeholderTemplate=s.first),le(s=ce())&&(o.typeToSearchTemplate=s.first),le(s=ce())&&(o.loadingTextTemplate=s.first),le(s=ce())&&(o.tagTemplate=s.first),le(s=ce())&&(o.loadingSpinnerTemplate=s.first),le(s=ce())&&(o.ngOptions=s)}},viewQuery:function(i,o){if(i&1&&(Se(Dm,5),Se(W0,7),Se(U0,5)),i&2){let r;le(r=ce())&&(o.dropdownPanel=r.first),le(r=ce())&&(o.searchInput=r.first),le(r=ce())&&(o.clearButton=r.first)}},hostVars:20,hostBindings:function(i,o){i&1&&B("keydown",function(s){return o.handleKeyDown(s)}),i&2&&fe("ng-select-typeahead",o.typeahead)("ng-select-multiple",o.multiple)("ng-select-taggable",o.addTag)("ng-select-searchable",o.searchable)("ng-select-clearable",o.clearable)("ng-select-opened",o.isOpen)("ng-select",o.useDefaultClass)("ng-select-filtered",o.filtered)("ng-select-single",o.single)("ng-select-disabled",o.disabled)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",Ee],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Ee],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Ee],hideSelected:[2,"hideSelected","hideSelected",Ee],selectOnTab:[2,"selectOnTab","selectOnTab",Ee],openOnEnter:[2,"openOnEnter","openOnEnter",Ee],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",wn],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",wn],virtualScroll:[2,"virtualScroll","virtualScroll",Ee],selectableGroup:[2,"selectableGroup","selectableGroup",Ee],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Ee],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Ee],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",wn],readonly:[2,"readonly","readonly",Ee],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Ee],minTermLength:[2,"minTermLength","minTermLength",wn],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Ee],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Ee],addTag:"addTag",searchable:[2,"searchable","searchable",Ee],clearable:[2,"clearable","clearable",Ee],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},standalone:!0,features:[ze([{provide:rn,useExisting:si(()=>n),multi:!0},Am]),bt,Ue,Go],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,o){if(i&1){let r=ye();v(0,"div",10),B("mousedown",function(a){return ie(r),ne(o.handleMousedown(a))}),v(1,"div",11),X(2,Q0,3,1)(3,ev,2,0)(4,iv,1,5,null,12),v(5,"div",13)(6,"input",14,0),B("blur",function(a){return ie(r),ne(o.onInputBlur(a))})("change",function(a){return ie(r),ne(a.stopPropagation())})("compositionend",function(){ie(r);let a=Zt(7);return ne(o.onCompositionEnd(a.value))})("compositionstart",function(){return ie(r),ne(o.onCompositionStart())})("focus",function(a){return ie(r),ne(o.onInputFocus(a))})("input",function(){ie(r);let a=Zt(7);return ne(o.filter(a.value))}),g()()(),X(8,rv,3,1)(9,sv,4,1,"span",15),v(10,"span",16),V(11,"span",17),g()(),X(12,wv,8,17,"ng-dropdown-panel",18)}i&2&&(fe("ng-appearance-outline",o.appearance==="outline")("ng-has-value",o.hasValue),E(2),mt(o.selectedItems.length===0&&!o.searchTerm||o.fixedPlaceholder===!0?2:-1),E(),mt((!o.multiLabelTemplate||!o.multiple)&&o.selectedItems.length>0?3:-1),E(),mt(o.multiple&&o.multiLabelTemplate&&o.selectedValues.length>0?4:-1),E(2),T("disabled",o.disabled)("readOnly",!o.searchable||o.itemsList.maxItemsSelected)("value",o.searchTerm?o.searchTerm:""),Ct("aria-activedescendant",o.isOpen?o.itemsList==null||o.itemsList.markedItem==null?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen?o.dropdownId:null)("aria-expanded",o.isOpen)("aria-label",o.ariaLabel)("id",o.labelForId)("tabindex",o.tabIndex),E(2),mt(o.loading?8:-1),E(),mt(o.showClear()?9:-1),E(3),mt(o.isOpen?12:-1))},dependencies:[el,Sv,Dm,Kr],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return n})(),wr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[{provide:Tm,useValue:Im}]})}}return n})();var $v=["startDate"];function Yv(n,t){n&1&&(v(0,"div",22),S(1," *Introduce un ID. "),g())}function qv(n,t){n&1&&(v(0,"div",23),S(1," * La fecha de fin no puede ser anterior a la fecha de inicio. "),g())}function Gv(n,t){n&1&&(v(0,"div",23),S(1," * Debes seleccionar una ventana temporal o proporcionar fecha de inicio y fin. "),g())}var Co=class n{constructor(t,e,i,o){this.formBuilder=t;this.service=e;this.chartDataService=i;this.cdr=o;this.form=this.formBuilder.group({userId:[null,St.required],time:[null],charType:["1",[St.required]],startDate:[""],endDate:[""]},{validators:[this.dateOrTimeValidator,this.dateValidator]})}id;charTypeChange=new ue;startDate;form;selectedOption=null;options=[];isDatesDisabled=!1;ids=[];ngOnInit(){this.service.getTimePeriods().subscribe(t=>{this.options=t},t=>{console.error("Error al obtener las opciones de tiempo:",t)}),this.service.getIds().subscribe(t=>{this.ids=t},t=>{console.error("Error al obtener las opciones de tiempo:",t)})}ngAfterViewInit(){this.id&&(this.form.patchValue({userId:this.id}),this.cdr.detectChanges())}ngOnChanges(t){t.id&&t.id.currentValue&&(console.log("id recibido:",this.id),this.form.patchValue({userId:this.id}),this.form.updateValueAndValidity(),this.form.get("userId")?.setValue(Number(this.id)))}dateOrTimeValidator(t){return null}dateValidator(t){return null}onTimeChange(t){let e=this.form.get("startDate"),i=this.form.get("endDate");t?(e?.disable(),i?.disable(),this.isDatesDisabled=!0):(e?.enable(),i?.enable(),this.isDatesDisabled=!1),this.form.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.cdr.detectChanges()}onManualDate(){let t=this.form.get("time");this.form.get("startDate")?.value||this.form.get("endDate")?.value?t?.disable():t?.enable(),this.form.updateValueAndValidity({onlySelf:!1,emitEvent:!0})}focusStartDate(){this.startDate&&this.startDate.nativeElement.focus()}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Formulario inv\xE1lido:",this.form.errors);return}let t=this.form.value.userId,e=this.form.value.time,i=this.form.value.charType,o=this.form.value.startDate,r=this.form.value.endDate;this.charTypeChange.emit(i);let s={user_id:t,char_type:i};e?s.time_option=e:(s.start_date=new Date(o).toISOString().split("T")[0],s.end_date=new Date(r).toISOString().split("T")[0]),console.log(s),this.service.filterRecords(s).subscribe(a=>{if(a.length===0){gt.fire({icon:"warning",title:"No hay datos",text:"No se encontraron registros para los filtros seleccionados.",confirmButtonText:"Aceptar"});return}let l=a.flat().map((c,d)=>{try{return console.log(`Processing item at index ${d}:`,c),new mo(c)}catch(u){throw console.error(`Error at index ${d}:`,c,u),u}});console.log("Datos RECORDS:",l),this.chartDataService.updateChartData(l,e,t)},a=>{console.error("Error al hacer la solicitud:",a),gt.fire({icon:"error",title:"Error",text:"Hubo un problema al obtener los datos. Intenta nuevamente.",confirmButtonText:"Aceptar"})})}onCharTypeChange(t){this.charTypeChange.emit(t)}static \u0275fac=function(e){return new(e||n)(x(wi),x(ln),x(ii),x(Ie))};static \u0275cmp=G({type:n,selectors:[["app-individual-form"]],viewQuery:function(e,i){if(e&1&&Se($v,5),e&2){let o;le(o=ce())&&(i.startDate=o.first)}},inputs:{id:"id"},outputs:{charTypeChange:"charTypeChange"},features:[Ue],decls:47,vars:10,consts:[["startDate",""],[1,"container-form"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"form-group"],["for","userId"],["id","userId","bindLabel","label","bindValue","value","formControlName","userId","placeholder","ID Usuario...",3,"change","items","searchable"],["class","invalid-feedback",4,"ngIf"],[1,"col-2","col-sm-6"],["for","time"],["id","time","bindLabel","label","bindValue","value","formControlName","time","placeholder","Elija fecha...",3,"change","items","searchable"],["type","button",1,"btn-initial",3,"click","disabled"],[1,"bi","bi-calendar"],["for","startDate"],["type","date","id","startDate","formControlName","startDate",3,"change"],["for","endDate"],["type","date","id","endDate","formControlName","endDate",3,"change"],["class","invalid-feedback d-block",4,"ngIfTouched","ngIf"],["class","invalid-feedback d-block",4,"ngIf"],["type","radio","formControlName","charType","value","0",3,"change"],["type","radio","formControlName","charType","value","1",3,"change"],["type","submit",1,"btn-initial",3,"disabled"],[1,"invalid-feedback"],[1,"invalid-feedback","d-block"]],template:function(e,i){if(e&1){let o=ye();v(0,"div",1)(1,"form",2),B("ngSubmit",function(){return ie(o),ne(i.onSubmit())}),v(2,"div",3)(3,"div",4)(4,"label",5),S(5,"Identificaci\xF3n del usuario:"),g(),v(6,"div",4)(7,"ng-select",6),B("change",function(s){return ie(o),ne(i.onTimeChange(s))}),g()()(),X(8,Yv,2,0,"div",7),g(),v(9,"div",3)(10,"div",8)(11,"div",4)(12,"label",9),S(13,"Ventana temporal:"),g(),v(14,"ng-select",10),B("change",function(s){return ie(o),ne(i.onTimeChange(s))}),g()()(),v(15,"div",8)(16,"div",4)(17,"button",11),B("click",function(){return ie(o),ne(i.focusStartDate())}),V(18,"i",12),S(19," Elegir fecha "),g()()()(),v(20,"div",3)(21,"div",8)(22,"div",4)(23,"label",13),S(24,"Inicio:"),g(),v(25,"input",14,0),B("change",function(){return ie(o),ne(i.onManualDate())}),g()()(),v(27,"div",8)(28,"div",4)(29,"label",15),S(30,"Fin:"),g(),v(31,"input",16),B("change",function(){return ie(o),ne(i.onManualDate())}),g()()(),X(32,qv,2,0,"div",17)(33,Gv,2,0,"div",18),g(),v(34,"div",3)(35,"div",4)(36,"fieldset")(37,"legend"),S(38,"Tipo de gr\xE1fico:"),g(),v(39,"label")(40,"input",19),B("change",function(){return ie(o),ne(i.onCharTypeChange("0"))}),g(),S(41," Categ\xF3rico "),g(),v(42,"label")(43,"input",20),B("change",function(){return ie(o),ne(i.onCharTypeChange("1"))}),g(),S(44," Dimensional "),g()()()(),v(45,"button",21),S(46,"Mostrar"),g()()()}if(e&2){let o,r;E(),T("formGroup",i.form),E(6),T("items",i.ids)("searchable",!0),E(),T("ngIf",((o=i.form.get("userId"))==null?null:o.invalid)&&((o=i.form.get("userId"))==null?null:o.touched)),E(6),T("items",i.options)("searchable",!1),E(3),T("disabled",i.isDatesDisabled),E(15),T("ngIf",(i.form.errors==null?null:i.form.errors.invalidDateRange)&&i.form.get("endDate")),E(),T("ngIf",((r=i.form.get("userId"))==null?null:r.valid)&&(i.form.errors==null?null:i.form.errors.dateOrTimeRequired)&&(i.form.dirty||i.form.touched)),E(12),T("disabled",!i.form.valid)}},dependencies:[at,xi,Nt,dr,ei,yi,ui,hi,cn],styles:['@charset "UTF-8";.container-form[_ngcontent-%COMP%]{margin:30px auto 0;padding:2rem;box-sizing:border-box;background-color:var(--soft-gray-color);border-radius:50px;border:1px solid #ddd;box-shadow:0 4px 8px #0000001a}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin-bottom:.5rem;font-weight:700;font-size:1rem;color:var(--primary-color)}input[_ngcontent-%COMP%]{padding:.75rem;border:3px solid #ccc;border-radius:20px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;transition:border-color .3s ease}ng-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:20px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;background-color:#fff;transition:border-color .3s ease}.row[_ngcontent-%COMP%]:nth-child(2){display:grid;grid-template-columns:2fr 1fr;gap:.5rem;align-items:center}.btn-initial[_ngcontent-%COMP%]:first-of-type{padding:20px 25px;margin-top:2em}.row[_ngcontent-%COMP%]:nth-child(3){display:grid;grid-template-columns:1fr 1fr;gap:.5rem;align-items:center}input[_ngcontent-%COMP%]:focus, ng-select[_ngcontent-%COMP%]:focus{border-color:#f58e81;outline:none}fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;padding:1rem;border-radius:20px;display:block;background-color:#fafafa;gap:30px}fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:30px;margin-bottom:.5rem;font-size:1rem}fieldset[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;margin-top:.2rem}.popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;border-radius:20px}.popup-content[_ngcontent-%COMP%]{background:#fff;width:50%;max-height:80vh;overflow-y:auto;padding:20px;border-radius:20px;border:2px solid var(--soft-gray-color);position:relative;box-shadow:0 4px 10px #0003}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:20px;cursor:pointer}.is-invalid[_ngcontent-%COMP%]{border:2px solid #dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:16px}@media (max-width: 768px){.row[_ngcontent-%COMP%]:nth-child(2), .row[_ngcontent-%COMP%]:nth-child(3){grid-template-columns:1fr}label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.btn-initial[_ngcontent-%COMP%]:first-of-type{margin-top:.2rem}ng-select[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem;margin-top:0}input[_ngcontent-%COMP%]{font-size:.8rem}form[_ngcontent-%COMP%]{gap:.5rem}.container-form[_ngcontent-%COMP%]{padding:1rem}fieldset[_ngcontent-%COMP%]{padding:0}}@media (min-width: 768px) and (max-width: 1024px){label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}ng-select[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem;margin-top:0}input[_ngcontent-%COMP%]{font-size:.8rem}form[_ngcontent-%COMP%]{gap:.5rem}.container-form[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 1024px){.btn-initial[_ngcontent-%COMP%]:first-of-type{padding:20px 25px;margin-top:2em}}']})};var vc=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){let r=e.listeners[o],s=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Cu.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let r=i.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,i,t,"progress")),r.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ni=new vc,Fm="transparent",Xv={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=hl(n||Fm),o=i.valid&&hl(t||Fm);return o&&o.valid?o.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},yc=class{constructor(t,e,i,o){let r=e[i];o=ao([t.to,o,r,t.from]);let s=ao([t.from,r,o]);this._active=!0,this._fn=t.fn||Xv[t.type||typeof s],this._easing=ul[t.easing]||ul.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let o=this._target[this._prop],r=i-this._start,s=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=ao([t.to,e,o,t.from]),this._from=ao([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||e<i),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=r;return}l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}},Hs=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$e(t))return;let e=Object.keys(He.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{let r=t[o];if(!$e(r))return;let s={};for(let a of e)s[a]=r[a];(Ot(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){let i=e.options,o=Kv(t,i);if(!o)return[];let r=this._createAnimations(o,i);return i.$shared&&Qv(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){let i=this._properties,o=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(t,e));continue}let d=e[c],u=r[c],h=i.get(c);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[c]=d;continue}r[c]=u=new yc(h,t,c,d),o.push(u)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Ni.add(this._chart,i),!0}};function Qv(n,t){let e=[],i=Object.keys(t);for(let o=0;o<i.length;o++){let r=n[i[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Kv(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Pm(n,t){let e=n&&n.options||{},i=e.reverse,o=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:o,end:i?o:r}}function Zv(n,t,e){if(e===!1)return!1;let i=Pm(n,e),o=Pm(t,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function Jv(n){let t,e,i,o;return $e(n)?(t=n.top,e=n.right,i=n.bottom,o=n.left):t=e=i=o=n,{top:t,right:e,bottom:i,left:o,disabled:n===!1}}function Fp(n,t){let e=[],i=n._getSortedDatasetMetas(t),o,r;for(o=0,r=i.length;o<r;++o)e.push(i[o].index);return e}function Rm(n,t,e,i={}){let o=n.keys,r=i.mode==="single",s,a,l,c;if(t===null)return;let d=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===e){if(d=!0,i.all)continue;break}c=n.values[l],Je(c)&&(r||t===0||Ri(t)===Ri(c))&&(t+=c)}return!d&&!i.all?0:t}function ey(n,t){let{iScale:e,vScale:i}=t,o=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[o]:d,[r]:n[d]};return a}function cc(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function ty(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function iy(n){let{min:t,max:e,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function ny(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Lm(n,t,e,i){for(let o of t.getMatchingVisibleMetas(i).reverse()){let r=n[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function Vm(n,t){let{chart:e,_cachedMeta:i}=n,o=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=i,l=r.axis,c=s.axis,d=ty(r,s,i),u=t.length,h;for(let m=0;m<u;++m){let p=t[m],{[l]:f,[c]:b}=p,C=p._stacks||(p._stacks={});h=C[c]=ny(o,d,f),h[a]=b,h._top=Lm(h,s,!0,i.type),h._bottom=Lm(h,s,!1,i.type);let w=h._visualValues||(h._visualValues={});w[a]=b}}function dc(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function oy(n,t){return Ji(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ry(n,t,e){return Ji(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Cr(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let o of t){let r=o._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}var uc=n=>n==="reset"||n==="none",Nm=(n,t)=>t?n:Object.assign({},n),sy=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Fp(e,!0),values:null},un=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Cr(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,o=this.getDataset(),r=(h,m,p,f)=>h==="x"?m:h==="r"?f:p,s=i.xAxisID=ge(o.xAxisID,dc(e,"x")),a=i.yAxisID=ge(o.yAxisID,dc(e,"y")),l=i.rAxisID=ge(o.rAxisID,dc(e,"r")),c=i.indexAxis,d=i.iAxisID=r(c,s,a,l),u=i.vAxisID=r(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&sl(this._data,this),e._stacked&&Cr(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),o=this._data;if($e(i)){let r=this._cachedMeta;this._data=ey(i,r)}else if(o!==i){if(o){sl(o,this);let r=this._cachedMeta;Cr(r),r._parsed=[]}i&&Object.isExtensible(i)&&wu(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=i._stacked;i._stacked=cc(i.vScale,i),i.stack!==o.stack&&(r=!0,Cr(i),i.stack=o.stack),this._resyncElements(e),(r||s!==i._stacked)&&(Vm(this,i._parsed),i._stacked=cc(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,c=e===0&&i===r.length?!0:o._sorted,d=e>0&&o._parsed[e-1],u,h,m;if(this._parsing===!1)o._parsed=r,o._sorted=!0,m=r;else{Ot(r[e])?m=this.parseArrayData(o,r,e,i):$e(r[e])?m=this.parseObjectData(o,r,e,i):m=this.parsePrimitiveData(o,r,e,i);let p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<i;++u)o._parsed[u+e]=h=m[u],c&&(p()&&(c=!1),d=h);o._sorted=c}a&&Vm(this,m)}parsePrimitiveData(e,i,o,r){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,h=new Array(r),m,p,f;for(m=0,p=r;m<p;++m)f=m+o,h[m]={[l]:u||s.parse(d[f],f),[c]:a.parse(i[f],f)};return h}parseArrayData(e,i,o,r){let{xScale:s,yScale:a}=e,l=new Array(r),c,d,u,h;for(c=0,d=r;c<d;++c)u=c+o,h=i[u],l[c]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,i,o,r){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r),u,h,m,p;for(u=0,h=r;u<h;++u)m=u+o,p=i[m],d[u]={x:s.parse(Dn(p,l),m),y:a.parse(Dn(p,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,o){let r=this.chart,s=this._cachedMeta,a=i[e.axis],l={keys:Fp(r,!0),values:i._stacks[e.axis]._visualValues};return Rm(l,a,s.index,{mode:o})}updateRangeFromParsed(e,i,o,r){let s=o[i.axis],a=s===null?NaN:s,l=r&&o._stacks[i.axis];r&&l&&(r.values=l,a=Rm(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&e===o.iScale,a=r.length,l=this._getOtherScale(e),c=sy(i,o,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=iy(l),m,p;function f(){p=r[m];let b=p[l.axis];return!Je(p[e.axis])||u>b||h<b}for(m=0;m<a&&!(!f()&&(this.updateRangeFromParsed(d,e,p,c),s));++m);if(s){for(m=a-1;m>=0;--m)if(!f()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){let i=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=i.length;r<s;++r)a=i[r][e.axis],Je(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,o=i.iScale,r=i.vScale,s=this.getParsed(e);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=Jv(ge(this.options.clip,Zv(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,o=this._cachedMeta,r=o.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop,u;for(o.dataset&&o.dataset.draw(e,s,l,c),u=l;u<l+c;++u){let h=r[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,i){let o=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,i,o){let r=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=ry(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=oy(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=o,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",o){let r=i==="active",s=this._cachedDataOpts,a=e+"-"+i,l=s[a],c=this.enableOptionSharing&&io(o);if(l)return Nm(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),p=Object.keys(He.elements[e]),f=()=>this.getContext(o,r,i),b=d.resolveNamedOptions(m,p,f,h);return b.$shared&&(b.$shared=c,s[a]=Object.freeze(Nm(b,c))),b}_resolveAnimations(e,i,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,i),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,o,i))}let d=new Hs(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||uc(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let o=this.resolveDataElementOptions(e,i),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(i,s)||s!==r;return this.updateSharedOptions(s,i,o),{sharedOptions:s,includeOptions:a}}updateElement(e,i,o,r){uc(r)?Object.assign(e,o):this._resolveAnimations(i,r).update(e,o)}updateSharedOptions(e,i,o){e&&!uc(i)&&this._resolveAnimations(void 0,i).update(e,o)}_setStyle(e,i,o,r){e.active=r;let s=this.getStyle(i,r);this._resolveAnimations(i,o,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,i,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,o=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let r=o.length,s=i.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,i,o=!0){let r=this._cachedMeta,s=r.data,a=e+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,i),o&&this.updateElements(s,e,i,"reset")}updateElements(e,i,o,r){}_removeElements(e,i){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(e,i);o._stacked&&Cr(o,r)}o.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,o,r]=e;this[i](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function ay(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let o=0,r=e.length;o<r;o++)i=i.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=al(i.sort((o,r)=>o-r))}return n._cache.$bar}function ly(n){let t=n.iScale,e=ay(t,n.type),i=t._length,o,r,s,a,l=()=>{s===32767||s===-32768||(io(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(o=0,r=e.length;o<r;++o)s=t.getPixelForValue(e[o]),l();for(a=void 0,o=0,r=t.ticks.length;o<r;++o)s=t.getPixelForTick(o),l();return i}function cy(n,t,e,i){let o=e.barThickness,r,s;return ke(o)?(r=t.min*e.categoryPercentage,s=e.barPercentage):(r=o*i,s=1),{chunk:r/i,ratio:s,start:t.pixels[n]-r/2}}function dy(n,t,e,i){let o=t.pixels,r=o[n],s=n>0?o[n-1]:null,a=n<o.length-1?o[n+1]:null,l=e.categoryPercentage;s===null&&(s=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-s);let c=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:e.barPercentage,start:c}}function uy(n,t,e,i){let o=e.parse(n[0],i),r=e.parse(n[1],i),s=Math.min(o,r),a=Math.max(o,r),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:o,end:r,min:s,max:a}}function Pp(n,t,e,i){return Ot(n)?uy(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Bm(n,t,e,i){let o=n.iScale,r=n.vScale,s=o.getLabels(),a=o===r,l=[],c,d,u,h;for(c=e,d=e+i;c<d;++c)h=t[c],u={},u[o.axis]=a||o.parse(s[c],c),l.push(Pp(h,u,r,c));return l}function hc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function hy(n,t,e){return n!==0?Ri(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function my(n){let t,e,i,o,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(o="end",r="start"):(o="start",r="end"),{start:e,end:i,reverse:t,top:o,bottom:r}}function py(n,t,e,i){let o=t.borderSkipped,r={};if(!o){n.borderSkipped=r;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=my(n);o==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?o=c:(e._bottom||0)===i?o=d:(r[jm(d,s,a,l)]=!0,o=c)),r[jm(o,s,a,l)]=!0,n.borderSkipped=r}function jm(n,t,e,i){return i?(n=fy(n,t,e),n=zm(n,e,t)):n=zm(n,t,e),n}function fy(n,t,e){return n===t?e:n===e?t:n}function zm(n,t,e){return n==="start"?t:n==="end"?e:n}function gy(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var _y=(()=>{class n extends un{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,o,r){return Bm(e,i,o,r)}parseArrayData(e,i,o,r){return Bm(e,i,o,r)}parseObjectData(e,i,o,r){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=a.axis==="x"?l:c,h=[],m,p,f,b;for(m=o,p=o+r;m<p;++m)b=i[m],f={},f[s.axis]=s.parse(Dn(b,d),m),h.push(Pp(Dn(b,u),f,a,m));return h}updateRangeFromParsed(e,i,o,r){super.updateRangeFromParsed(e,i,o,r);let s=o._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:o,vScale:r}=i,s=this.getParsed(e),a=s._custom,l=hc(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+o.getLabelForValue(s[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,o,r){let s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(i,r);for(let p=i;p<i+o;p++){let f=this.getParsed(p),b=s||ke(f[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),C=this._calculateBarIndexPixels(p,u),w=(f._stacks||{})[l.axis],I={horizontal:d,base:b.base,enableBorderRadius:!w||hc(f._custom)||a===w._top||a===w._bottom,x:d?b.head:C.center,y:d?C.center:b.head,height:d?C.size:Math.abs(b.size),width:d?Math.abs(b.size):C.size};m&&(I.options=h||this.resolveDataElementOptions(p,e[p].active?"active":r));let k=I.options||e[p].options;py(I,k,w,a),gy(I,k,u.ratio),this.updateElement(e[p],p,I,r)}}_getStacks(e,i){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[o.axis],d=u=>{let h=u._parsed.find(p=>p[o.axis]===c),m=h&&h[u.vScale.axis];if(ke(m)||isNaN(m))return!0};for(let u of r)if(!(i!==void 0&&d(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,o){let r=this._getStacks(e,o),s=i!==void 0?r.indexOf(i):-1;return s===-1?r.length-1:s}_getRuler(){let e=this.options,i=this._cachedMeta,o=i.iScale,r=[],s,a;for(s=0,a=i.data.length;s<a;++s)r.push(o.getPixelForValue(this.getParsed(s)[o.axis],s));let l=e.barThickness;return{min:l||ly(i),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:o,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),d=c._custom,u=hc(d),h=c[i.axis],m=0,p=o?this.applyStack(i,c,o):h,f,b;p!==h&&(m=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&Ri(h)!==Ri(d.barEnd)&&(m=0),m+=h);let C=!ke(s)&&!u?s:m,w=i.getPixelForValue(C);if(this.chart.getDataVisibility(e)?f=i.getPixelForValue(m+p):f=w,b=f-w,Math.abs(b)<a){b=hy(b,i,l)*a,h===l&&(w-=b/2);let I=i.getPixelForDecimal(0),k=i.getPixelForDecimal(1),D=Math.min(I,k),A=Math.max(I,k);w=Math.max(Math.min(w,A),D),f=w+b,o&&!u&&(c._stacks[i.axis]._visualValues[r]=i.getValueForPixel(f)-i.getValueForPixel(w))}if(w===i.getPixelForValue(l)){let I=Ri(b)*i.getLineWidthForValue(l)/2;w+=I,b-=I}return{size:b,base:w,head:f,center:f+b/2}}_calculateBarIndexPixels(e,i){let o=i.scale,r=this.options,s=r.skipNull,a=ge(r.maxBarThickness,1/0),l,c;if(i.grouped){let d=s?this._getStackCount(e):i.stackCount,u=r.barThickness==="flex"?dy(e,i,r,d):cy(e,i,r,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,i=e.vScale,o=e.data,r=o.length,s=0;for(;s<r;++s)this.getParsed(s)[i.axis]!==null&&!o[s].hidden&&o[s].draw(this._ctx)}}return n})(),by=(()=>{class n extends un{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,o,r){let s=super.parsePrimitiveData(e,i,o,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+o).radius;return s}parseArrayData(e,i,o,r){let s=super.parseArrayData(e,i,o,r);for(let a=0;a<s.length;a++){let l=i[o+a];s[a]._custom=ge(l[2],this.resolveDataElementOptions(a+o).radius)}return s}parseObjectData(e,i,o,r){let s=super.parseObjectData(e,i,o,r);for(let a=0;a<s.length;a++){let l=i[o+a];s[a]._custom=ge(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let o=e.length-1;o>=0;--o)i=Math.max(i,e[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=i,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:o[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,r),u=a.axis,h=l.axis;for(let m=i;m<i+o;m++){let p=e[m],f=!s&&this.getParsed(m),b={},C=b[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(f[u]),w=b[h]=s?l.getBasePixel():l.getPixelForValue(f[h]);b.skip=isNaN(C)||isNaN(w),d&&(b.options=c||this.resolveDataElementOptions(m,p.active?"active":r),s&&(b.options.radius=0)),this.updateElement(p,m,b,r)}}resolveDataElementOptions(e,i){let o=this.getParsed(e),r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return i!=="active"&&(r.radius=0),r.radius+=ge(o&&o._custom,s),r}}return n})();function vy(n,t,e){let i=1,o=1,r=0,s=0;if(t<Dt){let a=n,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),m=(I,k,D)=>Jo(I,a,l,!0)?1:Math.max(k,k*e,D,D*e),p=(I,k,D)=>Jo(I,a,l,!0)?-1:Math.min(k,k*e,D,D*e),f=m(0,c,u),b=m(qt,d,h),C=p(vi,c,u),w=p(vi+qt,d,h);i=(f-C)/2,o=(b-w)/2,r=-(f+C)/2,s=-(b+w)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:s}}var jc=(()=>{class n extends un{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return i.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let s=c=>+o[c];if($e(o[e])){let{key:c="value"}=this._parsing;s=d=>+Dn(o[d],c)}let a,l;for(a=e,l=e+i;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Jt(this.options.rotation-90)}_getCircumference(){return Jt(this.options.circumference)}_getRotationExtents(){let e=Dt,i=-Dt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:o}=i,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(du(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:b}=vy(h,u,c),C=(o.width-a)/m,w=(o.height-a)/p,I=Math.max(Math.min(C,w)/2,0),k=uu(this.options.radius,I),D=Math.max(k*c,0),A=(k-D)/this._getVisibleDatasetWeightTotal();this.offsetX=f*k,this.offsetY=b*k,r.total=this.calculateTotal(),this.outerRadius=k-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){let o=this.options,r=this._cachedMeta,s=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Dt)}updateElements(e,i,o,r){let s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=s&&d.animateScale,p=m?0:this.innerRadius,f=m?0:this.outerRadius,{sharedOptions:b,includeOptions:C}=this._getSharedOptions(i,r),w=this._getRotation(),I;for(I=0;I<i;++I)w+=this._circumference(I,s);for(I=i;I<i+o;++I){let k=this._circumference(I,s),D=e[I],A={x:u+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+k,circumference:k,outerRadius:f,innerRadius:p};C&&(A.options=b||this.resolveDataElementOptions(I,D.active?"active":r)),w+=k,this.updateElement(D,I,A,r)}}calculateTotal(){let e=this._cachedMeta,i=e.data,o=0,r;for(r=0;r<i.length;r++){let s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(o+=Math.abs(s))}return o}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Dt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=er(i._parsed[e],o.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let i=0,o=this.chart,r,s,a,l,c;if(!e){for(r=0,s=o.data.datasets.length;r<s;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let o=0,r=e.length;o<r;++o){let s=this.resolveDataElementOptions(o);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(e){return Math.max(ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),yy=(()=>{class n extends un{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:o,data:r=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=cl(i,r,a);this._drawStart=l,this._drawCount=c,dl(i)&&(l=0,c=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=r;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(i,r),m=a.axis,p=l.axis,{spanGaps:f,segment:b}=this.options,C=Mn(f)?f:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none",I=i+o,k=e.length,D=i>0&&this.getParsed(i-1);for(let A=0;A<k;++A){let L=e[A],F=w?L:{};if(A<i||A>=I){F.skip=!0;continue}let H=this.getParsed(A),W=ke(H[p]),z=F[m]=a.getPixelForValue(H[m],A),_=F[p]=s||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,H,c):H[p],A);F.skip=isNaN(z)||isNaN(_)||W,F.stop=A>0&&Math.abs(H[m]-D[m])>C,b&&(F.parsed=H,F.raw=d.data[A]),h&&(F.options=u||this.resolveDataElementOptions(A,L.active?"active":r)),w||this.updateElement(L,A,F,r),D=H}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,o=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),Rp=(()=>{class n extends un{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return i.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=er(i._parsed[e].r,o.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,i,o,r){return _l.bind(this)(e,i,o,r)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,o=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(r/2,0),a=Math.max(o.cutoutPercentage?s/100*o.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,o,r){let s=r==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,m=d.getIndexAngle(0)-.5*vi,p=m,f,b=360/this.countVisibleElements();for(f=0;f<i;++f)p+=this._computeAngle(f,r,b);for(f=i;f<i+o;f++){let C=e[f],w=p,I=p+this._computeAngle(f,r,b),k=a.getDataVisibility(f)?d.getDistanceFromCenterForValue(this.getParsed(f).r):0;p=I,s&&(c.animateScale&&(k=0),c.animateRotate&&(w=I=m));let D={x:u,y:h,innerRadius:0,outerRadius:k,startAngle:w,endAngle:I,options:this.resolveDataElementOptions(f,C.active?"active":r)};this.updateElement(C,f,D,r)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,o){return this.chart.getDataVisibility(e)?Jt(this.resolveDataElementOptions(e,i).angle||o):0}}return n})(),xy=(()=>{class n extends jc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),wy=(()=>{class n extends un{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,o=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(e,i,o,r){return _l.bind(this)(e,i,o,r)}update(e){let i=this._cachedMeta,o=i.dataset,r=i.data||[],s=i.iScale.getLabels();if(o.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,o,r){let s=this._cachedMeta.rScale,a=r==="reset";for(let l=i;l<i+o;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":r),u=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:u.x,m=a?s.yCenter:u.y,p={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:d};this.updateElement(c,l,p,r)}}}return n})(),Cy=(()=>{class n extends un{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=i,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+c+")"}}update(e){let i=this._cachedMeta,{data:o=[]}=i,r=this.chart._animationsDisabled,{start:s,count:a}=cl(i,o,r);if(this._drawStart=s,this._drawCount=a,dl(i)&&(s=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=o;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(o,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,r),h=this.getSharedOptions(u),m=this.includeOptions(r,h),p=a.axis,f=l.axis,{spanGaps:b,segment:C}=this.options,w=Mn(b)?b:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||s||r==="none",k=i>0&&this.getParsed(i-1);for(let D=i;D<i+o;++D){let A=e[D],L=this.getParsed(D),F=I?A:{},H=ke(L[f]),W=F[p]=a.getPixelForValue(L[p],D),z=F[f]=s||H?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[f],D);F.skip=isNaN(W)||isNaN(z)||H,F.stop=D>0&&Math.abs(L[p]-k[p])>w,C&&(F.parsed=L,F.raw=d.data[D]),m&&(F.options=h||this.resolveDataElementOptions(D,A.active?"active":r)),I||this.updateElement(A,D,F,r),k=L}this.updateSharedOptions(h,r,u)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!i.length)return r;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}}return n})(),Ey=Object.freeze({__proto__:null,BarController:_y,BubbleController:by,DoughnutController:jc,LineController:yy,PieController:xy,PolarAreaController:Rp,RadarController:wy,ScatterController:Cy});function Ln(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var xc=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ln()}parse(){return Ln()}format(){return Ln()}add(){return Ln()}diff(){return Ln()}startOf(){return Ln()}endOf(){return Ln()}},Dy={_date:xc};function My(n,t,e,i){let{controller:o,data:r,_sorted:s}=n,a=o._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&s&&r.length){let l=a._reversePixels?yu:ro;if(i){if(o._sharedOptions){let c=r[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){let u=l(r,t,e-d),h=l(r,t,e+d);return{lo:u.lo,hi:h.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Fr(n,t,e,i,o){let r=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=r.length;a<l;++a){let{index:c,data:d}=r[a],{lo:u,hi:h}=My(r[a],t,s,o);for(let m=u;m<=h;++m){let p=d[m];p.skip||i(p,c,m)}}}function Sy(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,o){let r=t?Math.abs(i.x-o.x):0,s=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function mc(n,t,e,i,o){let r=[];return!o&&!n.isPointInArea(t)||Fr(n,e,t,function(a,l,c){!o&&!Qi(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function ky(n,t,e,i){let o=[];function r(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:u}=rl(s,{x:t.x,y:t.y});Jo(u,c,d)&&o.push({element:s,datasetIndex:a,index:l})}return Fr(n,e,t,r),o}function Ay(n,t,e,i,o,r){let s=[],a=Sy(e),l=Number.POSITIVE_INFINITY;function c(d,u,h){let m=d.inRange(t.x,t.y,o);if(i&&!m)return;let p=d.getCenterPoint(o);if(!(!!r||n.isPointInArea(p))&&!m)return;let b=a(t,p);b<l?(s=[{element:d,datasetIndex:u,index:h}],l=b):b===l&&s.push({element:d,datasetIndex:u,index:h})}return Fr(n,e,t,c),s}function pc(n,t,e,i,o,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?ky(n,t,e,o):Ay(n,t,e,i,o,r)}function Hm(n,t,e,i,o){let r=[],s=e==="x"?"inXRange":"inYRange",a=!1;return Fr(n,e,t,(l,c,d)=>{l[s]&&l[s](t[e],o)&&(r.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,o))}),i&&!a?[]:r}var Iy={evaluateInteractionItems:Fr,modes:{index(n,t,e,i){let o=en(t,n),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?mc(n,o,r,i,s):pc(n,o,r,!1,i,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(n,t,e,i){let o=en(t,n),r=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?mc(n,o,r,i,s):pc(n,o,r,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(n,t,e,i){let o=en(t,n),r=e.axis||"xy",s=e.includeInvisible||!1;return mc(n,o,r,i,s)},nearest(n,t,e,i){let o=en(t,n),r=e.axis||"xy",s=e.includeInvisible||!1;return pc(n,o,r,e.intersect,i,s)},x(n,t,e,i){let o=en(t,n);return Hm(n,o,"x",e.intersect,i)},y(n,t,e,i){let o=en(t,n);return Hm(n,o,"y",e.intersect,i)}}},Lp=["left","top","right","bottom"];function Er(n,t){return n.filter(e=>e.pos===t)}function Wm(n,t){return n.filter(e=>Lp.indexOf(e.pos)===-1&&e.box.axis===t)}function Dr(n,t){return n.sort((e,i)=>{let o=t?i:e,r=t?e:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function Ty(n){let t=[],e,i,o,r,s,a;for(e=0,i=(n||[]).length;e<i;++e)o=n[e],{position:r,options:{stack:s,stackWeight:a=1}}=o,t.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return t}function Oy(n){let t={};for(let e of n){let{stack:i,pos:o,stackWeight:r}=e;if(!i||!Lp.includes(o))continue;let s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}function Fy(n,t){let e=Oy(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t,r,s,a;for(r=0,s=n.length;r<s;++r){a=n[r];let{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=o):(a.width=i,a.height=d?d*o:l&&t.availableHeight)}return e}function Py(n){let t=Ty(n),e=Dr(t.filter(c=>c.box.fullSize),!0),i=Dr(Er(t,"left"),!0),o=Dr(Er(t,"right")),r=Dr(Er(t,"top"),!0),s=Dr(Er(t,"bottom")),a=Wm(t,"x"),l=Wm(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:Er(t,"chartArea"),vertical:i.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function Um(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Vp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Ry(n,t,e,i){let{pos:o,box:r}=e,s=n.maxPadding;if(!$e(o)){e.size&&(n[o]-=e.size);let u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[o]+=e.size}r.getPadding&&Vp(s,r.getPadding());let a=Math.max(0,t.outerWidth-Um(s,n,"left","right")),l=Math.max(0,t.outerHeight-Um(s,n,"top","bottom")),c=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function Ly(n){let t=n.maxPadding;function e(i){let o=Math.max(t[i]-n[i],0);return n[i]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Vy(n,t){let e=t.maxPadding;function i(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(t[s],e[s])}),r}return i(n?["left","right"]:["top","bottom"])}function kr(n,t,e,i){let o=[],r,s,a,l,c,d;for(r=0,s=n.length,c=0;r<s;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,Vy(a.horizontal,t));let{same:u,other:h}=Ry(t,e,a,i);c|=u&&o.length,d=d||h,l.fullSize||o.push(a)}return c&&kr(o,t,e,i)||d}function Fs(n,t,e,i,o){n.top=e,n.left=t,n.right=t+i,n.bottom=e+o,n.width=i,n.height=o}function $m(n,t,e,i){let o=e.padding,{x:r,y:s}=t;for(let a of n){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=t.w*d,h=c.size||l.height;io(c.start)&&(s=c.start),l.fullSize?Fs(l,o.left,s,e.outerWidth-o.right-o.left,h):Fs(l,t.left+c.placed,s,u,h),c.start=s,c.placed+=u,s=l.bottom}else{let u=t.h*d,h=c.size||l.width;io(c.start)&&(r=c.start),l.fullSize?Fs(l,r,o.top,h,e.outerHeight-o.bottom-o.top):Fs(l,r,t.top+c.placed,h,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=s}var It={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let o=xt(n.options.layout.padding),r=Math.max(t-o.width,0),s=Math.max(e-o.height,0),a=Py(n.boxes),l=a.vertical,c=a.horizontal;Ae(n.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});let d=l.reduce((f,b)=>b.box.options&&b.box.options.display===!1?f:f+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},o);Vp(h,xt(i));let m=Object.assign({maxPadding:h,w:r,h:s,x:o.left,y:o.top},o),p=Fy(l.concat(c),u);kr(a.fullSize,m,u,p),kr(l,m,u,p),kr(c,m,u,p)&&kr(l,m,u,p),Ly(m),$m(a.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,$m(a.rightAndBottom,m,u,p),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ae(a.chartArea,f=>{let b=f.box;Object.assign(b,n.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},Ws=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}},wc=class extends Ws{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},js="$chartjs",Ny={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ym=n=>n===null||n==="";function By(n,t){let e=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[js]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ym(o)){let r=xl(n,"width");r!==void 0&&(n.width=r)}if(Ym(i))if(n.style.height==="")n.height=n.width/(t||2);else{let r=xl(n,"height");r!==void 0&&(n.height=r)}return n}var Np=Vu?{passive:!0}:!1;function jy(n,t,e){n&&n.addEventListener(t,e,Np)}function zy(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Np)}function Hy(n,t){let e=Ny[n.type]||n.type,{x:i,y:o}=en(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Us(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function Wy(n,t,e){let i=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Us(a.addedNodes,i),s=s&&!Us(a.removedNodes,i);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function Uy(n,t,e){let i=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Us(a.removedNodes,i),s=s&&!Us(a.addedNodes,i);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var Ir=new Map,qm=0;function Bp(){let n=window.devicePixelRatio;n!==qm&&(qm=n,Ir.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $y(n,t){Ir.size||window.addEventListener("resize",Bp),Ir.set(n,t)}function Yy(n){Ir.delete(n),Ir.size||window.removeEventListener("resize",Bp)}function qy(n,t,e){let i=n.canvas,o=i&&vl(i);if(!o)return;let r=ll((a,l)=>{let c=o.clientWidth;e(a,l),c<o.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||r(c,d)});return s.observe(o),$y(n,r),s}function fc(n,t,e){e&&e.disconnect(),t==="resize"&&Yy(n)}function Gy(n,t,e){let i=n.canvas,o=ll(r=>{n.ctx!==null&&e(Hy(r,n))},n);return jy(i,t,o),o}var Cc=class extends Ws{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(By(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[js])return!1;let i=e[js].initial;["height","width"].forEach(r=>{let s=i[r];ke(s)?e.removeAttribute(r):e.setAttribute(r,s)});let o=i.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[js],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let o=t.$proxies||(t.$proxies={}),s={attach:Wy,detach:Uy,resize:qy}[e]||Gy;o[e]=s(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),o=i[e];if(!o)return;({attach:fc,detach:fc,resize:fc}[e]||zy)(t,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return Lu(t,e,i,o)}isAttached(t){let e=t&&vl(t);return!!(e&&e.isConnected)}};function Xy(n){return!bl()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wc:Cc}var pi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Mn(this.x)&&Mn(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let o={};return t.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}};function Qy(n,t){let e=n.options.ticks,i=Ky(n),o=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?Jy(t):[],s=r.length,a=r[0],l=r[s-1],c=[];if(s>o)return ex(t,c,r,s/o),c;let d=Zy(r,t,o);if(s>0){let u,h,m=s>1?Math.round((l-a)/(s-1)):null;for(Ps(t,c,d,ke(m)?0:a-m,a),u=0,h=s-1;u<h;u++)Ps(t,c,d,r[u],r[u+1]);return Ps(t,c,d,l,ke(m)?t.length:l+m),c}return Ps(t,c,d),c}function Ky(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),o=n._maxLength/e;return Math.floor(Math.min(i,o))}function Zy(n,t,e){let i=tx(n),o=t.length/e;if(!i)return Math.max(o,1);let r=fu(i);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function Jy(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function ex(n,t,e,i){let o=0,r=e[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===r&&(t.push(n[s]),o++,r=e[o*i])}function Ps(n,t,e,i,o){let r=ge(i,0),s=Math.min(ge(o,n.length),n.length),a=0,l,c,d;for(e=Math.ceil(e),o&&(l=o-i,e=l/Math.floor(l/e)),d=r;d<0;)a++,d=Math.round(r+a*e);for(c=Math.max(r,0);c<s;c++)c===d&&(t.push(n[c]),a++,d=Math.round(r+a*e))}function tx(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var ix=n=>n==="left"?"right":n==="right"?"left":n,Gm=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Xm=(n,t)=>Math.min(t||n,n);function Qm(n,t){let e=[],i=n.length/t,o=n.length,r=0;for(;r<o;r+=i)e.push(n[Math.floor(r)]);return e}function nx(n,t,e){let i=n.ticks.length,o=Math.min(t,i-1),r=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(o),c;if(!(e&&(i===1?c=Math.max(l-r,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(o-1))/2,l+=o<t?c:-c,l<r-a||l>s+a)))return l}function ox(n,t){Ae(n,e=>{let i=e.gc,o=i.length/2,r;if(o>t){for(r=0;r<o;++r)delete e.data[i[r]];i.splice(0,o)}})}function Mr(n){return n.drawTicks?n.tickLength:0}function Km(n,t){if(!n.display)return 0;let e=lt(n.font,t),i=xt(n.padding);return(Ot(n.text)?n.text.length:1)*e.lineHeight+i.height}function rx(n,t){return Ji(n,{scale:t,type:"scale"})}function sx(n,t,e){return Ji(n,{tick:e,index:t,type:"tick"})}function ax(n,t,e){let i=is(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ix(i)),i}function lx(n,t,e,i){let{top:o,left:r,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:d}=l,u=0,h,m,p,f=s-o,b=a-r;if(n.isHorizontal()){if(m=yt(i,r,a),$e(e)){let C=Object.keys(e)[0],w=e[C];p=d[C].getPixelForValue(w)+f-t}else e==="center"?p=(c.bottom+c.top)/2+f-t:p=Gm(n,e,t);h=a-r}else{if($e(e)){let C=Object.keys(e)[0],w=e[C];m=d[C].getPixelForValue(w)-b+t}else e==="center"?m=(c.left+c.right)/2-b+t:m=Gm(n,e,t);p=yt(i,s,o),u=e==="left"?-qt:qt}return{titleX:m,titleY:p,maxWidth:h,rotation:u}}var Nn=class n extends pi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=Vt(t,Number.POSITIVE_INFINITY),e=Vt(e,Number.NEGATIVE_INFINITY),i=Vt(i,Number.POSITIVE_INFINITY),o=Vt(o,Number.NEGATIVE_INFINITY),{min:Vt(t,i),max:Vt(e,o),minDefined:Je(t),maxDefined:Je(e)}}getMinMax(t){let{min:e,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),o||(e=Math.min(e,s.min)),r||(i=Math.max(i,s.max));return e=r&&e>i?i:e,i=o&&e>i?e:i,{min:Vt(e,Vt(i,e)),max:Vt(i,Vt(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pe(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ou(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?Qm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Qy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pe(this.options.afterUpdate,[this])}beforeSetDimensions(){Pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i],r.label=Pe(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=Xm(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation,s=o,a,l,c;if(!this._isVisible()||!e.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,m=Mt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:m/(i-1),u+6>a&&(a=m/(i-(t.offset?.5:1)),l=this.maxHeight-Mr(t.grid)-e.padding-Km(t.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),s=ts(Math.min(Math.asin(Mt((d.highest.height+6)/a,-1,1)),Math.asin(Mt(l/c,-1,1))-Math.asin(Mt(h/c,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){Pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pe(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=Km(o,e.options.font);if(a?(t.width=this.maxWidth,t.height=Mr(r)+l):(t.height=this.maxHeight,t.width=Mr(r)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:h}=this._getLabelSizes(),m=i.padding*2,p=Jt(this.labelRotation),f=Math.cos(p),b=Math.sin(p);if(a){let C=i.mirror?0:b*u.width+f*h.height;t.height=Math.min(this.maxHeight,t.height+C+m)}else{let C=i.mirror?0:f*u.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+C+m)}this._calculatePadding(c,d,b,f)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,m=0;l?c?(h=o*t.width,m=i*e.height):(h=i*t.height,m=o*e.width):r==="start"?m=e.width:r==="end"?h=t.width:r!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+s)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;r==="start"?(d=0,u=t.height):r==="end"&&(d=e.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pe(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ke(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=Qm(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/Xm(e,i)),c=0,d=0,u,h,m,p,f,b,C,w,I,k,D;for(u=0;u<e;u+=l){if(p=t[u].label,f=this._resolveTickFontOptions(u),o.font=b=f.string,C=r[b]=r[b]||{data:{},gc:[]},w=f.lineHeight,I=k=0,!ke(p)&&!Ot(p))I=pl(o,C.data,C.gc,I,p),k=w;else if(Ot(p))for(h=0,m=p.length;h<m;++h)D=p[h],!ke(D)&&!Ot(D)&&(I=pl(o,C.data,C.gc,I,D),k+=w);s.push(I),a.push(k),c=Math.max(I,c),d=Math.max(k,d)}ox(r,e);let A=s.indexOf(c),L=a.indexOf(d),F=H=>({width:s[H]||0,height:a[H]||0});return{first:F(0),last:F(e-1),widest:F(A),highest:F(L),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return bu(this._alignToPixels?Xi(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=sx(this.getContext(),t,i))}return this.$context||(this.$context=rx(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Jt(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*i>a*o?a/i:l/o:l*o<a*i?l/i:a/o}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),h=Mr(r),m=[],p=a.setContext(this.getContext()),f=p.display?p.width:0,b=f/2,C=function(N){return Xi(i,N,f)},w,I,k,D,A,L,F,H,W,z,_,y;if(s==="top")w=C(this.bottom),L=this.bottom-h,H=w-b,z=C(t.top)+b,y=t.bottom;else if(s==="bottom")w=C(this.top),z=t.top,y=C(t.bottom)-b,L=w+b,H=this.top+h;else if(s==="left")w=C(this.right),A=this.right-h,F=w-b,W=C(t.left)+b,_=t.right;else if(s==="right")w=C(this.left),W=t.left,_=C(t.right)-b,A=w+b,F=this.left+h;else if(e==="x"){if(s==="center")w=C((t.top+t.bottom)/2+.5);else if($e(s)){let N=Object.keys(s)[0],Y=s[N];w=C(this.chart.scales[N].getPixelForValue(Y))}z=t.top,y=t.bottom,L=w+b,H=L+h}else if(e==="y"){if(s==="center")w=C((t.left+t.right)/2);else if($e(s)){let N=Object.keys(s)[0],Y=s[N];w=C(this.chart.scales[N].getPixelForValue(Y))}A=w-b,F=A-h,W=t.left,_=t.right}let O=ge(o.ticks.maxTicksLimit,u),P=Math.max(1,Math.ceil(u/O));for(I=0;I<u;I+=P){let N=this.getContext(I),Y=r.setContext(N),$=a.setContext(N),j=Y.lineWidth,me=Y.color,Ce=$.dash||[],J=$.dashOffset,_t=Y.tickWidth,re=Y.tickColor,Ge=Y.tickBorderDash||[],ae=Y.tickBorderDashOffset;k=nx(this,I,l),k!==void 0&&(D=Xi(i,k,j),c?A=F=W=_=D:L=H=z=y=D,m.push({tx1:A,ty1:L,tx2:F,ty2:H,x1:W,y1:z,x2:_,y2:y,width:j,color:me,borderDash:Ce,borderDashOffset:J,tickWidth:_t,tickColor:re,tickBorderDash:Ge,tickBorderDashOffset:ae}))}return this._ticksLength=u,this._borderValue=w,m}_computeLabelItems(t){let e=this.axis,i=this.options,{position:o,ticks:r}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=r,h=Mr(i.grid),m=h+d,p=u?-d:m,f=-Jt(this.labelRotation),b=[],C,w,I,k,D,A,L,F,H,W,z,_,y="middle";if(o==="top")A=this.bottom-p,L=this._getXAxisLabelAlignment();else if(o==="bottom")A=this.top+p,L=this._getXAxisLabelAlignment();else if(o==="left"){let P=this._getYAxisLabelAlignment(h);L=P.textAlign,D=P.x}else if(o==="right"){let P=this._getYAxisLabelAlignment(h);L=P.textAlign,D=P.x}else if(e==="x"){if(o==="center")A=(t.top+t.bottom)/2+m;else if($e(o)){let P=Object.keys(o)[0],N=o[P];A=this.chart.scales[P].getPixelForValue(N)+m}L=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")D=(t.left+t.right)/2-m;else if($e(o)){let P=Object.keys(o)[0],N=o[P];D=this.chart.scales[P].getPixelForValue(N)}L=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(l==="start"?y="top":l==="end"&&(y="bottom"));let O=this._getLabelSizes();for(C=0,w=a.length;C<w;++C){I=a[C],k=I.label;let P=r.setContext(this.getContext(C));F=this.getPixelForTick(C)+r.labelOffset,H=this._resolveTickFontOptions(C),W=H.lineHeight,z=Ot(k)?k.length:1;let N=z/2,Y=P.color,$=P.textStrokeColor,j=P.textStrokeWidth,me=L;s?(D=F,L==="inner"&&(C===w-1?me=this.options.reverse?"left":"right":C===0?me=this.options.reverse?"right":"left":me="center"),o==="top"?c==="near"||f!==0?_=-z*W+W/2:c==="center"?_=-O.highest.height/2-N*W+W:_=-O.highest.height+W/2:c==="near"||f!==0?_=W/2:c==="center"?_=O.highest.height/2-N*W:_=O.highest.height-z*W,u&&(_*=-1),f!==0&&!P.showLabelBackdrop&&(D+=W/2*Math.sin(f))):(A=F,_=(1-z)*W/2);let Ce;if(P.showLabelBackdrop){let J=xt(P.backdropPadding),_t=O.heights[C],re=O.widths[C],Ge=_-J.top,ae=0-J.left;switch(y){case"middle":Ge-=_t/2;break;case"bottom":Ge-=_t;break}switch(L){case"center":ae-=re/2;break;case"right":ae-=re;break;case"inner":C===w-1?ae-=re:C>0&&(ae-=re/2);break}Ce={left:ae,top:Ge,width:re+J.width,height:_t+J.height,color:P.backdropColor}}b.push({label:k,font:H,textOffset:_,options:{rotation:f,color:Y,strokeColor:$,strokeWidth:j,textAlign:me,textBaseline:y,translation:[D,A],backdrop:Ce}})}return b}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Jt(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=t+r,l=s.widest.width,c,d;return e==="left"?o?(d=this.right+r,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?o?(d=this.left+r,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:o,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,r,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,s,a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,s=o.length;r<s;++r){let l=o[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),s=i.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,h;this.isHorizontal()?(c=Xi(t,this.left,s)-s/2,d=Xi(t,this.right,a)+a/2,u=h=l):(u=Xi(t,this.top,s)-s/2,h=Xi(t,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(d,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&tr(i,o);let r=this.getLabelItems(t);for(let s of r){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Ki(i,c,0,d,l,a)}o&&ir(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;let r=lt(i.font),s=xt(i.padding),a=i.align,l=r.lineHeight/2;e==="bottom"||e==="center"||$e(e)?(l+=s.bottom,Ot(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:h}=lx(this,l,e,a);Ki(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:h,textAlign:ax(a,e,o),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=ge(t.grid&&t.grid.z,-1),o=ge(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];a[i]===this.id&&(!t||a.type===t)&&o.push(a)}return o}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return lt(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Do=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;ux(e)&&(i=this.register(e));let o=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,cx(t,s,i),this.override&&He.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in He[o]&&(delete He[o][i],this.override&&delete Sn[i])}};function cx(n,t,e){let i=hu(Object.create(null),[e?He.get(e):{},He.get(t),n.defaults]);He.set(t,i),n.defaultRoutes&&dx(t,n.defaultRoutes),n.descriptors&&He.describe(t,n.descriptors)}function dx(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),o=i.pop(),r=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");He.route(r,o,l,a)})}function ux(n){return"id"in n&&"defaults"in n}var Ec=class{constructor(){this.controllers=new Do(un,"datasets",!0),this.elements=new Do(pi,"elements"),this.plugins=new Do(Object,"plugins"),this.scales=new Do(Nn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(o=>{let r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):Ae(o,s=>{let a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){let o=mu(t);Pe(i["before"+o],[],i),e[t](i),Pe(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return o}},Si=new Ec,Dc=class{constructor(){this._init=[]}notify(t,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=o?this._descriptors(t).filter(o):this._descriptors(t),s=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,o){o=o||{};for(let r of t){let s=r.plugin,a=s[i],l=[e,o,r.options];if(Pe(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,o=ge(i.options&&i.options.plugins,{}),r=hx(i);return o===!1&&!e?[]:px(t,r,o,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}};function hx(n){let t={},e=[],i=Object.keys(Si.plugins.items);for(let r=0;r<i.length;r++)e.push(Si.getPlugin(i[r]));let o=n.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function mx(n,t){return!t&&n===!1?null:n===!0?{}:n}function px(n,{plugins:t,localIds:e},i,o){let r=[],s=n.getContext();for(let a of t){let l=a.id,c=mx(i[l],o);c!==null&&r.push({plugin:a,options:fx(n.config,{plugin:a,local:e[l]},c,s)})}return r}function fx(n,{plugin:t,local:e},i,o){let r=n.pluginScopeKeys(t),s=n.getOptionScopes(i,r);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mc(n,t){let e=He.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function gx(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _x(n,t){return n===t?"_index_":"_value_"}function Zm(n){if(n==="x"||n==="y"||n==="r")return n}function bx(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sc(n,...t){if(Zm(n))return n;for(let e of t){let i=e.axis||bx(e.position)||n.length>1&&Zm(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Jm(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function vx(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Jm(n,"x",e[0])||Jm(n,"y",e[0])}return{}}function yx(n,t){let e=Sn[n.type]||{scales:{}},i=t.scales||{},o=Mc(n.type,t),r=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!$e(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=Sc(s,a,vx(s,n),He.scales[a.type]),c=_x(l,o),d=e.scales||{};r[s]=Ko(Object.create(null),[{axis:l},a,d[l],d[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||Mc(a,t),d=(Sn[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=gx(u,l),m=s[h+"AxisID"]||h;r[m]=r[m]||Object.create(null),Ko(r[m],[{axis:h},i[m],d[u]])})}),Object.keys(r).forEach(s=>{let a=r[s];Ko(a,[He.scales[a.type],He.scale])}),r}function jp(n){let t=n.options||(n.options={});t.plugins=ge(t.plugins,{}),t.scales=yx(n,t)}function zp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function xx(n){return n=n||{},n.data=zp(n.data),jp(n),n}var ep=new Map,Hp=new Set;function Rs(n,t){let e=ep.get(n);return e||(e=t(),ep.set(n,e),Hp.add(e)),e}var Sr=(n,t,e)=>{let i=Dn(t,e);i!==void 0&&n.add(i)},kc=class{constructor(t){this._config=xx(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=zp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),jp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rs(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Rs(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Rs(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return Rs(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,o=i.get(t);return(!o||e)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){let{options:o,type:r}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;let l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(u=>Sr(l,t,u))),d.forEach(u=>Sr(l,o,u)),d.forEach(u=>Sr(l,Sn[r]||{},u)),d.forEach(u=>Sr(l,He,u)),d.forEach(u=>Sr(l,ml,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Hp.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Sn[e]||{},He.datasets[e]||{},{type:e},He,ml]}resolveNamedOptions(t,e,i,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=tp(this._resolverCache,t,o),l=s;if(Cx(s,e)){r.$shared=!1,i=Zo(i)?i():i;let c=this.createResolver(t,i,a);l=gl(s,i,c)}for(let c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],o){let{resolver:r}=tp(this._resolverCache,t,i);return $e(e)?gl(r,e,void 0,o):r}};function tp(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let o=e.join(),r=i.get(o);return r||(r={resolver:Fu(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(o,r)),r}var wx=n=>$e(n)&&Object.getOwnPropertyNames(n).some(t=>Zo(n[t]));function Cx(n,t){let{isScriptable:e,isIndexable:i}=Pu(n);for(let o of t){let r=e(o),s=i(o),a=(s||r)&&n[o];if(r&&(Zo(a)||wx(a))||s&&Ot(a))return!0}return!1}var Ex="4.4.6",Dx=["top","bottom","left","right","chartArea"];function ip(n,t){return n==="top"||n==="bottom"||Dx.indexOf(n)===-1&&t==="x"}function np(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function op(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Pe(e&&e.onComplete,[n],t)}function Mx(n){let t=n.chart,e=t.options.animation;Pe(e&&e.onProgress,[n],t)}function Wp(n){return bl()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var zs={},rp=n=>{let t=Wp(n);return Object.values(zs).filter(e=>e.canvas===t).pop()};function Sx(n,t,e){let i=Object.keys(n);for(let o of i){let r=+o;if(r>=t){let s=n[o];delete n[o],(e>0||r>t)&&(n[r+e]=s)}}}function kx(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Ls(n,t,e){return n.options.clip?n[e]:t[e]}function Ax(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Ls(e,t,"left"),right:Ls(e,t,"right"),top:Ls(i,t,"top"),bottom:Ls(i,t,"bottom")}:t}var ni=(()=>{class n{static defaults=He;static instances=zs;static overrides=Sn;static registry=Si;static version=Ex;static getChart=rp;static register(...e){Si.add(...e),sp()}static unregister(...e){Si.remove(...e),sp()}constructor(e,i){let o=this.config=new kc(i),r=Wp(e),s=rp(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||Xy(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=cu(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Eu(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],zs[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ni.listen(this,"complete",op),Ni.listen(this,"progress",Mx),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:o,height:r,_aspectRatio:s}=this;return ke(e)?i&&s?s:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Si}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fl(this.canvas,this.ctx),this}stop(){return Ni.stop(this),this}resize(e,i){Ni.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,i,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yl(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Pe(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Ae(i,(o,r)=>{o.id=r})}buildOrUpdateScales(){let e=this.options,i=e.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=Sc(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Ae(s,a=>{let l=a.options,c=l.id,d=Sc(c,l),u=ge(l.type,a.dtype);(l.position===void 0||ip(l.position,d)!==ip(a.dposition))&&(l.position=a.dposition),r[c]=!0;let h=null;if(c in o&&o[c].type===u)h=o[c];else{let m=Si.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),o[h.id]=h}h.init(l,e)}),Ae(r,(a,l)=>{a||delete o[l]}),Ae(o,a=>{It.configure(this,a,a.options),It.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,o=e.length;if(e.sort((r,s)=>r.index-s.index),o>i){for(let r=i;r<o;++r)this._destroyDatasetMeta(r);e.splice(i,o-i)}this._sortedMetasets=e.slice(0).sort(np("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((o,r)=>{i.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=i.length;o<r;o++){let s=i[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||Mc(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=Si.getController(l),{datasetElementType:d,dataElementType:u}=He.datasets[l];Object.assign(c,{dataElementType:Si.getElement(u),datasetElementType:d&&Si.getElement(d)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),m=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||Ae(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(np("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ae(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!tl(i,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of i){let a=o==="_removeElements"?-s:s;Sx(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,o=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<i;s++)if(!tl(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);let i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],Ae(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,Zo(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let o=this.getDatasetMeta(e),r={meta:o,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ni.has(this)?this.attached&&!Ni.running(this)&&Ni.start(this):(this.draw(),op({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,o=[],r,s;for(r=0,s=i.length;r<s;++r){let a=i[r];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,o=e._clip,r=!o.disabled,s=Ax(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&tr(i,{left:o.left===!1?0:s.left-o.left,right:o.right===!1?this.width:s.right+o.right,top:o.top===!1?0:s.top-o.top,bottom:o.bottom===!1?this.height:s.bottom+o.bottom}),e.controller.draw(),r&&ir(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Qi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,o,r){let s=Iy.modes[i];return typeof s=="function"?s(this,e,o,r):[]}getDatasetMeta(e){let i=this.data.datasets[e],o=this._metasets,r=o.filter(s=>s&&s._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Ji(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!i.hidden}setDatasetVisibility(e,i){let o=this.getDatasetMeta(e);o.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,o){let r=o?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);io(i)?(s.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Ni.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fl(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete zs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,o=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Ae(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,o=(c,d)=>{i.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(i.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Ae(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ae(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,o){let r=o?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],o=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Qo(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(e,i,o){return this._plugins.notify(this,e,i,o)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,o){let r=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(i,e),l=o?e:s(e,i);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,i){let o={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(e,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(e,i,o){let{_active:r=[],options:s}=this,a=i,l=this._getActiveElements(e,r,o,a),c=pu(e),d=kx(e,this._lastEvent,o,c);o&&(this._lastEvent=null,Pe(s.onHover,[e,l,this],this),c&&Pe(s.onClick,[e,l,this],this));let u=!Qo(l,r);return(u||i)&&(this._active=l,this._updateHoverStyles(l,r,i)),this._lastEvent=d,u}_getActiveElements(e,i,o,r){if(e.type==="mouseout")return[];if(!o)return i;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}return n})();function sp(){return Ae(ni.instances,n=>n._plugins.invalidate())}function Ix(n,t,e){let{startAngle:i,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=t,c=o/a;n.beginPath(),n.arc(r,s,a,i-c,e+c),l>o?(c=o/l,n.arc(r,s,l,e+c,i-c,!0)):n.arc(r,s,o,e+qt,i-qt),n.closePath(),n.clip()}function Tx(n){return Iu(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Ox(n,t,e,i){let o=Tx(n.options.borderRadius),r=(e-t)/2,s=Math.min(r,i*t/2),a=l=>{let c=(e-Math.min(r,l))*i/2;return Mt(l,0,Math.min(r,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:Mt(o.innerStart,0,s),innerEnd:Mt(o.innerEnd,0,s)}}function Eo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function $s(n,t,e,i,o,r){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+i+e-c,0),h=d>0?d+i+e+c:0,m=0,p=o-l;if(i){let P=d>0?d-i:0,N=u>0?u-i:0,Y=(P+N)/2,$=Y!==0?p*Y/(Y+i):p;m=(p-$)/2}let f=Math.max(.001,p*u-e/vi)/u,b=(p-f)/2,C=l+b+m,w=o-b-m,{outerStart:I,outerEnd:k,innerStart:D,innerEnd:A}=Ox(t,h,u,w-C),L=u-I,F=u-k,H=C+I/L,W=w-k/F,z=h+D,_=h+A,y=C+D/z,O=w-A/_;if(n.beginPath(),r){let P=(H+W)/2;if(n.arc(s,a,u,H,P),n.arc(s,a,u,P,W),k>0){let j=Eo(F,W,s,a);n.arc(j.x,j.y,k,W,w+qt)}let N=Eo(_,w,s,a);if(n.lineTo(N.x,N.y),A>0){let j=Eo(_,O,s,a);n.arc(j.x,j.y,A,w+qt,O+Math.PI)}let Y=(w-A/h+(C+D/h))/2;if(n.arc(s,a,h,w-A/h,Y,!0),n.arc(s,a,h,Y,C+D/h,!0),D>0){let j=Eo(z,y,s,a);n.arc(j.x,j.y,D,y+Math.PI,C-qt)}let $=Eo(L,C,s,a);if(n.lineTo($.x,$.y),I>0){let j=Eo(L,H,s,a);n.arc(j.x,j.y,I,C-qt,H)}}else{n.moveTo(s,a);let P=Math.cos(H)*u+s,N=Math.sin(H)*u+a;n.lineTo(P,N);let Y=Math.cos(W)*u+s,$=Math.sin(W)*u+a;n.lineTo(Y,$)}n.closePath()}function Fx(n,t,e,i,o){let{fullCircles:r,startAngle:s,circumference:a}=t,l=t.endAngle;if(r){$s(n,t,e,i,l,o);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=s+(a%Dt||Dt))}return $s(n,t,e,i,l,o),n.fill(),l}function Px(n,t,e,i,o){let{fullCircles:r,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,m=l.borderAlign==="inner";if(!c)return;n.setLineDash(u||[]),n.lineDashOffset=h,m?(n.lineWidth=c*2,n.lineJoin=d||"round"):(n.lineWidth=c,n.lineJoin=d||"bevel");let p=t.endAngle;if(r){$s(n,t,e,i,p,o);for(let f=0;f<r;++f)n.stroke();isNaN(a)||(p=s+(a%Dt||Dt))}m&&Ix(n,t,p),r||($s(n,t,e,i,p,o),n.stroke())}var Ac=class extends pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let o=this.getProps(["x","y"],i),{angle:r,distance:s}=rl(o,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,m=ge(u,l-a),p=Jo(r,a,l)&&a!==l,f=m>=Dt||p,b=Li(s,c+h,d+h);return f&&b}getCenterPoint(t){let{x:e,y:i,startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(o+r)/2,u=(s+a+c+l)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Dt?Math.floor(i/Dt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(vi,i||0)),c=o*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Fx(t,this,c,r,s),Px(t,this,c,r,s),t.restore()}};function Up(n,t,e=t){n.lineCap=ge(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ge(e.borderDash,t.borderDash)),n.lineDashOffset=ge(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ge(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ge(e.borderWidth,t.borderWidth),n.strokeStyle=ge(e.borderColor,t.borderColor)}function Rx(n,t,e){n.lineTo(e.x,e.y)}function Lx(n){return n.stepped?ku:n.tension||n.cubicInterpolationMode==="monotone"?Au:Rx}function $p(n,t,e={}){let i=n.length,{start:o=0,end:r=i-1}=e,{start:s,end:a}=t,l=Math.max(o,s),c=Math.min(r,a),d=o<s&&r<s||o>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function Vx(n,t,e,i){let{points:o,options:r}=t,{count:s,start:a,loop:l,ilen:c}=$p(o,e,i),d=Lx(r),{move:u=!0,reverse:h}=i||{},m,p,f;for(m=0;m<=c;++m)p=o[(a+(h?c-m:m))%s],!p.skip&&(u?(n.moveTo(p.x,p.y),u=!1):d(n,f,p,h,r.stepped),f=p);return l&&(p=o[(a+(h?c:0))%s],d(n,f,p,h,r.stepped)),!!l}function Nx(n,t,e,i){let o=t.points,{count:r,start:s,ilen:a}=$p(o,e,i),{move:l=!0,reverse:c}=i||{},d=0,u=0,h,m,p,f,b,C,w=k=>(s+(c?a-k:k))%r,I=()=>{f!==b&&(n.lineTo(d,b),n.lineTo(d,f),n.lineTo(d,C))};for(l&&(m=o[w(0)],n.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=o[w(h)],m.skip)continue;let k=m.x,D=m.y,A=k|0;A===p?(D<f?f=D:D>b&&(b=D),d=(u*d+k)/++u):(I(),n.lineTo(k,D),p=A,u=0,f=b=D),C=D}I()}function Ic(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Nx:Vx}function Bx(n){return n.stepped?Bu:n.tension||n.cubicInterpolationMode==="monotone"?ju:Nu}function jx(n,t,e,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,i)&&o.closePath()),Up(n,t.options),n.stroke(o)}function zx(n,t,e,i){let{segments:o,options:r}=t,s=Ic(t);for(let a of o)Up(n,r,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var Hx=typeof Path2D=="function";function Wx(n,t,e,i){Hx&&!t.options.segment?jx(n,t,e,i):zx(n,t,e,i)}var Gs=(()=>{class n extends pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;Ru(this._points,o,e,r,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hu(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,o=e.length;return o&&i[e[o-1].end]}interpolate(e,i){let o=this.options,r=e[i],s=this.points,a=El(this,{property:i,start:r,end:r});if(!a.length)return;let l=[],c=Bx(o),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:m}=a[d],p=s[h],f=s[m];if(p===f){l.push(p);continue}let b=Math.abs((r-p[i])/(f[i]-p[i])),C=c(p,f,b,o.stepped);C[i]=e[i],l.push(C)}return l.length===1?l[0]:l}pathSegment(e,i,o){return Ic(this)(e,this,i,o)}path(e,i,o){let r=this.segments,s=Ic(this),a=this._loop;i=i||0,o=o||this.points.length-i;for(let l of r)a&=s(e,this,l,{start:i,end:i+o-1});return!!a}draw(e,i,o,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Wx(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function ap(n,t,e,i){let o=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<o.radius+o.hitRadius}var Ux=(()=>{class n extends pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){let r=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return ap(this,e,"x",i)}inYRange(e,i){return ap(this,e,"y",i)}getCenterPoint(e){let{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){let o=this.options;this.skip||o.radius<.1||!Qi(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,os(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function Yp(n,t){let{x:e,y:i,base:o,width:r,height:s}=n.getProps(["x","y","base","width","height"],t),a,l,c,d,u;return n.horizontal?(u=s/2,a=Math.min(e,o),l=Math.max(e,o),c=i-u,d=i+u):(u=r/2,a=e-u,l=e+u,c=Math.min(i,o),d=Math.max(i,o)),{left:a,top:c,right:l,bottom:d}}function dn(n,t,e,i){return n?0:Mt(t,e,i)}function $x(n,t,e){let i=n.options.borderWidth,o=n.borderSkipped,r=Tu(i);return{t:dn(o.top,r.top,0,e),r:dn(o.right,r.right,0,t),b:dn(o.bottom,r.bottom,0,e),l:dn(o.left,r.left,0,t)}}function Yx(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,r=Zi(o),s=Math.min(t,e),a=n.borderSkipped,l=i||$e(o);return{topLeft:dn(!l||a.top||a.left,r.topLeft,0,s),topRight:dn(!l||a.top||a.right,r.topRight,0,s),bottomLeft:dn(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:dn(!l||a.bottom||a.right,r.bottomRight,0,s)}}function qx(n){let t=Yp(n),e=t.right-t.left,i=t.bottom-t.top,o=$x(n,e/2,i/2),r=Yx(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function gc(n,t,e,i){let o=t===null,r=e===null,a=n&&!(o&&r)&&Yp(n,i);return a&&(o||Li(t,a.left,a.right))&&(r||Li(e,a.top,a.bottom))}function Gx(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Xx(n,t){n.rect(t.x,t.y,t.w,t.h)}function _c(n,t,e={}){let i=n.x!==e.x?-t:0,o=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,s=(n.y+n.h!==e.y+e.h?t:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+r,h:n.h+s,radius:n.radius}}var Tc=class extends pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:s}=qx(this),a=Gx(s.radius)?so:Xx;t.save(),(s.w!==r.w||s.h!==r.h)&&(t.beginPath(),a(t,_c(s,e,r)),t.clip(),a(t,_c(r,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,_c(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return gc(this,t,e,i)}inXRange(t,e){return gc(this,t,null,e)}inYRange(t,e){return gc(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?i:(i+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Qx=Object.freeze({__proto__:null,ArcElement:Ac,BarElement:Tc,LineElement:Gs,PointElement:Ux}),Oc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lp=Oc.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function qp(n){return Oc[n%Oc.length]}function Gp(n){return lp[n%lp.length]}function Kx(n,t){return n.borderColor=qp(t),n.backgroundColor=Gp(t),++t}function Zx(n,t){return n.backgroundColor=n.data.map(()=>qp(t++)),t}function Jx(n,t){return n.backgroundColor=n.data.map(()=>Gp(t++)),t}function ew(n){let t=0;return(e,i)=>{let o=n.getDatasetMeta(i).controller;o instanceof jc?t=Zx(e,t):o instanceof Rp?t=Jx(e,t):o&&(t=Kx(e,t))}}function cp(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function tw(n){return n&&(n.borderColor||n.backgroundColor)}function iw(){return He.borderColor!=="rgba(0,0,0,0.1)"||He.backgroundColor!=="rgba(0,0,0,0.1)"}var nw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:o}=n.config,{elements:r}=o,s=cp(i)||tw(o)||r&&cp(r)||iw();if(!e.forceOverride&&s)return;let a=ew(n);i.forEach(a)}};function ow(n,t,e,i,o){let r=o.samples||i;if(r>=e)return n.slice(t,t+e);let s=[],a=(e-2)/(r-2),l=0,c=t+e-1,d=t,u,h,m,p,f;for(s[l++]=n[d],u=0;u<r-2;u++){let b=0,C=0,w,I=Math.floor((u+1)*a)+1+t,k=Math.min(Math.floor((u+2)*a)+1,e)+t,D=k-I;for(w=I;w<k;w++)b+=n[w].x,C+=n[w].y;b/=D,C/=D;let A=Math.floor(u*a)+1+t,L=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:F,y:H}=n[d];for(m=p=-1,w=A;w<L;w++)p=.5*Math.abs((F-b)*(n[w].y-H)-(F-n[w].x)*(C-H)),p>m&&(m=p,h=n[w],f=w);s[l++]=h,d=f}return s[l++]=n[c],s}function rw(n,t,e,i){let o=0,r=0,s,a,l,c,d,u,h,m,p,f,b=[],C=t+e-1,w=n[t].x,k=n[C].x-w;for(s=t;s<t+e;++s){a=n[s],l=(a.x-w)/k*i,c=a.y;let D=l|0;if(D===d)c<p?(p=c,u=s):c>f&&(f=c,h=s),o=(r*o+a.x)/++r;else{let A=s-1;if(!ke(u)&&!ke(h)){let L=Math.min(u,h),F=Math.max(u,h);L!==m&&L!==A&&b.push(rt(he({},n[L]),{x:o})),F!==m&&F!==A&&b.push(rt(he({},n[F]),{x:o}))}s>0&&A!==m&&b.push(n[A]),b.push(a),d=D,r=0,p=f=c,u=h=m=s}}return b}function Xp(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function dp(n){n.data.datasets.forEach(t=>{Xp(t)})}function sw(n,t){let e=t.length,i=0,o,{iScale:r}=n,{min:s,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Mt(ro(t,r.axis,s).lo,0,e-1)),c?o=Mt(ro(t,r.axis,a).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var aw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){dp(n);return}let i=n.width;n.data.datasets.forEach((o,r)=>{let{_data:s,indexAxis:a}=o,l=n.getDatasetMeta(r),c=s||o.data;if(ao([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=n.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:u,count:h}=sw(l,c),m=e.threshold||4*i;if(h<=m){Xp(o);return}ke(s)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(f){this._data=f}}));let p;switch(e.algorithm){case"lttb":p=ow(c,u,h,i,e);break;case"min-max":p=rw(c,u,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=p})},destroy(n){dp(n)}};function lw(n,t,e){let i=n.segments,o=n.points,r=t.points,s=[];for(let a of i){let{start:l,end:c}=a;c=zc(l,c,o);let d=Fc(e,o[l],o[c],a.loop);if(!t.segments){s.push({source:a,target:d,start:o[l],end:o[c]});continue}let u=El(t,d);for(let h of u){let m=Fc(e,r[h.start],r[h.end],h.loop),p=zu(a,o,m);for(let f of p)s.push({source:f,target:h,start:{[e]:up(d,m,"start",Math.max)},end:{[e]:up(d,m,"end",Math.min)}})}}return s}function Fc(n,t,e,i){if(i)return;let o=t[n],r=e[n];return n==="angle"&&(o=oo(o),r=oo(r)),{property:n,start:o,end:r}}function cw(n,t){let{x:e=null,y:i=null}=n||{},o=t.points,r=[];return t.segments.forEach(({start:s,end:a})=>{a=zc(s,a,o);let l=o[s],c=o[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function zc(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function up(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Qp(n,t){let e=[],i=!1;return Ot(n)?(i=!0,e=n):e=cw(n,t),e.length?new Gs({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function hp(n){return n&&n.fill!==!1}function dw(n,t,e){let o=n[t].fill,r=[t],s;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!Je(o))return o;if(s=n[o],!s)return!1;if(s.visible)return o;r.push(o),o=s.fill}return!1}function uw(n,t,e){let i=fw(n);if($e(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Je(o)&&Math.floor(o)===o?hw(i[0],t,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function hw(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function mw(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:$e(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function pw(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:$e(n)?i=n.value:i=t.getBaseValue(),i}function fw(n){let t=n.options,e=t.fill,i=ge(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function gw(n){let{scale:t,index:e,line:i}=n,o=[],r=i.segments,s=i.points,a=_w(t,e);a.push(Qp({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){let c=r[l];for(let d=c.start;d<=c.end;d++)bw(o,s[d],a)}return new Gs({points:o,options:{}})}function _w(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let r=i[o];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function bw(n,t,e){let i=[];for(let o=0;o<e.length;o++){let r=e[o],{first:s,last:a,point:l}=vw(r,t,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function vw(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let o=i[e],r=n.segments,s=n.points,a=!1,l=!1;for(let c=0;c<r.length;c++){let d=r[c],u=s[d.start][e],h=s[d.end][e];if(Li(o,u,h)){a=o===u,l=o===h;break}}return{first:a,last:l,point:i}}var Ys=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:o,y:r,radius:s}=this;return e=e||{start:0,end:Dt},t.arc(o,r,s,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:o}=this,r=t.angle;return{x:e+Math.cos(r)*o,y:i+Math.sin(r)*o,angle:r}}};function yw(n){let{chart:t,fill:e,line:i}=n;if(Je(e))return xw(t,e);if(e==="stack")return gw(n);if(e==="shape")return!0;let o=ww(n);return o instanceof Ys?o:Qp(o,i)}function xw(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function ww(n){return(n.scale||{}).getPointPositionForValue?Ew(n):Cw(n)}function Cw(n){let{scale:t={},fill:e}=n,i=mw(e,t);if(Je(i)){let o=t.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function Ew(n){let{scale:t,fill:e}=n,i=t.options,o=t.getLabels().length,r=i.reverse?t.max:t.min,s=pw(e,t,r),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,r);return new Ys({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(t.getPointPositionForValue(l,s));return a}function bc(n,t,e){let i=yw(t),{line:o,scale:r,axis:s}=t,a=o.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};i&&o.points.length&&(tr(n,e),Dw(n,{line:o,target:i,above:d,below:u,area:e,scale:r,axis:s}),ir(n))}function Dw(n,t){let{line:e,target:i,above:o,below:r,area:s,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&r!==o&&(mp(n,i,s.top),pp(n,{line:e,target:i,color:o,scale:a,property:l}),n.restore(),n.save(),mp(n,i,s.bottom)),pp(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore()}function mp(n,t,e){let{segments:i,points:o}=t,r=!0,s=!1;n.beginPath();for(let a of i){let{start:l,end:c}=a,d=o[l],u=o[zc(l,c,o)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(u.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function pp(n,t){let{line:e,target:i,property:o,color:r,scale:s}=t,a=lw(e,i,o);for(let{source:l,target:c,start:d,end:u}of a){let{style:{backgroundColor:h=r}={}}=l,m=i!==!0;n.save(),n.fillStyle=h,Mw(n,s,m&&Fc(o,d,u)),n.beginPath();let p=!!e.pathSegment(n,l),f;if(m){p?n.closePath():fp(n,i,u,o);let b=!!i.pathSegment(n,c,{move:p,reverse:!0});f=p&&b,f||fp(n,i,d,o)}n.closePath(),n.fill(f?"evenodd":"nonzero"),n.restore()}}function Mw(n,t,e){let{top:i,bottom:o}=t.chart.chartArea,{property:r,start:s,end:a}=e||{};r==="x"&&(n.beginPath(),n.rect(s,i,a-s,o-i),n.clip())}function fp(n,t,e,i){let o=t.interpolate(e,i);o&&n.lineTo(o.x,o.y)}var Sw={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,o=[],r,s,a,l;for(s=0;s<i;++s)r=n.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof Gs&&(l={visible:n.isDatasetVisible(s),index:s,fill:uw(a,s,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<i;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=dw(o,s,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let s=o.length-1;s>=0;--s){let a=o[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&bc(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let r=i[o].$filler;hp(r)&&bc(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!hp(i)||e.drawTime!=="beforeDatasetDraw"||bc(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},gp=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},kw=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,qs=class extends pi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Pe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,o=lt(i.font),r=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=gp(i,r),c,d;e.font=o.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,r,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){let{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=o+a,u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((p,f)=>{let b=i+e/2+r.measureText(p.text).width;(f===0||c[c.length-1]+b+2*a>s)&&(u+=d,c[c.length-(f>0?0:1)]=0,m+=d,h++),l[f]={left:0,top:m,row:h,width:b,height:o},c[c.length-1]+=b+a}),u}_fitCols(t,e,i,o){let{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-t,u=a,h=0,m=0,p=0,f=0;return this.legendItems.forEach((b,C)=>{let{itemWidth:w,itemHeight:I}=Aw(i,e,r,b,o);C>0&&m+I+2*a>d&&(u+=h+a,c.push({width:h,height:m}),p+=h+a,f++,h=m=0),l[C]={left:p,top:m,col:f,width:w,height:I},h=Math.max(h,w),m+=I+a}),u+=h,c.push({width:h,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:r}}=this,s=kn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=yt(i,this.left+o,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=yt(i,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+t+o,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+o}else{let a=0,l=yt(i,this.top+t+o,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=yt(i,this.top+t+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;tr(t,this),this._draw(),ir(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:r,labels:s}=t,a=He.color,l=kn(t.rtl,this.left,this.width),c=lt(s.font),{padding:d}=s,u=c.size,h=u/2,m;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;let{boxWidth:p,boxHeight:f,itemHeight:b}=gp(s,u),C=function(A,L,F){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;o.save();let H=ge(F.lineWidth,1);if(o.fillStyle=ge(F.fillStyle,a),o.lineCap=ge(F.lineCap,"butt"),o.lineDashOffset=ge(F.lineDashOffset,0),o.lineJoin=ge(F.lineJoin,"miter"),o.lineWidth=H,o.strokeStyle=ge(F.strokeStyle,a),o.setLineDash(ge(F.lineDash,[])),s.usePointStyle){let W={radius:f*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:H},z=l.xPlus(A,p/2),_=L+h;Su(o,W,z,_,s.pointStyleWidth&&p)}else{let W=L+Math.max((u-f)/2,0),z=l.leftForLtr(A,p),_=Zi(F.borderRadius);o.beginPath(),Object.values(_).some(y=>y!==0)?so(o,{x:z,y:W,w:p,h:f,radius:_}):o.rect(z,W,p,f),o.fill(),H!==0&&o.stroke()}o.restore()},w=function(A,L,F){Ki(o,F.text,A,L+b/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},I=this.isHorizontal(),k=this._computeTitleHeight();I?m={x:yt(r,this.left+d,this.right-i[0]),y:this.top+d+k,line:0}:m={x:this.left+d,y:yt(r,this.top+k+d,this.bottom-e[0].height),line:0},wl(this.ctx,t.textDirection);let D=b+d;this.legendItems.forEach((A,L)=>{o.strokeStyle=A.fontColor,o.fillStyle=A.fontColor;let F=o.measureText(A.text).width,H=l.textAlign(A.textAlign||(A.textAlign=s.textAlign)),W=p+h+F,z=m.x,_=m.y;l.setWidth(this.width),I?L>0&&z+W+d>this.right&&(_=m.y+=D,m.line++,z=m.x=yt(r,this.left+d,this.right-i[m.line])):L>0&&_+D>this.bottom&&(z=m.x=z+e[m.line].width+d,m.line++,_=m.y=yt(r,this.top+k+d,this.bottom-e[m.line].height));let y=l.x(z);if(C(y,_,A),z=Du(H,z+p+h,I?z+W:this.right,t.rtl),w(l.x(z),_,A),I)m.x+=W+d;else if(typeof A.text!="string"){let O=c.lineHeight;m.y+=Kp(A,O)+d}else m.y+=D}),Cl(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=lt(e.font),o=xt(e.padding);if(!e.display)return;let r=kn(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=i.size/2,c=o.top+l,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=yt(t.align,u,this.right-h);else{let p=this.columnSizes.reduce((f,b)=>Math.max(f,b.height),0);d=c+yt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}let m=yt(a,u,u+h);s.textAlign=r.textAlign(is(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,Ki(s,e.text,m,d,i)}_computeTitleHeight(){let t=this.options.title,e=lt(t.font),i=xt(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,r;if(Li(t,this.left,this.right)&&Li(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],Li(t,o.left,o.left+o.width)&&Li(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!Ow(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let o=this._hoveredItem,r=kw(o,i);o&&!r&&Pe(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!r&&Pe(e.onHover,[t,i,this],this)}else i&&Pe(e.onClick,[t,i,this],this)}};function Aw(n,t,e,i,o){let r=Iw(i,n,t,e),s=Tw(o,i,t.lineHeight);return{itemWidth:r,itemHeight:s}}function Iw(n,t,e,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((r,s)=>r.length>s.length?r:s)),t+e.size/2+i.measureText(o).width}function Tw(n,t,e){let i=n;return typeof t.text!="string"&&(i=Kp(t,e)),i}function Kp(n,t){let e=n.text?n.text.length:0;return t*e}function Ow(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Fw={id:"legend",_element:qs,start(n,t,e){let i=n.legend=new qs({ctx:n.ctx,options:e,chart:n});It.configure(n,i,e),It.addBox(n,i)},stop(n){It.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;It.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=xt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Tr=class extends pi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let o=Ot(i.text)?i.text.length:1;this._padding=xt(i.padding);let r=o*lt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:o,right:r,options:s}=this,a=s.align,l=0,c,d,u;return this.isHorizontal()?(d=yt(a,i,r),u=e+t,c=r-i):(s.position==="left"?(d=i+t,u=yt(a,o,e),l=vi*-.5):(d=r-t,u=yt(a,e,o),l=vi*.5),c=o-e),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=lt(e.font),r=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ki(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:is(e.align),textBaseline:"middle",translation:[s,a]})}};function Pw(n,t){let e=new Tr({ctx:n.ctx,options:t,chart:n});It.configure(n,e,t),It.addBox(n,e),n.titleBlock=e}var Rw={id:"title",_element:Tr,start(n,t,e){Pw(n,e)},stop(n){let t=n.titleBlock;It.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;It.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vs=new WeakMap,Lw={id:"subtitle",start(n,t,e){let i=new Tr({ctx:n.ctx,options:e,chart:n});It.configure(n,i,e),It.addBox(n,i),Vs.set(n,i)},stop(n){It.removeBox(n,Vs.get(n)),Vs.delete(n)},beforeUpdate(n,t,e){let i=Vs.get(n);It.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ar={average(n){if(!n.length)return!1;let t,e,i=new Set,o=0,r=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),o+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:o/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,o=Number.POSITIVE_INFINITY,r,s,a;for(r=0,s=n.length;r<s;++r){let l=n[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=_u(t,c);d<o&&(o=d,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Mi(n,t){return t&&(Ot(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Bi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Vw(n,t){let{element:e,datasetIndex:i,index:o}=t,r=n.getDatasetMeta(i).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:n,label:s,parsed:r.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function _p(n,t){let e=n.chart.ctx,{body:i,footer:o,title:r}=n,{boxWidth:s,boxHeight:a}=t,l=lt(t.bodyFont),c=lt(t.titleFont),d=lt(t.footerFont),u=r.length,h=o.length,m=i.length,p=xt(t.padding),f=p.height,b=0,C=i.reduce((k,D)=>k+D.before.length+D.lines.length+D.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),C){let k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;f+=m*k+(C-m)*l.lineHeight+(C-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let w=0,I=function(k){b=Math.max(b,e.measureText(k).width+w)};return e.save(),e.font=c.string,Ae(n.title,I),e.font=l.string,Ae(n.beforeBody.concat(n.afterBody),I),w=t.displayColors?s+2+t.boxPadding:0,Ae(i,k=>{Ae(k.before,I),Ae(k.lines,I),Ae(k.after,I)}),w=0,e.font=d.string,Ae(n.footer,I),e.restore(),b+=p.width,{width:b,height:f}}function Nw(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Bw(n,t,e,i){let{x:o,width:r}=i,s=e.caretSize+e.caretPadding;if(n==="left"&&o+r+s>t.width||n==="right"&&o-r-s<0)return!0}function jw(n,t,e,i){let{x:o,width:r}=e,{width:s,chartArea:{left:a,right:l}}=n,c="center";return i==="center"?c=o<=(a+l)/2?"left":"right":o<=r/2?c="left":o>=s-r/2&&(c="right"),Bw(c,n,t,e)&&(c="center"),c}function bp(n,t,e){let i=e.yAlign||t.yAlign||Nw(n,e);return{xAlign:e.xAlign||t.xAlign||jw(n,t,e,i),yAlign:i}}function zw(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Hw(n,t,e){let{y:i,height:o}=n;return t==="top"?i+=e:t==="bottom"?i-=o+e:i-=o/2,i}function vp(n,t,e,i){let{caretSize:o,caretPadding:r,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,c=o+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Zi(s),p=zw(t,a),f=Hw(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(d,h)+o:a==="right"&&(p+=Math.max(u,m)+o),{x:Mt(p,0,i.width-t.width),y:Mt(f,0,i.height-t.height)}}function Ns(n,t,e){let i=xt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function yp(n){return Mi([],Bi(n))}function Ww(n,t,e){return Ji(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function xp(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var Zp={beforeTitle:bi,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:bi,beforeBody:bi,beforeLabel:bi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return ke(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:bi,afterBody:bi,beforeFooter:bi,footer:bi,afterFooter:bi};function Ht(n,t,e,i){let o=n[t].call(e,i);return typeof o>"u"?Zp[t].call(e,i):o}var wp=(()=>{class n extends pi{static positioners=Ar;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&i.options.animation&&o.animations,s=new Hs(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ww(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:o}=i,r=Ht(o,"beforeTitle",this,e),s=Ht(o,"title",this,e),a=Ht(o,"afterTitle",this,e),l=[];return l=Mi(l,Bi(r)),l=Mi(l,Bi(s)),l=Mi(l,Bi(a)),l}getBeforeBody(e,i){return yp(Ht(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:o}=i,r=[];return Ae(e,s=>{let a={before:[],lines:[],after:[]},l=xp(o,s);Mi(a.before,Bi(Ht(l,"beforeLabel",this,s))),Mi(a.lines,Ht(l,"label",this,s)),Mi(a.after,Bi(Ht(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,i){return yp(Ht(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:o}=i,r=Ht(o,"beforeFooter",this,e),s=Ht(o,"footer",this,e),a=Ht(o,"afterFooter",this,e),l=[];return l=Mi(l,Bi(r)),l=Mi(l,Bi(s)),l=Mi(l,Bi(a)),l}_createItems(e){let i=this._active,o=this.chart.data,r=[],s=[],a=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(Vw(this.chart,i[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,o))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,o))),Ae(l,u=>{let h=xp(e.callbacks,u);r.push(Ht(h,"labelColor",this,u)),s.push(Ht(h,"labelPointStyle",this,u)),a.push(Ht(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){let o=this.options.setContext(this.getContext()),r=this._active,s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let l=Ar[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let c=this._size=_p(this,o),d=Object.assign({},l,c),u=bp(this.chart,o,d),h=vp(o,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,o,r){let s=this.getCaretPosition(e,o,r);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,o){let{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Zi(l),{x:m,y:p}=e,{width:f,height:b}=i,C,w,I,k,D,A;return s==="center"?(D=p+b/2,r==="left"?(C=m,w=C-a,k=D+a,A=D-a):(C=m+f,w=C+a,k=D-a,A=D+a),I=C):(r==="left"?w=m+Math.max(c,u)+a:r==="right"?w=m+f-Math.max(d,h)-a:w=this.caretX,s==="top"?(k=p,D=k-a,C=w-a,I=w+a):(k=p+b,D=k+a,C=w+a,I=w-a),A=k),{x1:C,x2:w,x3:I,y1:k,y2:D,y3:A}}drawTitle(e,i,o){let r=this.title,s=r.length,a,l,c;if(s){let d=kn(o.rtl,this.x,this.width);for(e.x=Ns(this,o.titleAlign,o),i.textAlign=d.textAlign(o.titleAlign),i.textBaseline="middle",a=lt(o.titleFont),l=o.titleSpacing,i.fillStyle=o.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,i,o,r,s){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:d}=s,u=lt(s.bodyFont),h=Ns(this,"left",s),m=r.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,f=i.y+p;if(s.usePointStyle){let b={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},C=r.leftForLtr(m,d)+d/2,w=f+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,os(e,b,C,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,os(e,b,C,w)}else{e.lineWidth=$e(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let b=r.leftForLtr(m,d),C=r.leftForLtr(r.xPlus(m,1),d-2),w=Zi(a.borderRadius);Object.values(w).some(I=>I!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,so(e,{x:b,y:f,w:d,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),so(e,{x:C,y:f+1,w:d-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,f,d,c),e.strokeRect(b,f,d,c),e.fillStyle=a.backgroundColor,e.fillRect(C,f+1,d-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,i,o){let{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=o,h=lt(o.bodyFont),m=h.lineHeight,p=0,f=kn(o.rtl,this.x,this.width),b=function(H){i.fillText(H,f.x(e.x+p),e.y+m/2),e.y+=m+s},C=f.textAlign(a),w,I,k,D,A,L,F;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,e.x=Ns(this,C,o),i.fillStyle=o.bodyColor,Ae(this.beforeBody,b),p=l&&C!=="right"?a==="center"?d/2+u:d+2+u:0,D=0,L=r.length;D<L;++D){for(w=r[D],I=this.labelTextColors[D],i.fillStyle=I,Ae(w.before,b),k=w.lines,l&&k.length&&(this._drawColorBox(i,e,D,f,o),m=Math.max(h.lineHeight,c)),A=0,F=k.length;A<F;++A)b(k[A]),m=h.lineHeight;Ae(w.after,b)}p=0,m=h.lineHeight,Ae(this.afterBody,b),e.y-=s}drawFooter(e,i,o){let r=this.footer,s=r.length,a,l;if(s){let c=kn(o.rtl,this.x,this.width);for(e.x=Ns(this,o.footerAlign,o),e.y+=o.footerMarginTop,i.textAlign=c.textAlign(o.footerAlign),i.textBaseline="middle",a=lt(o.footerFont),i.fillStyle=o.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,i,o,r){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=o,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:f}=Zi(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(e,i,o,r),i.lineTo(l+d-m,c),i.quadraticCurveTo(l+d,c,l+d,c+m),a==="center"&&s==="right"&&this.drawCaret(e,i,o,r),i.lineTo(l+d,c+u-f),i.quadraticCurveTo(l+d,c+u,l+d-f,c+u),a==="bottom"&&this.drawCaret(e,i,o,r),i.lineTo(l+p,c+u),i.quadraticCurveTo(l,c+u,l,c+u-p),a==="center"&&s==="left"&&this.drawCaret(e,i,o,r),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,o=this.$animations,r=o&&o.x,s=o&&o.y;if(r||s){let a=Ar[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=_p(this,e),c=Object.assign({},a,this._size),d=bp(i,e,c),u=vp(e,c,d,i);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=xt(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(s,e,r,i),wl(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),Cl(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let o=this._active,r=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!Qo(o,r),a=this._positionChanged(r,i);(s||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,o),l=this._positionChanged(a,e),c=i||!Qo(a,s)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,o,r){let s=this.options;if(e.type==="mouseout")return[];if(!r)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,o);return s.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:o,caretY:r,options:s}=this,a=Ar[s.position].call(this,e,i);return a!==!1&&(o!==a.x||r!==a.y)}}return n})(),Uw={id:"tooltip",_element:wp,positioners:Ar,afterInit(n,t,e){e&&(n.tooltip=new wp({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",rt(he({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$w=Object.freeze({__proto__:null,Colors:nw,Decimation:aw,Filler:Sw,Legend:Fw,SubTitle:Lw,Title:Rw,Tooltip:Uw}),Yw=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function qw(n,t,e,i){let o=n.indexOf(t);if(o===-1)return Yw(n,t,e,i);let r=n.lastIndexOf(t);return o!==r?e:o}var Gw=(n,t)=>n===null?null:Mt(Math.round(n),0,t);function Cp(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var Xw=(()=>{class n extends Nn{static id="category";static defaults={ticks:{callback:Cp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let o=this.getLabels();for(let{index:r,label:s}of i)o[r]===s&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(ke(e))return null;let o=this.getLabels();return i=isFinite(i)&&o[i]===e?i:qw(o,e,ge(i,e),this._addedLabels),Gw(i,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),i||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let e=this.min,i=this.max,o=this.options.offset,r=[],s=this.getLabels();s=e===0&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=i;a++)r.push({value:a});return r}getLabelForValue(e){return Cp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function Qw(n,t){let e=[],{bounds:o,step:r,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=n,m=r||1,p=d-1,{min:f,max:b}=t,C=!ke(s),w=!ke(a),I=!ke(c),k=(b-f)/(u+1),D=il((b-f)/p/m)*m,A,L,F,H;if(D<1e-14&&!C&&!w)return[{value:f},{value:b}];H=Math.ceil(b/D)-Math.floor(f/D),H>p&&(D=il(H*D/p/m)*m),ke(l)||(A=Math.pow(10,l),D=Math.ceil(D*A)/A),o==="ticks"?(L=Math.floor(f/D)*D,F=Math.ceil(b/D)*D):(L=f,F=b),C&&w&&r&&gu((a-s)/r,D/1e3)?(H=Math.round(Math.min((a-s)/D,d)),D=(a-s)/H,L=s,F=a):I?(L=C?s:L,F=w?a:F,H=c-1,D=(F-L)/H):(H=(F-L)/D,es(H,Math.round(H),D/1e3)?H=Math.round(H):H=Math.ceil(H));let W=Math.max(ol(D),ol(L));A=Math.pow(10,ke(l)?W:l),L=Math.round(L*A)/A,F=Math.round(F*A)/A;let z=0;for(C&&(h&&L!==s?(e.push({value:s}),L<s&&z++,es(Math.round((L+z*D)*A)/A,s,Ep(s,k,n))&&z++):L<s&&z++);z<H;++z){let _=Math.round((L+z*D)*A)/A;if(w&&_>a)break;e.push({value:_})}return w&&h&&F!==a?e.length&&es(e[e.length-1].value,a,Ep(a,k,n))?e[e.length-1].value=a:e.push({value:a}):(!w||F===a)&&e.push({value:F}),e}function Ep(n,t,{horizontal:e,minRotation:i}){let o=Jt(i),r=(e?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+n).length;return Math.min(t/r,s)}var Mo=class extends Nn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ke(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=e?o:l,a=l=>r=i?r:l;if(t){let l=Ri(o),c=Ri(r);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||s(o-l)}this.min=o,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,s=Qw(o,r);return t.bounds==="ticks"&&nl(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return er(t,this.chart.options.locale,this.options.ticks.format)}},Pc=class extends Mo{static id="linear";static defaults={ticks:{callback:ns.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Je(t)?t:0,this.max=Je(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=Jt(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Or=n=>Math.floor(no(n)),Vn=(n,t)=>Math.pow(10,Or(n)+t);function Dp(n){return n/Math.pow(10,Or(n))===1}function Mp(n,t,e){let i=Math.pow(10,e),o=Math.floor(n/i);return Math.ceil(t/i)-o}function Kw(n,t){let e=t-n,i=Or(e);for(;Mp(n,t,i)>10;)i++;for(;Mp(n,t,i)<10;)i--;return Math.min(i,Or(n))}function Zw(n,{min:t,max:e}){t=Vt(n.min,t);let i=[],o=Or(t),r=Kw(t,e),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,r)),h=Vt(n.min,Math.round((l+d+u*Math.pow(10,r))*s)/s);for(;h<e;)i.push({value:h,major:Dp(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,s=r>=0?1:s),h=Math.round((l+d+u*Math.pow(10,r))*s)/s;let m=Vt(n.max,h);return i.push({value:m,major:Dp(m),significand:u}),i}var Rc=class extends Nn{static id="logarithmic";static defaults={ticks:{callback:ns.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=Mo.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Je(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Je(t)?Math.max(0,t):null,this.max=Je(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Je(this._userMin)&&(this.min=t===Vn(this.min,0)?Vn(this.min,-1):Vn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,o=this.max,r=a=>i=t?i:a,s=a=>o=e?o:a;i===o&&(i<=0?(r(1),s(10)):(r(Vn(i,-1)),s(Vn(o,1)))),i<=0&&r(Vn(o,-1)),o<=0&&s(Vn(i,1)),this.min=i,this.max=o}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=Zw(e,this);return t.bounds==="ticks"&&nl(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":er(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=no(t),this._valueRange=no(this.max)-no(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(no(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function Lc(n){let t=n.ticks;if(t.display&&n.display){let e=xt(t.backdropPadding);return ge(t.font&&t.font.size,He.font.size)+e.height}return 0}function Jw(n,t,e){return e=Ot(e)?e:[e],{w:Mu(n,t.string,e),h:e.length*t.lineHeight}}function Sp(n,t,e,i,o){return n===i||n===o?{start:t-e/2,end:t+e/2}:n<i||n>o?{start:t-e,end:t}:{start:t,end:t+e}}function eC(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],o=[],r=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?vi/r:0;for(let l=0;l<r;l++){let c=s.setContext(n.getPointLabelContext(l));o[l]=c.padding;let d=n.getPointPosition(l,n.drawingArea+o[l],a),u=lt(c.font),h=Jw(n.ctx,u,n._pointLabels[l]);i[l]=h;let m=oo(n.getIndexAngle(l)+a),p=Math.round(ts(m)),f=Sp(p,d.x,h.w,0,180),b=Sp(p,d.y,h.h,90,270);tC(e,t,m,f,b)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=oC(n,i,o)}function tC(n,t,e,i,o){let r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,n.t=Math.min(n.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function iC(n,t,e){let i=n.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=e,l=n.getPointPosition(t,i+o+s,r),c=Math.round(ts(oo(l.angle+qt))),d=aC(l.y,a.h,c),u=rC(c),h=sC(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function nC(n,t){if(!t)return!0;let{left:e,top:i,right:o,bottom:r}=n;return!(Qi({x:e,y:i},t)||Qi({x:e,y:r},t)||Qi({x:o,y:i},t)||Qi({x:o,y:r},t))}function oC(n,t,e){let i=[],o=n._pointLabels.length,r=n.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:Lc(r)/2,additionalAngle:s?vi/o:0},c;for(let d=0;d<o;d++){l.padding=e[d],l.size=t[d];let u=iC(n,d,l);i.push(u),a==="auto"&&(u.visible=nC(u,c),u.visible&&(c=u))}return i}function rC(n){return n===0||n===180?"center":n<180?"left":"right"}function sC(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function aC(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function lC(n,t,e){let{left:i,top:o,right:r,bottom:s}=e,{backdropColor:a}=t;if(!ke(a)){let l=Zi(t.borderRadius),c=xt(t.backdropPadding);n.fillStyle=a;let d=i-c.left,u=o-c.top,h=r-i+c.width,m=s-o+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),so(n,{x:d,y:u,w:h,h:m,radius:l}),n.fill()):n.fillRect(d,u,h,m)}}function cC(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let o=t-1;o>=0;o--){let r=n._pointLabelItems[o];if(!r.visible)continue;let s=i.setContext(n.getPointLabelContext(o));lC(e,s,r);let a=lt(s.font),{x:l,y:c,textAlign:d}=r;Ki(e,n._pointLabels[o],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function Jp(n,t,e,i){let{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,t,0,Dt);else{let r=n.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let s=1;s<i;s++)r=n.getPointPosition(s,t),o.lineTo(r.x,r.y)}}function dC(n,t,e,i,o){let r=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),Jp(n,e,s,i),r.closePath(),r.stroke(),r.restore())}function uC(n,t,e){return Ji(n,{label:e,index:t,type:"pointLabel"})}var Vc=class extends Mo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ns.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=xt(Lc(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Je(t)&&!isNaN(t)?t:0,this.max=Je(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Lc(this.options))}generateTickLabels(t){Mo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let o=Pe(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?eC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,o))}getIndexAngle(t){let e=Dt/(this._pointLabels.length||1),i=this.options.startAngle||0;return oo(t*e+Jt(i))}getDistanceFromCenterForValue(t){if(ke(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ke(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return uC(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let o=this.getIndexAngle(t)-qt+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:o,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:o,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),Jp(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:o,border:r}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&cC(this,s),o.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),m=o.setContext(h),p=r.setContext(h);dC(this,m,l,s,p)}}),i.display){for(t.save(),a=s-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let o=this.getIndexAngle(0),r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),d=lt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let u=xt(c.backdropPadding);t.fillRect(-s/2-u.left,-r-d.size/2-u.top,s+u.width,d.size+u.height)}Ki(t,a.label,0,-r,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},Xs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wt=Object.keys(Xs);function kp(n,t){return n-t}function Ap(n,t){if(ke(t))return null;let e=n._adapter,{parser:i,round:o,isoWeekday:r}=n._parseOpts,s=t;return typeof i=="function"&&(s=i(s)),Je(s)||(s=typeof i=="string"?e.parse(s,i):e.parse(s)),s===null?null:(o&&(s=o==="week"&&(Mn(r)||r===!0)?e.startOf(s,"isoWeek",r):e.startOf(s,o)),+s)}function Ip(n,t,e,i){let o=Wt.length;for(let r=Wt.indexOf(n);r<o-1;++r){let s=Xs[Wt[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=i)return Wt[r]}return Wt[o-1]}function hC(n,t,e,i,o){for(let r=Wt.length-1;r>=Wt.indexOf(e);r--){let s=Wt[r];if(Xs[s].common&&n._adapter.diff(o,i,s)>=t-1)return s}return Wt[e?Wt.indexOf(e):0]}function mC(n){for(let t=Wt.indexOf(n)+1,e=Wt.length;t<e;++t)if(Xs[Wt[t]].common)return Wt[t]}function Tp(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:o}=vu(e,t),r=e[i]>=t?e[i]:e[o];n[r]=!0}}function pC(n,t,e,i){let o=n._adapter,r=+o.startOf(t[0].value,i),s=t[t.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function Op(n,t,e){let i=[],o={},r=t.length,s,a;for(s=0;s<r;++s)a=t[s],o[a]=s,i.push({value:a,major:!1});return r===0||!e?i:pC(n,i,o,e)}var Nc=(()=>{class n extends Nn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let o=e.time||(e.time={}),r=this._adapter=new Dy._date(e.adapters.date);r.init(i),Ko(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Ap(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,o=e.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Je(r)&&!isNaN(r)?r:+i.startOf(Date.now(),o),s=Je(s)&&!isNaN(s)?s:+i.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],o=e[e.length-1]),{min:i,max:o}}buildTicks(){let e=this.options,i=e.time,o=e.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=xu(r,s,a);return this._unit=i.unit||(o.autoSkip?Ip(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):hC(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:mC(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),Op(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,o=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?i=1-r:i=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?o=s:o=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=Mt(i,0,a),o=Mt(o,0,a),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let e=this._adapter,i=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||Ip(s.minUnit,i,o,this._getLabelCapacity(i)),l=ge(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=Mn(c)||c===!0,u={},h=i,m,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":a),e.diff(o,i,a)>1e5*l)throw new Error(i+" and "+o+" are too far apart with stepSize of "+l+" "+a);let f=r.ticks.source==="data"&&this.getDataTimestamps();for(m=h,p=0;m<o;m=+e.add(m,l,a),p++)Tp(u,m,f);return(m===o||r.bounds==="ticks"||p===1)&&Tp(u,m,f),Object.keys(u).sort(kp).map(b=>+b)}getLabelForValue(e){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(e,o.tooltipFormat):i.format(e,o.displayFormats.datetime)}format(e,i){let r=this.options.time.displayFormats,s=this._unit,a=i||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,i,o,r){let s=this.options,a=s.ticks.callback;if(a)return Pe(a,[e,i,o],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=o[i],p=d&&h&&m&&m.major;return this._adapter.format(e,r||(p?h:u))}generateTickLabels(e){let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(e){let i=this._offsets,o=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,o=this.ctx.measureText(e).width,r=Jt(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(e){let i=this.options.time,o=i.displayFormats,r=o[i.unit]||o.millisecond,s=this._tickFormatFunction(e,0,Op(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,o;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,o=r.length;i<o;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,o;if(e.length)return e;let r=this.getLabels();for(i=0,o=r.length;i<o;++i)e.push(Ap(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return al(e.sort(kp))}}return n})();function Bs(n,t,e){let i=0,o=n.length-1,r,s,a,l;e?(t>=n[i].pos&&t<=n[o].pos&&({lo:i,hi:o}=ro(n,"pos",t)),{pos:r,time:a}=n[i],{pos:s,time:l}=n[o]):(t>=n[i].time&&t<=n[o].time&&({lo:i,hi:o}=ro(n,"time",t)),{time:r,pos:a}=n[i],{time:s,pos:l}=n[o]);let c=s-r;return c?a+(l-a)*(t-r)/c:a}var Bc=class extends Nc{static id="timeseries";static defaults=Nc.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Bs(e,this.min),this._tableRange=Bs(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,o=[],r=[],s,a,l,c,d;for(s=0,a=t.length;s<a;++s)c=t[s],c>=e&&c<=i&&o.push(c);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=o.length;s<a;++s)d=o[s+1],l=o[s-1],c=o[s],Math.round((d+l)/2)!==c&&r.push({time:c,pos:s/(a-1)});return r}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Bs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Bs(this._table,i*this._tableRange+this._minPos,!0)}},fC=Object.freeze({__proto__:null,CategoryScale:Xw,LinearScale:Pc,LogarithmicScale:Rc,RadialLinearScale:Vc,TimeScale:Nc,TimeSeriesScale:Bc}),Qs=[Ey,Qx,$w,fC];var hn=class n{emotionsTranslations={happiness:"alegr\xEDa",anger:"ira",disgust:"asco",fear:"miedo",sadness:"tristeza",neutral:"neutral",arousal:"excitaci\xF3n",valence:"intensidad",dominance:"dominancia"};constructor(){}translateEmotion(t){return this.emotionsTranslations[t.toLowerCase()]||t}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var gC=["canvasContainer"],mn=class n{constructor(t,e,i){this.chartDataService=t;this.cdr=e;this.translateService=i;ni.register(...Qs),typeof window<"u"&&import("./chunk-GTADNIUC.mjs").then(o=>{ni.register(o.default)})}canvasContainer;chart=null;graphData=[];userId;timePeriod;ngOnInit(){this.chartDataService.chartData$.subscribe(t=>{this.graphData=t.data,this.userId=t.userId,this.timePeriod=t.time,this.createChart()})}ngOnDestroy(){this.destroyChart(),this.chartDataService.deleteChartData()}createChart(){this.destroyChart();let t=document.createElement("canvas");t.id="canvas_dimensional",this.canvasContainer.nativeElement.innerHTML="",this.canvasContainer.nativeElement.appendChild(t);let e=[...new Set(this.graphData.map(s=>new Date(s.timestamp*1e3).toLocaleDateString()))],i=this.graphData.map(s=>parseFloat(s.arousal)),o=this.graphData.map(s=>parseFloat(s.valence)),r=this.graphData.map(s=>parseFloat(s.dominance));this.chart=new ni(t,{type:"line",data:{labels:e,datasets:[{label:"Excitaci\xF3n",data:i,borderColor:"rgb(243, 163, 180)",fill:!1,tension:.1},{label:"Intensidad",data:o,borderColor:"rgb(114, 147, 238)",fill:!1,tension:.1},{label:"Dominancia",data:r,borderColor:"rgb(204, 102, 0)",fill:!1,tension:.1}]},options:{responsive:!0,scales:{x:{type:"category",title:{display:!0,text:"Time"},ticks:{autoSkip:!0,maxTicksLimit:10}},y:{type:"linear",title:{display:!0,text:"Value"},beginAtZero:!0}},plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"xy"}}}}})}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=null)}static \u0275fac=function(e){return new(e||n)(x(ii),x(Ie),x(hn))};static \u0275cmp=G({type:n,selectors:[["app-dimensional"]],viewQuery:function(e,i){if(e&1&&Se(gC,7),e&2){let o;le(o=ce())&&(i.canvasContainer=o.first)}},decls:2,vars:0,consts:[["canvasContainer",""],[1,"canvas-container"]],template:function(e,i){e&1&&V(0,"div",1,0)}})};var _C=["canvasCategoric"],bC=["canvasAccumulated"],pn=class n{constructor(t,e,i){this.chartDataService=t;this.service=e;this.translateService=i;ni.register(...Qs),typeof window<"u"&&import("./chunk-GTADNIUC.mjs").then(o=>{ni.register(o.default)})}canvasCategoric;canvasAccumulated;chart;graphData=[];userId;timePeriod;emotions=[];accumulatedChart;ngOnDestroy(){this.destroyChart(this.chart),this.destroyChart(this.accumulatedChart),this.chartDataService.deleteChartData()}ngOnInit(){this.service.getEmotions().subscribe(t=>{let e=["happiness","neutral","anger","disgust","fear","sadness"];this.emotions=e.filter(i=>t.includes(i))},t=>{console.error("Error al obtener las emociones:",t)}),this.chartDataService.chartData$.subscribe(t=>{this.graphData=t.data,this.userId=t.userId,this.timePeriod=t.time,this.createChart(),this.createAccumulatedStudyChart()})}destroyChart(t){t&&(t.destroy(),t=null)}createChart(){this.destroyChart(this.chart);let t=document.createElement("canvas");t.id="canvas_categoric",this.canvasCategoric.nativeElement.innerHTML="",this.canvasCategoric.nativeElement.appendChild(t);let e=this.graphData.map(o=>new Date(o.timestamp*1e3).toLocaleDateString()),i=this.graphData.map(o=>[o.Emotion_1_label,o.Emotion_2_label,o.Emotion_3_label].map(s=>{let a=this.emotions.findIndex(l=>l===s);return a!==-1?a:null}));this.chart=new ni(t,{type:"line",data:{labels:e,datasets:[{label:"Emociones",data:i,stepped:!0,borderColor:"#6150EA",borderWidth:2,fill:!1}]},options:{responsive:!0,plugins:{tooltip:{callbacks:{label:o=>{let r=o.raw;if(Array.isArray(r)&&r.length>1){let s=r[1];if(s>=0&&s<this.emotions.length)return`Emoci\xF3n: ${this.translateService.translateEmotion(this.emotions[s])}`}return"Emoci\xF3n: Desconocido"}}},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"xy"}}},scales:{x:{title:{display:!0,text:"Tiempo"}},y:{title:{display:!0,text:"Emociones"},ticks:{callback:o=>{let r=typeof o=="number"?o:parseInt(o,10);return this.emotions[r]!==void 0?this.emotions[r]:""}},beginAtZero:!0,max:this.emotions.length-1+1}}}})}createAccumulatedStudyChart(){this.destroyChart(this.accumulatedChart);let t=document.createElement("canvas");t.id="canvas_accumulated",this.canvasAccumulated.nativeElement.innerHTML="",this.canvasAccumulated.nativeElement.appendChild(t);let e=this.emotions.map(a=>this.graphData.reduce((l,c)=>{let d=[c.Emotion_1_label,c.Emotion_2_label,c.Emotion_3_label];return l+d.filter(u=>u===a).length},0)),i=this.emotions,o=e,r={joy:"#FFEB3B",sadness:"#A2C2E1",anger:"#FF7F7F",fear:"#A8D5BA",disgust:"#877459",neutral:"#FFF8E7"},s=this.emotions.map(a=>r[a.toLowerCase()]||"#FF6384");this.accumulatedChart=new ni(t,{type:"bar",data:{labels:i,datasets:[{label:"Frecuencia Acumulada de Emociones",data:o,backgroundColor:s,borderColor:s,borderWidth:1}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Emociones"}},y:{title:{display:!0,text:"Frecuencia"},beginAtZero:!0}}}})}static \u0275fac=function(e){return new(e||n)(x(ii),x(ln),x(hn))};static \u0275cmp=G({type:n,selectors:[["app-categoric"]],viewQuery:function(e,i){if(e&1&&(Se(_C,7),Se(bC,7)),e&2){let o;le(o=ce())&&(i.canvasCategoric=o.first),le(o=ce())&&(i.canvasAccumulated=o.first)}},decls:4,vars:0,consts:[["canvasCategoric",""],["canvasAccumulated",""],[1,"canvas-categoric"],[1,"canvas-accumulated"]],template:function(e,i){e&1&&V(0,"div",2,0)(2,"div",3,1)},styles:['@charset "UTF-8";@media (min-width: 1024px){.canvas-accumulated[_ngcontent-%COMP%]{width:50%;height:400px;margin-left:0;margin-right:0}}.color-joy[_ngcontent-%COMP%]{color:#ffeb3b;background-color:#ffeb3b}.color-sadness[_ngcontent-%COMP%]{color:#a2c2e1;background-color:#a2c2e1}.color-anger[_ngcontent-%COMP%]{color:#ff7f7f;background-color:#ff7f7f}.color-fear[_ngcontent-%COMP%]{color:#a8d5ba;background-color:#a8d5ba}.color-disgust[_ngcontent-%COMP%]{color:#877459;background-color:#877459}.color-neutral[_ngcontent-%COMP%]{color:#fff8e7;background-color:#fff8e7}']})};function vC(n,t){n&1&&V(0,"app-dimensional")}function yC(n,t){n&1&&V(0,"app-categoric")}var Ks=class n{charType="1";onCharTypeChange(t){this.charType=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-individual"]],decls:6,vars:2,consts:[[1,"individual-container"],[1,"form"],[3,"charTypeChange"],[1,"charts"],[4,"ngIf"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"div",1)(2,"app-individual-form",2),B("charTypeChange",function(r){return i.onCharTypeChange(r)}),g()(),v(3,"div",3),X(4,vC,1,0,"app-dimensional",4)(5,yC,1,0,"app-categoric",4),g()()),e&2&&(E(4),T("ngIf",i.charType==="1"),E(),T("ngIf",i.charType==="0"))},dependencies:[at,Co,mn,pn],styles:['@charset "UTF-8";.individual-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;gap:1rem;padding:1rem;height:100%}.form[_ngcontent-%COMP%]{flex:1;background-color:#f9f9f9;padding:1rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a}.charts[_ngcontent-%COMP%]{flex:2;background-color:#fff;padding:1rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a}.canvas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container-categoric[_ngcontent-%COMP%]{flex:1}.container-accumulated[_ngcontent-%COMP%]{flex:0 0 50%;max-height:300px}canvas[_ngcontent-%COMP%]{width:100%;height:auto}']})};var Zs=class n{title;icon;iconName;description;iconClass;route="/";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-custom-card"]],inputs:{title:"title",icon:"icon",iconName:"iconName",description:"description",iconClass:"iconClass",route:"route"},decls:9,vars:5,consts:[[1,"custom-card",3,"routerLink"],[1,"bi","bi-arrow-up-right-circle"],[1,"card-header"],[1,"card-content"],[1,"card-title"]],template:function(e,i){e&1&&(v(0,"div",0),V(1,"i",1),v(2,"div",2),V(3,"i"),g(),v(4,"div",3)(5,"h1",4),S(6),g(),v(7,"p"),S(8),g()()()),e&2&&(T("routerLink",i.route),E(3),Gr("bi "+i.iconName),E(3),li(i.title),E(2),li(i.description))},dependencies:[Jr],styles:['@charset "UTF-8";.custom-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;flex:1;max-width:100%;border:2px solid var(--primary-color);border-radius:60px;background:linear-gradient(to top right,var(--primary-color),var(--third-color));box-shadow:0 4px 8px #0000001a;overflow:hidden;transition:transform .3s ease-in-out;padding:20px;position:relative}.custom-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);cursor:pointer}i[_ngcontent-%COMP%]{font-size:7rem;margin-left:1rem;color:var(--soft-gray-color);opacity:.6}.card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;margin-bottom:15px}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;width:100%;margin-top:10px;margin-bottom:30px}.card-image[_ngcontent-%COMP%]{width:30%;height:180px;object-fit:cover;border-radius:8px;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:22px;color:#555;text-align:left;margin:0}h1[_ngcontent-%COMP%]{color:var(--background-color);font-family:fontSans,sans-serif;letter-spacing:.05em;font-weight:inherit}i.bi-arrow-up-right-circle[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:5rem;color:var(--background-color);transition:transform .3s ease;opacity:1}i.bi-arrow-up-right-circle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 576px){i[_ngcontent-%COMP%], i.bi-arrow-up-right-circle[_ngcontent-%COMP%]{font-size:2em}}@media (max-width: 768px){i[_ngcontent-%COMP%], i.bi-arrow-up-right-circle[_ngcontent-%COMP%]{font-size:3em}}@media (min-width: 768px) and (max-width: 2048px){i[_ngcontent-%COMP%]{font-size:3em}i.bi-arrow-up-right-circle[_ngcontent-%COMP%]{font-size:4em}}']})};var Js=class n{scrollToCards(){let t=document.getElementById("card-container");t&&t.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-principal"]],decls:13,vars:20,consts:[[1,"principal-container"],[1,"inicial-container"],[1,"btn-initial",3,"click"],["id","card-container",1,"card-container"],[3,"title","iconClass","iconName","description","route"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"div",1)(2,"h1"),S(3,"Visualiza y reconoce tus emociones"),g(),v(4,"p"),S(5,"Graba e identifica tus emociones a partir de tus ondas vocales"),g(),v(6,"button",2),B("click",function(){return i.scrollToCards()}),S(7,"Empieza ahora"),g()(),v(8,"div",3),V(9,"app-custom-card",4)(10,"app-custom-card",4)(11,"app-custom-card",4)(12,"app-custom-card",4),g()()),e&2&&(E(9),T("title","An\xE1lisis detallado")("iconClass","graph-icon")("iconName","bi-graph-up")("description","Muestras gr\xE1ficas representativas para los trabajadores de la planta. Consulta de manera personalizada la evoluci\xF3n emocional de un solo trabajador o de un grupo de ellos.")("route","/representation"),E(),T("title","Inferencia de voz en tiempo real")("iconClass","graph-icon")("iconName","bi-soundwave")("description","Detecci\xF3n de voz humana en tiempo real. Junto con la presencia y ausencia de silencios se crean grabaciones que se env\xEDan directamente para obtener las emociones predominantes.")("route","/audio"),E(),T("title","Inferencia de emociones diferida")("iconClass","graph-icon")("iconName","bi-file-earmark-zip")("description","Comparte tus audios con sus an\xE1lisis de datos emocionales en un archivo .csv, para una agradable visualizaci\xF3n de los mismos.")("route","/csv"),E(),T("title","Configuraci\xF3n")("iconClass","graph-icon")("iconName","bi bi-person-plus")("description","Modifica los datos predeterminados para hacer m\xE1s x la aplicaci\xF3n. Puedes dar de alta a un trabajador.")("route","/csv"))},dependencies:[Zs],styles:['@charset "UTF-8";.principal-container[_ngcontent-%COMP%]{background-image:url(/img/background_bolas_30.png);background-size:40%;background-position:center 400px;background-repeat:no-repeat}.inicial-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:60vh;padding-top:100px;text-align:justify;text-align-last:center}.inicial-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px}h1[_ngcontent-%COMP%]{color:var(--primary-color)}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:60px;justify-content:center;align-items:center;padding:20px;margin:0 250px}@media (max-width: 2048px){.principal-container[_ngcontent-%COMP%]{background-size:80%}.inicial-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:100px}.card-container[_ngcontent-%COMP%]{grid-template-columns:1fr;justify-content:center;margin:10px}}']})};function Tt(n,t,e,i){return new(e||(e=Promise))(function(o,r){function s(c){try{l(i.next(c))}catch(d){r(d)}}function a(c){try{l(i.throw(c))}catch(d){r(d)}}function l(c){var d;c.done?o(c.value):(d=c.value,d instanceof e?d:new e(function(u){u(d)})).then(s,a)}l((i=i.apply(n,t||[])).next())})}var Bn=class{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),i?.once){let o=()=>{this.un(t,o),this.un(t,e)};return this.on(t,o),o}return()=>this.un(t,e)}un(t,e){var i;(i=this.listeners[t])===null||i===void 0||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(i=>i(...e))}},ef={decode:function(n,t){return Tt(this,void 0,void 0,function*(){let e=new AudioContext({sampleRate:t});return e.decodeAudioData(n).finally(()=>e.close())})},createBuffer:function(n,t){return typeof n[0]=="number"&&(n=[n]),function(e){let i=e[0];if(i.some(o=>o>1||o<-1)){let o=i.length,r=0;for(let s=0;s<o;s++){let a=Math.abs(i[s]);a>r&&(r=a)}for(let s of e)for(let a=0;a<o;a++)s[a]/=r}}(n),{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:e=>n?.[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function nf(n,t){let e=t.xmlns?document.createElementNS(t.xmlns,n):document.createElement(n);for(let[i,o]of Object.entries(t))if(i==="children")for(let[r,s]of Object.entries(t))typeof s=="string"?e.appendChild(document.createTextNode(s)):e.appendChild(nf(r,s));else i==="style"?Object.assign(e.style,o):i==="textContent"?e.textContent=o:e.setAttribute(i,o.toString());return e}function tf(n,t,e){let i=nf(n,t||{});return e?.appendChild(i),i}var wC=Object.freeze({__proto__:null,createElement:tf,default:tf}),CC={fetchBlob:function(n,t,e){return Tt(this,void 0,void 0,function*(){let i=yield fetch(n,e);if(i.status>=400)throw new Error(`Failed to fetch ${n}: ${i.status} (${i.statusText})`);return function(o,r){Tt(this,void 0,void 0,function*(){if(!o.body||!o.headers)return;let s=o.body.getReader(),a=Number(o.headers.get("Content-Length"))||0,l=0,c=u=>Tt(this,void 0,void 0,function*(){l+=u?.length||0;let h=Math.round(l/a*100);r(h)}),d=()=>Tt(this,void 0,void 0,function*(){let u;try{u=yield s.read()}catch{return}u.done||(c(u.value),yield d())});d()})}(i.clone(),t),i.blob()})}},$c=class extends Bn{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e,i)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){let t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,e){let i=this.getSrc();if(t&&i===t)return;this.revokeSrc();let o=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;try{this.media.src=o}catch{this.media.src=t}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return Tt(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){e!=null&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},Pr=class n extends Bn{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;let i=this.parentFromOptionsContainer(t.container);this.parent=i;let[o,r]=this.initHtml();i.appendChild(o),this.container=o,this.scrollContainer=r.querySelector(".scroll"),this.wrapper=r.querySelector(".wrapper"),this.canvasWrapper=r.querySelector(".canvases"),this.progressWrapper=r.querySelector(".progress"),this.cursor=r.querySelector(".cursor"),e&&r.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if(typeof t=="string"?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error("Container not found");return e}initEvents(){let t=e=>{let i=this.wrapper.getBoundingClientRect(),o=e.clientX-i.left,r=e.clientY-i.top;return[o/i.width,r/i.height]};if(this.wrapper.addEventListener("click",e=>{let[i,o]=t(e);this.emit("click",i,o)}),this.wrapper.addEventListener("dblclick",e=>{let[i,o]=t(e);this.emit("dblclick",i,o)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{let{scrollLeft:e,scrollWidth:i,clientWidth:o}=this.scrollContainer,r=e/i,s=(e+o)/i;this.emit("scroll",r,s,e,e+o)}),typeof ResizeObserver=="function"){let e=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{e().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){let t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,e,i,o,r=3,s=0,a=100){if(!t)return()=>{};let l=matchMedia("(pointer: coarse)").matches,c=()=>{},d=u=>{if(u.button!==s)return;u.preventDefault(),u.stopPropagation();let h=u.clientX,m=u.clientY,p=!1,f=Date.now(),b=D=>{if(D.preventDefault(),D.stopPropagation(),l&&Date.now()-f<a)return;let A=D.clientX,L=D.clientY,F=A-h,H=L-m;if(p||Math.abs(F)>r||Math.abs(H)>r){let W=t.getBoundingClientRect(),{left:z,top:_}=W;p||(i?.(h-z,m-_),p=!0),e(F,H,A-z,L-_),h=A,m=L}},C=D=>{if(p){let A=D.clientX,L=D.clientY,F=t.getBoundingClientRect(),{left:H,top:W}=F;o?.(A-H,L-W)}c()},w=D=>{D.relatedTarget&&D.relatedTarget!==document.documentElement||C(D)},I=D=>{p&&(D.stopPropagation(),D.preventDefault())},k=D=>{p&&D.preventDefault()};document.addEventListener("pointermove",b),document.addEventListener("pointerup",C),document.addEventListener("pointerout",w),document.addEventListener("pointercancel",w),document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("click",I,{capture:!0}),c=()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",C),document.removeEventListener("pointerout",w),document.removeEventListener("pointercancel",w),document.removeEventListener("touchmove",k),setTimeout(()=>{document.removeEventListener("click",I,{capture:!0})},10)}};return t.addEventListener("pointerdown",d),()=>{c(),t.removeEventListener("pointerdown",d)}}(this.wrapper,(t,e,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,e){var i;let o=((i=this.audioData)===null||i===void 0?void 0:i.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){let r=this.parent.clientHeight||128;return e?.every(s=>!s.overlay)?r/o:r}return 128}initHtml(){let t=document.createElement("div"),e=t.attachShadow({mode:"open"}),i=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return e.innerHTML=`
      <style${i?` nonce="${i}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,e]}setOptions(t){if(this.options.container!==t.container){let e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){let{scrollWidth:e}=this.scrollContainer,i=e*t;this.setScroll(i)}destroy(){var t,e;this.subscriptions.forEach(i=>i()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.unsubscribeOnScroll)===null||e===void 0||e.call(this)}createDelay(t=10){let e,i,o=()=>{e&&clearTimeout(e),i&&i()};return this.timeouts.push(o),()=>new Promise((r,s)=>{o(),i=s,e=setTimeout(()=>{e=void 0,i=void 0,r()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";let e=document.createElement("canvas"),i=e.getContext("2d"),o=e.height*(window.devicePixelRatio||1),r=i.createLinearGradient(0,0,0,o),s=1/(t.length-1);return t.forEach((a,l)=>{let c=l*s;r.addColorStop(c,a)}),r}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,e,i,o){let r=t[0],s=t[1]||t[0],a=r.length,{width:l,height:c}=i.canvas,d=c/2,u=this.getPixelRatio(),h=e.barWidth?e.barWidth*u:1,m=e.barGap?e.barGap*u:e.barWidth?h/2:0,p=e.barRadius||0,f=l/(h+m)/a,b=p&&"roundRect"in i?"roundRect":"rect";i.beginPath();let C=0,w=0,I=0;for(let k=0;k<=a;k++){let D=Math.round(k*f);if(D>C){let F=Math.round(w*d*o),H=F+Math.round(I*d*o)||1,W=d-F;e.barAlign==="top"?W=0:e.barAlign==="bottom"&&(W=c-H),i[b](C*(h+m),W,h,H,p),C=D,w=0,I=0}let A=Math.abs(r[k]||0),L=Math.abs(s[k]||0);A>w&&(w=A),L>I&&(I=L)}i.fill(),i.closePath()}renderLineWaveform(t,e,i,o){let r=s=>{let a=t[s]||t[0],l=a.length,{height:c}=i.canvas,d=c/2,u=i.canvas.width/l;i.moveTo(0,d);let h=0,m=0;for(let p=0;p<=l;p++){let f=Math.round(p*u);if(f>h){let C=d+(Math.round(m*d*o)||1)*(s===0?-1:1);i.lineTo(h,C),h=f,m=0}let b=Math.abs(a[p]||0);b>m&&(m=b)}i.lineTo(h,d)};i.beginPath(),r(0),r(1),i.fill(),i.closePath()}renderWaveform(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);let o=e.barHeight||1;if(e.normalize){let r=Array.from(t[0]).reduce((s,a)=>Math.max(s,Math.abs(a)),0);o=r?1/r:1}e.barWidth||e.barGap||e.barAlign?this.renderBarWaveform(t,e,i,o):this.renderLineWaveform(t,e,i,o)}renderSingleCanvas(t,e,i,o,r,s,a){let l=this.getPixelRatio(),c=document.createElement("canvas");c.width=Math.round(i*l),c.height=Math.round(o*l),c.style.width=`${i}px`,c.style.height=`${o}px`,c.style.left=`${Math.round(r)}px`,s.appendChild(c);let d=c.getContext("2d");if(this.renderWaveform(t,e,d),c.width>0&&c.height>0){let u=c.cloneNode(),h=u.getContext("2d");h.drawImage(c,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(e.progressColor),h.fillRect(0,0,c.width,c.height),a.appendChild(u)}}renderMultiCanvas(t,e,i,o,r,s){let a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,c=i/a,d=Math.min(n.MAX_CANVAS_WIDTH,l,c),u={};if(e.barWidth||e.barGap){let b=e.barWidth||.5,C=b+(e.barGap||b/2);d%C!=0&&(d=Math.floor(d/C)*C)}let h=b=>{if(b<0||b>=m||u[b])return;u[b]=!0;let C=b*d,w=Math.min(c-C,d);if(w<=0)return;let I=t.map(k=>{let D=Math.floor(C/c*k.length),A=Math.floor((C+w)/c*k.length);return k.slice(D,A)});this.renderSingleCanvas(I,e,w,o,C,r,s)},m=Math.ceil(c/d);if(!this.isScrollable){for(let b=0;b<m;b++)h(b);return}let p=this.scrollContainer.scrollLeft/c,f=Math.floor(p*m);h(f-1),h(f),h(f+1),m>1&&(this.unsubscribeOnScroll=this.on("scroll",()=>{let{scrollLeft:b}=this.scrollContainer,C=Math.floor(b/c*m);Object.keys(u).length>n.MAX_NODES&&(r.innerHTML="",s.innerHTML="",u={}),h(C-1),h(C),h(C+1)}))}renderChannel(t,e,i,o){var{overlay:r}=e,s=function(d,u){var h={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&u.indexOf(m)<0&&(h[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(m=Object.getOwnPropertySymbols(d);p<m.length;p++)u.indexOf(m[p])<0&&Object.prototype.propertyIsEnumerable.call(d,m[p])&&(h[m[p]]=d[m[p]])}return h}(e,["overlay"]);let a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,r&&o>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);let c=a.cloneNode();this.progressWrapper.appendChild(c),this.renderMultiCanvas(t,s,i,l,a,c)}render(t){return Tt(this,void 0,void 0,function*(){var e;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);let i=this.getPixelRatio(),o=this.scrollContainer.clientWidth,r=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=r>o;let s=this.options.fillParent&&!this.isScrollable,a=(s?o:r)*i;if(this.wrapper.style.width=s?"100%":`${r}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){let c=Object.assign(Object.assign({},this.options),(e=this.options.splitChannels)===null||e===void 0?void 0:e[l]);this.renderChannel([t.getChannelData(l)],c,a,l)}else{let l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){var t;if((t=this.unsubscribeOnScroll)===null||t===void 0||t.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;let{scrollWidth:e}=this.scrollContainer,{right:i}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){let{right:o}=this.progressWrapper.getBoundingClientRect(),r=o-i;r*=2,r=r<0?Math.floor(r):Math.ceil(r),r/=2,this.scrollContainer.scrollLeft+=r}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){let{scrollLeft:i,scrollWidth:o,clientWidth:r}=this.scrollContainer,s=t*o,a=i,l=i+r,c=r/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?c:0));let d=s-i-c;e&&this.options.autoCenter&&d>0&&(this.scrollContainer.scrollLeft+=Math.min(d,10))}{let d=this.scrollContainer.scrollLeft,u=d/o,h=(d+r)/o;this.emit("scroll",u,h,d,d+r)}}renderProgress(t,e){if(isNaN(t))return;let i=100*t;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${Math.round(i)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(t,e,i){return Tt(this,void 0,void 0,function*(){let o=this.canvasWrapper.querySelectorAll("canvas");if(!o.length)throw new Error("No waveform data");if(i==="dataURL"){let r=Array.from(o).map(s=>s.toDataURL(t,e));return Promise.resolve(r)}return Promise.all(Array.from(o).map(r=>new Promise((s,a)=>{r.toBlob(l=>{l?s(l):a(new Error("Could not export image"))},t,e)})))})}};Pr.MAX_CANVAS_WIDTH=8e3,Pr.MAX_NODES=10;var Yc=class extends Bn{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},ea=class extends Bn{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Tt(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()}).then(e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e)).then(e=>{this.currentSrc===t&&(this.buffer=e,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;e>=this.duration&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Tt(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var e,i;let o=t-this.currentTime;(e=this.bufferNode)===null||e===void 0||e.stop(this.audioContext.currentTime+o),(i=this.bufferNode)===null||i===void 0||i.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return Tt(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){let e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,e;return(t=this._duration)!==null&&t!==void 0?t:((e=this.buffer)===null||e===void 0?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){let t=[];if(!this.buffer)return t;let e=this.buffer.numberOfChannels;for(let i=0;i<e;i++)t.push(this.buffer.getChannelData(i));return t}},EC={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3},fn=class n extends $c{static create(t){return new n(t)}constructor(t){let e=t.media||(t.backend==="WebAudio"?new ea:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},EC,t),this.timer=new Yc;let i=e?void 0:this.getMediaElement();this.renderer=new Pr(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();let o=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");let{peaks:r,duration:s}=this.options;(o||r&&s)&&this.load(o,r,s).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){let t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{let t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{this.emit("error",t.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,e)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,e))}),this.renderer.on("dblclick",(t,e)=>{this.emit("dblclick",t,e)}),this.renderer.on("scroll",(t,e,i,o)=>{let r=this.getDuration();this.emit("scroll",t*r,e*r,i,o)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",e=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(e),clearTimeout(t),this.isPlaying()?i=0:this.options.dragToSeek===!0?i=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(i=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(e)},i),this.emit("interaction",e*this.getDuration()),this.emit("drag",e)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(e=>{this.registerPlugin(e)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(e=>e!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){let e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(t,e,i,o){return Tt(this,void 0,void 0,function*(){var r;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!e&&!i){let a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(r=this.abortController)===null||r===void 0?void 0:r.signal);let l=c=>this.emit("loading",c);e=yield CC.fetchBlob(t,l,a)}this.setSrc(t,e);let s=yield new Promise(a=>{let l=o||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!e){let a=this.getMediaElement();a instanceof ea&&(a.duration=s)}if(i)this.decodedData=ef.createBuffer(i,s||0);else if(e){let a=yield e.arrayBuffer();this.decodedData=yield ef.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,e,i){return Tt(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,e,i)}catch(o){throw this.emit("error",o),o}})}loadBlob(t,e,i){return Tt(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,e,i)}catch(o){throw this.emit("error",o),o}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");let o=Math.min(t,this.decodedData.numberOfChannels),r=[];for(let s=0;s<o;s++){let a=this.decodedData.getChannelData(s),l=[],c=a.length/e;for(let d=0;d<e;d++){let u=a.slice(Math.floor(d*c),Math.ceil((d+1)*c)),h=0;for(let m=0;m<u.length;m++){let p=u[m];Math.abs(p)>Math.abs(h)&&(h=p)}l.push(Math.round(h*i)/i)}r.push(l)}return r}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){let e=this.getDuration()*t;this.setTime(e)}playPause(){return Tt(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Tt(this,arguments,void 0,function*(t="image/png",e=1,i="dataURL"){return this.renderer.exportImage(t,e,i)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(e=>e.destroy()),this.subscriptions.forEach(e=>e()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};fn.BasePlugin=class extends Bn{constructor(n){super(),this.subscriptions=[],this.options=n}onInit(){}_init(n){this.wavesurfer=n,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(n=>n())}},fn.dom=wC;function qc(n,t,e,i){return new(e||(e=Promise))(function(o,r){function s(c){try{l(i.next(c))}catch(d){r(d)}}function a(c){try{l(i.throw(c))}catch(d){r(d)}}function l(c){var d;c.done?o(c.value):(d=c.value,d instanceof e?d:new e(function(u){u(d)})).then(s,a)}l((i=i.apply(n,t||[])).next())})}var ta=class{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),i?.once){let o=()=>{this.un(t,o),this.un(t,e)};return this.on(t,o),o}return()=>this.un(t,e)}un(t,e){var i;(i=this.listeners[t])===null||i===void 0||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(i=>i(...e))}},Gc=class extends ta{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},Xc=class extends ta{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},DC=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"],ia=class n extends Gc{constructor(t){var e,i,o,r,s,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(e=t.audioBitsPerSecond)!==null&&e!==void 0?e:128e3,scrollingWaveform:(i=t.scrollingWaveform)!==null&&i!==void 0&&i,scrollingWaveformWindow:(o=t.scrollingWaveformWindow)!==null&&o!==void 0?o:5,continuousWaveform:(r=t.continuousWaveform)!==null&&r!==void 0&&r,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Xc,this.subscriptions.push(this.timer.on("tick",()=>{let l=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+l,this.emit("record-progress",this.duration)}))}static create(t){return new n(t||{})}renderMicStream(t){var e;let i=new AudioContext,o=i.createMediaStreamSource(t),r=i.createAnalyser();o.connect(r),this.options.continuousWaveform&&(r.fftSize=32);let s=r.frequencyBinCount,a=new Float32Array(s),l=0;this.wavesurfer&&((e=this.originalOptions)!==null&&e!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));let c=setInterval(()=>{var d,u,h,m;if(!this.isWaveformPaused){if(r.getFloatTimeDomainData(a),this.options.scrollingWaveform){let p=Math.floor((this.options.scrollingWaveformWindow||0)*i.sampleRate),f=Math.min(p,this.dataWindow?this.dataWindow.length+s:s),b=new Float32Array(p);if(this.dataWindow){let C=Math.max(0,p-this.dataWindow.length);b.set(this.dataWindow.slice(-f+s),C)}b.set(a,p-s),this.dataWindow=b}else if(this.options.continuousWaveform){if(!this.dataWindow){let f=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((u=(d=this.wavesurfer)===null||d===void 0?void 0:d.getWidth())!==null&&u!==void 0?u:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(f)}let p=0;for(let f=0;f<s;f++){let b=Math.abs(a[f]);b>p&&(p=b)}if(l+1>this.dataWindow.length){let f=new Float32Array(2*this.dataWindow.length);f.set(this.dataWindow,0),this.dataWindow=f}this.dataWindow[l]=p,l++}else this.dataWindow=a;if(this.wavesurfer){let p=((m=(h=this.dataWindow)===null||h===void 0?void 0:h.length)!==null&&m!==void 0?m:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then(()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))}).catch(f=>{console.error("Error rendering real-time recording data:",f)})}}},10);return{onDestroy:()=>{clearInterval(c),o?.disconnect(),i?.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(c),this.stopMic()}}}startMic(t){return qc(this,void 0,void 0,function*(){let e;try{e=yield navigator.mediaDevices.getUserMedia({audio:!t?.deviceId||{deviceId:t.deviceId}})}catch(r){throw new Error("Error accessing the microphone: "+r.message)}let{onDestroy:i,onEnd:o}=this.renderMicStream(e);return this.subscriptions.push(this.once("destroy",i)),this.subscriptions.push(this.once("record-end",o)),this.stream=e,e})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return qc(this,void 0,void 0,function*(){let e=this.stream||(yield this.startMic(t));this.dataWindow=null;let i=this.mediaRecorder||new MediaRecorder(e,{mimeType:this.options.mimeType||DC.find(s=>MediaRecorder.isTypeSupported(s)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=i,this.stopRecording();let o=[];i.ondataavailable=s=>{s.data.size>0&&o.push(s.data),this.emit("record-data-available",s.data)};let r=s=>{var a;let l=new Blob(o,{type:i.mimeType});this.emit(s,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};i.onpause=()=>r("record-pause"),i.onstop=()=>r("record-end"),i.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,e;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(e=this.mediaRecorder)===null||e===void 0||e.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return qc(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(e=>e.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}};var Qc=class{options;hertzPerBin;iterationFrequency;iterationPeriod;filter=[];ready=!1;vadState=!1;energy=0;energy_offset;energy_threshold_pos;energy_threshold_neg;voiceTrend=0;voiceTrendMax=10;voiceTrendMin=-10;voiceTrendStart=5;voiceTrendEnd=-5;analyser;floatFrequencyData;floatFrequencyDataLinear;scriptProcessorNode;voiceStopTimeout=null;voice_timeout=null;voice_timeout_callback=null;voice_timeoutId=null;constructor(t){let e={fftSize:512,bufferLen:512,voice_stop:()=>{},voice_start:()=>{},smoothingTimeConstant:.99,energy_offset:1e-8,energy_threshold_ratio_pos:2,energy_threshold_ratio_neg:.5,energy_integration:1,filter:[{f:200,v:0},{f:2e3,v:1}],source:null,context:null,voice_stop_delay:1e3};if(this.options=he(he({},e),t),!this.options.source)throw new Error("The options must specify a MediaStreamAudioSourceNode.");this.options.context=this.options.source.context,this.hertzPerBin=this.options.context.sampleRate/this.options.fftSize,this.iterationFrequency=this.options.context.sampleRate/this.options.bufferLen,this.iterationPeriod=1/this.iterationFrequency,this.setFilter(this.options.filter),this.energy_offset=this.options.energy_offset,this.energy_threshold_pos=this.energy_offset*this.options.energy_threshold_ratio_pos,this.energy_threshold_neg=this.energy_offset*this.options.energy_threshold_ratio_neg,this.analyser=this.options.context.createAnalyser(),this.analyser.smoothingTimeConstant=this.options.smoothingTimeConstant,this.analyser.fftSize=this.options.fftSize,this.floatFrequencyData=new Float32Array(this.analyser.frequencyBinCount),this.floatFrequencyDataLinear=new Float32Array(this.floatFrequencyData.length),this.options.source.connect(this.analyser),this.scriptProcessorNode=this.options.context.createScriptProcessor(this.options.bufferLen,1,1),this.scriptProcessorNode.connect(this.options.context.destination),this.scriptProcessorNode.onaudioprocess=i=>{this.analyser.getFloatFrequencyData(this.floatFrequencyData),this.update(),this.monitor()},this.options.source.connect(this.scriptProcessorNode),t.voice_timeout&&t.voice_timeout_callback&&(this.voice_timeout=t.voice_timeout,this.voice_timeout_callback=t.voice_timeout_callback)}setFilter(t){for(let e=0,i=this.options.fftSize/2;e<i;e++){this.filter[e]=0;for(let o of t)if(e*this.hertzPerBin<o.f){this.filter[e]=o.v;break}}}update(){let t=this.floatFrequencyData;for(let e=0,i=t.length;e<i;e++)this.floatFrequencyDataLinear[e]=Math.pow(10,t[e]/10);this.ready=!1}getEnergy(){if(this.ready)return this.energy;let t=0,e=this.floatFrequencyDataLinear;for(let i=0,o=e.length;i<o;i++)t+=this.filter[i]*e[i]*e[i];return this.energy=t,this.ready=!0,t}monitor(){let e=this.getEnergy()-this.energy_offset;e>this.energy_threshold_pos?this.voiceTrend=this.voiceTrend+1>this.voiceTrendMax?this.voiceTrendMax:this.voiceTrend+1:e<-this.energy_threshold_neg?this.voiceTrend=this.voiceTrend-1<this.voiceTrendMin?this.voiceTrendMin:this.voiceTrend-1:this.voiceTrend>0?this.voiceTrend--:this.voiceTrend<0&&this.voiceTrend++;let i=!1,o=!1;this.voiceTrend>this.voiceTrendStart?i=!0:this.voiceTrend<this.voiceTrendEnd&&(o=!0);let r=e*this.iterationPeriod*this.options.energy_integration;return r>0||!o?this.energy_offset+=r:this.energy_offset+=r*10,this.energy_offset=this.energy_offset<0?0:this.energy_offset,this.energy_threshold_pos=this.energy_offset*this.options.energy_threshold_ratio_pos,this.energy_threshold_neg=this.energy_offset*this.options.energy_threshold_ratio_neg,i&&!this.vadState&&(this.vadState=!0,this.options.voice_start(),this.voiceStopTimeout&&clearTimeout(this.voiceStopTimeout)),o&&this.vadState&&(this.vadState=!1,this.options.voice_stop_delay?this.delayedVoiceStop():this.options.voice_stop()),i&&clearTimeout(this.voice_timeoutId),o&&!this.voice_timeoutId&&this.resetVoice_timeout(),e}delayedVoiceStop(){this.voiceStopTimeout&&clearTimeout(this.voiceStopTimeout),this.vadState?this.voiceStopTimeout=setTimeout(()=>{this.vadState||this.options.voice_stop()},this.options.voice_stop_delay):this.voiceStopTimeout=setTimeout(()=>{this.vadState||this.options.voice_stop()},this.options.voice_stop_delay)}resetVoice_timeout(){this.voice_timeout&&this.voice_timeout_callback&&(clearTimeout(this.voice_timeoutId),this.voice_timeoutId=setTimeout(()=>{this.voice_timeout_callback()},this.voice_timeout))}isVoiceActive(){return this.vadState}},of=Qc;var oa=class{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),i?.once){let o=()=>{this.un(t,o),this.un(t,e)};return this.on(t,o),o}return()=>this.un(t,e)}un(t,e){var i;(i=this.listeners[t])===null||i===void 0||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(i=>i(...e))}},Kc=class extends oa{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};function na(n,t,e,i,o=3,r=0,s=100){if(!n)return()=>{};let a=matchMedia("(pointer: coarse)").matches,l=()=>{},c=d=>{if(d.button!==r)return;d.preventDefault(),d.stopPropagation();let u=d.clientX,h=d.clientY,m=!1,p=Date.now(),f=k=>{if(k.preventDefault(),k.stopPropagation(),a&&Date.now()-p<s)return;let D=k.clientX,A=k.clientY,L=D-u,F=A-h;if(m||Math.abs(L)>o||Math.abs(F)>o){let H=n.getBoundingClientRect(),{left:W,top:z}=H;m||(e?.(u-W,h-z),m=!0),t(L,F,D-W,A-z),u=D,h=A}},b=k=>{if(m){let D=k.clientX,A=k.clientY,L=n.getBoundingClientRect(),{left:F,top:H}=L;i?.(D-F,A-H)}l()},C=k=>{k.relatedTarget&&k.relatedTarget!==document.documentElement||b(k)},w=k=>{m&&(k.stopPropagation(),k.preventDefault())},I=k=>{m&&k.preventDefault()};document.addEventListener("pointermove",f),document.addEventListener("pointerup",b),document.addEventListener("pointerout",C),document.addEventListener("pointercancel",C),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("click",w,{capture:!0}),l=()=>{document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",b),document.removeEventListener("pointerout",C),document.removeEventListener("pointercancel",C),document.removeEventListener("touchmove",I),setTimeout(()=>{document.removeEventListener("click",w,{capture:!0})},10)}};return n.addEventListener("pointerdown",c),()=>{l(),n.removeEventListener("pointerdown",c)}}function rf(n,t){let e=t.xmlns?document.createElementNS(t.xmlns,n):document.createElement(n);for(let[i,o]of Object.entries(t))if(i==="children")for(let[r,s]of Object.entries(t))typeof s=="string"?e.appendChild(document.createTextNode(s)):e.appendChild(rf(r,s));else i==="style"?Object.assign(e.style,o):i==="textContent"?e.textContent=o:e.setAttribute(i,o.toString());return e}function Rr(n,t,e){let i=rf(n,t||{});return e?.appendChild(i),i}var ra=class extends oa{constructor(t,e,i=0){var o,r,s,a,l,c,d,u;super(),this.totalDuration=e,this.numberOfChannels=i,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.subscriptions=[],this.id=t.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(t.start),this.end=this.clampPosition((o=t.end)!==null&&o!==void 0?o:t.start),this.drag=(r=t.drag)===null||r===void 0||r,this.resize=(s=t.resize)===null||s===void 0||s,this.color=(a=t.color)!==null&&a!==void 0?a:"rgba(0, 0, 0, 0.1)",this.minLength=(l=t.minLength)!==null&&l!==void 0?l:this.minLength,this.maxLength=(c=t.maxLength)!==null&&c!==void 0?c:this.maxLength,this.channelIdx=(d=t.channelIdx)!==null&&d!==void 0?d:-1,this.contentEditable=(u=t.contentEditable)!==null&&u!==void 0?u:this.contentEditable,this.element=this.initElement(),this.setContent(t.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(t){return Math.max(0,Math.min(this.totalDuration,t))}setPart(){let t=this.start===this.end;this.element.setAttribute("part",`${t?"marker":"region"} ${this.id}`)}addResizeHandles(t){let e={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},i=Rr("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},e),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},t),o=Rr("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},e),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},t);this.subscriptions.push(na(i,r=>this.onResize(r,"start"),()=>null,()=>this.onEndResizing(),1),na(o,r=>this.onResize(r,"end"),()=>null,()=>this.onEndResizing(),1))}removeResizeHandles(t){let e=t.querySelector('[part*="region-handle-left"]'),i=t.querySelector('[part*="region-handle-right"]');e&&t.removeChild(e),i&&t.removeChild(i)}initElement(){let t=this.start===this.end,e=0,i=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(i=100/this.numberOfChannels,e=i*this.channelIdx);let o=Rr("div",{style:{position:"absolute",top:`${e}%`,height:`${i}%`,backgroundColor:t?"none":this.color,borderLeft:t?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!t&&this.resize&&this.addResizeHandles(o),o}renderPosition(){let t=this.start/this.totalDuration,e=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*t+"%",this.element.style.right=100*e+"%"}toggleCursor(t){var e;this.drag&&(!((e=this.element)===null||e===void 0)&&e.style)&&(this.element.style.cursor=t?"grabbing":"grab")}initMouseEvents(){let{element:t}=this;t&&(t.addEventListener("click",e=>this.emit("click",e)),t.addEventListener("mouseenter",e=>this.emit("over",e)),t.addEventListener("mouseleave",e=>this.emit("leave",e)),t.addEventListener("dblclick",e=>this.emit("dblclick",e)),t.addEventListener("pointerdown",()=>this.toggleCursor(!0)),t.addEventListener("pointerup",()=>this.toggleCursor(!1)),this.subscriptions.push(na(t,e=>this.onMove(e),()=>this.toggleCursor(!0),()=>{this.toggleCursor(!1),this.drag&&this.emit("update-end")})),this.contentEditable&&this.content&&(this.content.addEventListener("click",e=>this.onContentClick(e)),this.content.addEventListener("blur",()=>this.onContentBlur())))}_onUpdate(t,e){if(!this.element.parentElement)return;let{width:i}=this.element.parentElement.getBoundingClientRect(),o=t/i*this.totalDuration,r=e&&e!=="start"?this.start:this.start+o,s=e&&e!=="end"?this.end:this.end+o,a=s-r;r>=0&&s<=this.totalDuration&&r<=s&&a>=this.minLength&&a<=this.maxLength&&(this.start=r,this.end=s,this.renderPosition(),this.emit("update",e))}onMove(t){this.drag&&this._onUpdate(t)}onResize(t,e){this.resize&&this._onUpdate(t,e)}onEndResizing(){this.resize&&this.emit("update-end")}onContentClick(t){t.stopPropagation(),t.target.focus(),this.emit("click",t)}onContentBlur(){this.emit("update-end")}_setTotalDuration(t){this.totalDuration=t,this.renderPosition()}play(){this.emit("play")}setContent(t){var e;if((e=this.content)===null||e===void 0||e.remove(),t){if(typeof t=="string"){let i=this.start===this.end;this.content=Rr("div",{style:{padding:`0.2em ${i?.2:.4}em`,display:"inline-block"},textContent:t})}else this.content=t;this.contentEditable&&(this.content.contentEditable="true"),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(t){var e,i;if(t.color&&(this.color=t.color,this.element.style.backgroundColor=this.color),t.drag!==void 0&&(this.drag=t.drag,this.element.style.cursor=this.drag?"grab":"default"),t.start!==void 0||t.end!==void 0){let o=this.start===this.end;this.start=this.clampPosition((e=t.start)!==null&&e!==void 0?e:this.start),this.end=this.clampPosition((i=t.end)!==null&&i!==void 0?i:o?this.start:this.end),this.renderPosition(),this.setPart()}if(t.content&&this.setContent(t.content),t.id&&(this.id=t.id,this.setPart()),t.resize!==void 0&&t.resize!==this.resize){let o=this.start===this.end;this.resize=t.resize,this.resize&&!o?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit("remove"),this.subscriptions.forEach(t=>t()),this.element.remove(),this.element=null}},sa=class n extends Kc{constructor(t){super(t),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(t){return new n(t)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let t=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",e=>{let i=this.regions.filter(o=>o.start<=e&&(o.end===o.start?o.start+.05:o.end)>=e);i.forEach(o=>{t.includes(o)||this.emit("region-in",o)}),t.forEach(o=>{i.includes(o)||this.emit("region-out",o)}),t=i}))}initRegionsContainer(){return Rr("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"3",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(t){t.content&&setTimeout(()=>{let e=t.content,i=e.getBoundingClientRect(),o=this.regions.map(r=>{if(r===t||!r.content)return 0;let s=r.content.getBoundingClientRect();return i.left<s.left+s.width&&s.left<i.left+i.width?s.height:0}).reduce((r,s)=>r+s,0);e.style.marginTop=`${o}px`},10)}adjustScroll(t){var e,i;let o=(i=(e=this.wavesurfer)===null||e===void 0?void 0:e.getWrapper())===null||i===void 0?void 0:i.parentElement;if(!o)return;let{clientWidth:r,scrollWidth:s}=o;if(s<=r)return;let a=o.getBoundingClientRect(),l=t.element.getBoundingClientRect(),c=l.left-a.left,d=l.right-a.left;c<0?o.scrollLeft+=c:d>r&&(o.scrollLeft+=d-r)}virtualAppend(t,e,i){let o=()=>{if(!this.wavesurfer)return;let r=this.wavesurfer.getWidth(),s=this.wavesurfer.getScroll(),a=e.clientWidth,l=this.wavesurfer.getDuration(),c=Math.round(t.start/l*a),d=c+(Math.round((t.end-t.start)/l*a)||1)>s&&c<s+r;d&&!i.parentElement?e.appendChild(i):!d&&i.parentElement&&i.remove()};setTimeout(()=>{if(!this.wavesurfer)return;o();let r=this.wavesurfer.on("scroll",o);this.subscriptions.push(t.once("remove",r),r)},0)}saveRegion(t){this.virtualAppend(t,this.regionsContainer,t.element),this.avoidOverlapping(t),this.regions.push(t);let e=[t.on("update",i=>{i||this.adjustScroll(t),this.emit("region-update",t,i)}),t.on("update-end",()=>{this.avoidOverlapping(t),this.emit("region-updated",t)}),t.on("play",()=>{var i,o;(i=this.wavesurfer)===null||i===void 0||i.play(),(o=this.wavesurfer)===null||o===void 0||o.setTime(t.start)}),t.on("click",i=>{this.emit("region-clicked",t,i)}),t.on("dblclick",i=>{this.emit("region-double-clicked",t,i)}),t.once("remove",()=>{e.forEach(i=>i()),this.regions=this.regions.filter(i=>i!==t),this.emit("region-removed",t)})];this.subscriptions.push(...e),this.emit("region-created",t)}addRegion(t){var e,i;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");let o=this.wavesurfer.getDuration(),r=(i=(e=this.wavesurfer)===null||e===void 0?void 0:e.getDecodedData())===null||i===void 0?void 0:i.numberOfChannels,s=new ra(t,o,r);return o?this.saveRegion(s):this.subscriptions.push(this.wavesurfer.once("ready",a=>{s._setTotalDuration(a),this.saveRegion(s)})),s}enableDragSelection(t,e=3){var i;let o=(i=this.wavesurfer)===null||i===void 0?void 0:i.getWrapper();if(!(o&&o instanceof HTMLElement))return()=>{};let r=null,s=0;return na(o,(a,l,c)=>{r&&r._onUpdate(a,c>s?"end":"start")},a=>{var l,c;if(s=a,!this.wavesurfer)return;let d=this.wavesurfer.getDuration(),u=(c=(l=this.wavesurfer)===null||l===void 0?void 0:l.getDecodedData())===null||c===void 0?void 0:c.numberOfChannels,{width:h}=this.wavesurfer.getWrapper().getBoundingClientRect(),m=a/h*d,p=(a+5)/h*d;r=new ra(Object.assign(Object.assign({},t),{start:m,end:p}),d,u),this.regionsContainer.appendChild(r.element)},()=>{r&&(this.saveRegion(r),r=null)},e)}clearRegions(){this.regions.slice().forEach(t=>t.remove()),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}};var oi=class n{constructor(t,e){this.http=t;this.apiConfig=e;if(this.apiUrl=this.apiConfig.getApiUrl(),typeof window<"u"){let i=localStorage.getItem("access_token");i&&this.currentUserSubject.next(this.getUserFromToken(i))}}apiUrl;currentUserSubject=new Qn(null);login(t,e){return this.http.post(`${this.apiUrl}/login`,{username:t,password:e}).pipe(Pt(i=>(typeof window<"u"&&localStorage.setItem("access_token",i.access_token),this.currentUserSubject.next(this.getUserFromToken(i.access_token)),i)))}logout(){typeof window<"u"&&localStorage.removeItem("access_token"),this.currentUserSubject.next(null)}isLoggedIn(){return typeof window<"u"&&!!localStorage.getItem("access_token")}getUserFromToken(t){try{let e=JSON.parse(atob(t.split(".")[1]));return console.log(e.sub.username,e.sub.role),{username:e.sub.username,role:e.sub.role}}catch(e){return console.error("Error decoding token:",e),{username:"",role:""}}}get currentUser(){return this.currentUserSubject.asObservable()}getCurrentUserValue(){return this.currentUserSubject.value}isAuthorized(...t){let e=this.getCurrentUserValue();return e?t.includes(e.role):!1}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var MC=["waveformContainer"],sf=n=>({width:n});function SC(n,t){if(n&1&&(v(0,"div",15)(1,"p"),S(2),g(),v(3,"div",16),V(4,"div",17),g()()),n&2){let e=t.$implicit,i=U();E(2),Ga("",i.translateEmotion(e.emo),": ",e.prob.toFixed(2),"%"),E(2),T("ngClass",e.colorClass)("ngStyle",Pi(4,sf,e.prob*100+"%"))}}function kC(n,t){if(n&1&&(v(0,"div",18)(1,"p"),S(2),g(),v(3,"div",19),V(4,"div",20),g()()),n&2){let e=t.$implicit,i=U();E(2),Ga("",i.translateEmotion(e.name),": ",(e.value*100).toFixed(2),"%"),E(2),T("ngClass",e.colorClass)("ngStyle",Pi(4,sf,e.value*100+"%"))}}function AC(n,t){if(n&1&&(v(0,"span",21),S(1),g()),n&2){let e=t.$implicit,i=U();fe("active",i.isWordActive(e)),E(),st(" ",e.word," ")}}var So=class n{constructor(t,e,i){this.changeDetector=t;this.authService=e;this.emotionTranslationService=i}isAuthorized=!1;audioBlob;audioIndex;isShowing=!1;set alignments(t){if(!t||!Array.isArray(t)){console.error("alignments debe ser un array:",t),this._alignments=[];return}console.log("valores ",t),this._alignments=t.map(e=>({word:e.word||"",start:parseFloat(e.start?.toString())||0,end:parseFloat(e.end?.toString())||0})),console.log("Alignments procesados:",this._alignments),this.showAlignment(),this.changeDetector.detectChanges()}get alignments(){return this._alignments}set emotions_categoric(t){this._emotions_categoric=t,this._emotions_categoric.forEach(e=>{e.colorClass=`color-${e.emo.toLowerCase()}`}),this.changeDetector.detectChanges()}get emotions_categoric(){return this._emotions_categoric}set emotions_dimensional(t){t&&typeof t=="object"&&!Array.isArray(t)?this._emotions_dimensional=[{name:"Arousal",value:t.arousal,colorClass:"color-arousal"},{name:"Dominance",value:t.dominance,colorClass:"color-dominance"},{name:"Valence",value:t.valence,colorClass:"color-valence"}]:(console.error("Invalid value for emotions_dimensional:",t),this._emotions_dimensional=[]),console.log("Processed emotions_dimensional:",this._emotions_dimensional),this.changeDetector.detectChanges()}get emotions_dimensional(){return this._emotions_dimensional}_emotions_categoric=[];_emotions_dimensional=[];_alignments=[];waveformContainer;waveSurfer;ngOnInit(){this.isAuthorized=this.authService.isAuthorized("admin","psychologist")}ngAfterViewInit(){this.audioBlob&&this.createWaveSurfer()}ngOnChanges(t){t.audioBlob&&this.audioBlob&&this.createWaveSurfer()}createWaveSurfer(){if(this.audioBlob&&this.waveformContainer){let t=URL.createObjectURL(this.audioBlob);this.waveSurfer=fn.create({container:this.waveformContainer.nativeElement,waveColor:"rgb(204, 102, 0)",progressColor:"rgb(100, 50, 0)",url:t,barWidth:2,barGap:1,barRadius:2,plugins:[sa.create()]}),this.waveSurfer.on("audioprocess",()=>{this.changeDetector.detectChanges()}),console.log("WaveSurfer plugins activos:",this.waveSurfer?.plugins)}else console.error("audioBlob o waveformContainer no est\xE1n definidos")}showAlignment(){if(console.log("hloaoa"),!this.waveSurfer||typeof this.waveSurfer.addRegion!="function"){console.error("El plugin de regiones no est\xE1 disponible");return}this.isShowing?(this.waveSurfer.regions.list.forEach(t=>t.remove()),this.isShowing=!1):(console.log("entra alig"),this._alignments.forEach(t=>{console.log(t);let e=t.word.trim()==="",i=this.waveSurfer.addRegion({start:t.start,end:t.end,color:e?"rgba(255, 255, 255, 0.3)":"rgba(0, 255, 0, 0.5)",drag:!1,resize:!1});if(!e){let o=document.createElement("div");o.style.position="absolute",o.style.fontSize="12px",o.style.color="black",o.style.backgroundColor="rgba(255,255,255,0.7)",o.style.borderRadius="4px",o.style.padding="2px 5px",o.innerText=t.word,i.element.appendChild(o),o.style.left="50%",o.style.top="50%",o.style.transform="translate(-50%, -50%)"}}),this.isShowing=!0)}isWordActive(t){if(!this.waveSurfer)return!1;let e=this.waveSurfer.getCurrentTime();return e>=t.start&&e<=t.end}playPause(){this.waveSurfer.playPause()}download(){if(this.audioBlob){let t=URL.createObjectURL(this.audioBlob),e=document.createElement("a");e.href=t,e.download="recording"+this.audioIndex+`.${this.audioBlob.type.split("/")[1]||"webm"}`,e.click()}}translateEmotion(t){return this.emotionTranslationService.translateEmotion(t)}static \u0275fac=function(e){return new(e||n)(x(Ie),x(oi),x(hn))};static \u0275cmp=G({type:n,selectors:[["app-audio-emotions"]],viewQuery:function(e,i){if(e&1&&Se(MC,7),e&2){let o;le(o=ce())&&(i.waveformContainer=o.first)}},inputs:{audioBlob:"audioBlob",audioIndex:"audioIndex",alignments:"alignments",emotions_categoric:"emotions_categoric",emotions_dimensional:"emotions_dimensional"},features:[Ue],decls:21,vars:4,consts:[["waveformContainer",""],[1,"audio-recording"],[1,"audio-container"],[1,"waveform-container"],[1,"emotions-container"],[1,"top-container"],[1,"emotions-categoric"],["class","emotion-item",4,"ngFor","ngForOf"],[1,"emotions-dimensional"],["class","dimension-item",4,"ngFor","ngForOf"],[1,"controls"],[1,"btn-form",3,"click"],[1,"btn-form",3,"click","disabled"],[1,"transcription-container"],["class","word",3,"active",4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-bar-container"],[1,"emotion-bar",3,"ngClass","ngStyle"],[1,"dimension-item"],[1,"dimension-bar-container"],[1,"dimension-bar",3,"ngClass","ngStyle"],[1,"word"]],template:function(e,i){if(e&1){let o=ye();v(0,"section")(1,"div",1)(2,"div",2),V(3,"div",3,0),g(),v(5,"div",4)(6,"div",5)(7,"div",6),X(8,SC,5,6,"div",7),g(),v(9,"div",8),X(10,kC,5,6,"div",9),g()(),v(11,"div",10)(12,"button",11),B("click",function(){return ie(o),ne(i.playPause())}),S(13,"Reproducir/Parar"),g(),v(14,"button",12),B("click",function(){return ie(o),ne(i.download())}),S(15,"Descargar"),g()()()(),v(16,"div",13)(17,"h4"),S(18,"Transcripci\xF3n:"),g(),v(19,"p"),X(20,AC,2,3,"span",14),g()()()}e&2&&(E(8),T("ngForOf",i.emotions_categoric),E(2),T("ngForOf",i.emotions_dimensional),E(4),T("disabled",!i.isAuthorized),E(6),T("ngForOf",i.alignments))},dependencies:[Kr,Zr,Zd],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{background-color:#e0bc99;margin-bottom:80px;padding:40px;border-radius:10px}.audio-recording[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e0e0e0;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:20px;background-color:#fff}.audio-container[_ngcontent-%COMP%]{width:75%;display:flex;flex-direction:column;align-items:flex-start;overflow-y:auto;padding-right:20px}.waveform-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;background-color:#f5f5f5;border-radius:8px;padding:10px}.controls[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-start;margin-top:auto}.emotions-container[_ngcontent-%COMP%]{width:40%;padding-left:20px;display:flex;flex-direction:column;gap:15px;overflow-y:auto}.emotion-item[_ngcontent-%COMP%], .dimension-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:5px}.emotion-bar-container[_ngcontent-%COMP%], .dimension-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.emotion-bar[_ngcontent-%COMP%], .dimension-bar[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease;flex-direction:column;align-items:flex-start;gap:5px}.emotion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dimension-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#333;margin:0;font-weight:600}.emotion-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.emotion-bar[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease}.emotion-circle[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:50%;margin-right:10px;border:2px solid #333;background-color:#fff;box-shadow:0 2px 4px #0003}.top-container[_ngcontent-%COMP%]{display:flex;display:row;width:100%;gap:20px}.emotions-categoric[_ngcontent-%COMP%], .emotions-dimensional[_ngcontent-%COMP%]{width:50%}.transcription-container[_ngcontent-%COMP%]{margin-top:30px;font-size:1.1em;line-height:1.6;color:#333}.word[_ngcontent-%COMP%]{font-weight:400;color:#666;margin-right:8px}.word.active[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);background-color:var(--secondary-color);padding:2px 6px;border-radius:4px}.btn-form[_ngcontent-%COMP%]:disabled{pointer-events:none;opacity:.5}.btn-form[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}.color-happiness[_ngcontent-%COMP%]{background-color:#ffeb3b}.color-sadness[_ngcontent-%COMP%]{background-color:#a2c2e1}.color-anger[_ngcontent-%COMP%]{background-color:#ff7f7f}.color-fear[_ngcontent-%COMP%]{background-color:#a8d5ba}.color-disgust[_ngcontent-%COMP%]{background-color:#877459}.color-neutral[_ngcontent-%COMP%]{background-color:#fff8e7}.color-arousal[_ngcontent-%COMP%]{background-color:#3498db}.color-dominance[_ngcontent-%COMP%]{background-color:#9b59b6}.color-valence[_ngcontent-%COMP%]{background-color:#2ecc71}@media (max-width: 576px){.audio-container[_ngcontent-%COMP%]{width:90%}.audio-recording[_ngcontent-%COMP%]{flex-direction:column}.emotions-container[_ngcontent-%COMP%]{width:100%;padding-left:0}.emotion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dimension-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px}}']})};var ko=class{convertBlobToWav(t){return ht(this,null,function*(){let e=new(window.AudioContext||window.webkitAudioContext),i=yield t.arrayBuffer(),o=yield e.decodeAudioData(i),r=this.encodeWav(o);return new Blob([r],{type:"audio/wav"})})}encodeWav(t){let e=t.numberOfChannels,i=t.sampleRate,o=t.getChannelData(0),r=new ArrayBuffer(44+o.length*2),s=new DataView(r);this.writeString(s,0,"RIFF"),s.setUint32(4,36+o.length*2,!0),this.writeString(s,8,"WAVE"),this.writeString(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,e,!0),s.setUint32(24,i,!0),s.setUint32(28,i*e*2,!0),s.setUint16(32,e*2,!0),s.setUint16(34,16,!0),this.writeString(s,36,"data"),s.setUint32(40,o.length*2,!0);let a=44;for(let l=0;l<o.length;l++)s.setInt16(a,o[l]*32767,!0),a+=2;return r}writeString(t,e,i){for(let o=0;o<i.length;o++)t.setUint8(e+o,i.charCodeAt(o))}convertBlobToBase64(t){return new Promise((e,i)=>{let o=new FileReader;o.onloadend=()=>{e(o.result)},o.onerror=i,o.readAsDataURL(t)})}};var gn=class{fileName;Emotion_1_label;Emotion_1_mean;Emotion_1_std;Emotion_2_label;Emotion_2_mean;Emotion_2_std;Emotion_3_label;Emotion_3_mean;Emotion_3_std;valence;arousal;dominance;userId;timestamp;audioBlob;transcription;alignments;constructor(t){this.fileName=t.fileName,this.Emotion_1_label=t.Emotion_1_label,this.Emotion_1_mean=t.Emotion_1_mean,this.Emotion_1_std=t.Emotion_1_std,this.Emotion_2_label=t.Emotion_2_label,this.Emotion_2_mean=t.Emotion_2_mean,this.Emotion_2_std=t.Emotion_2_std,this.Emotion_3_label=t.Emotion_3_label,this.Emotion_3_mean=t.Emotion_3_mean,this.Emotion_3_std=t.Emotion_3_std,this.valence=t.valence,this.arousal=t.arousal,this.dominance=t.dominance,this.userId=t.userId,this.timestamp=t.timestamp,this.audioBlob=t.audioBlob||new Blob,this.transcription=t.transcription,this.alignments=t.alignments}static toCSVHeader(){return["file_name","Emotion_1_label","Emotion_1_mean","Emotion_1_std","Emotion_2_label","Emotion_2_mean","Emotion_2_std","Emotion_3_label","Emotion_3_mean","Emotion_3_std","valence","arousal","dominance","user_id","timestamp","transcription","alignments"].join(",")}toCSVRow(){return[this.fileName,this.Emotion_1_label,this.Emotion_1_mean,this.Emotion_1_std,this.Emotion_2_label,this.Emotion_2_mean,this.Emotion_2_std,this.Emotion_3_label,this.Emotion_3_mean,this.Emotion_3_std,this.valence,this.arousal,this.dominance,this.userId,this.timestamp,this.transcription,JSON.stringify(this.alignments)].join(",")}};var lf=fg(af());var Ao=class{static generateCsv(t){let e=["file_name","Emotion_1_label","Emotion_1_mean","Emotion_1_std","Emotion_2_label","Emotion_2_mean","Emotion_2_std","Emotion_3_label","Emotion_3_mean","Emotion_3_std","valence","arousal","dominance","user_id","timestamp","audioblob","transcription","alignments"],i=t.map(r=>[r.fileName,r.Emotion_1_label,r.Emotion_1_mean,r.Emotion_1_std,r.Emotion_2_label,r.Emotion_2_mean,r.Emotion_2_std,r.Emotion_3_label,r.Emotion_3_mean,r.Emotion_3_std,r.valence,r.arousal,r.dominance,r.userId,r.timestamp,r.audioBlob,`"${JSON.stringify(r.transcription||"").replace(/"/g,'""')}"`,`"${JSON.stringify(r.alignments||"").replace(/"/g,'""')}"`]);return[e,...i].map(r=>r.join(",")).join(`
`)}static downloadCsv(t,e){let i=this.generateCsv(t),o=new Blob([i],{type:"text/csv"}),r=document.createElement("a"),s=URL.createObjectURL(o);r.href=s,r.download=e+".csv",r.click(),URL.revokeObjectURL(s)}loadCsv(t){return new Promise((e,i)=>{let o=new FileReader;o.onload=()=>{let r=o.result,s=this.parseCsv(r);e(s)},o.onerror=r=>i(r),o.readAsText(t)})}parseCsv(t){let e=[];return lf.default.parse(t,{header:!0,skipEmptyLines:!0,quoteChar:'"',complete:i=>{i.data.forEach(o=>{let r=[];if(o.alignments)try{console.log("Raw alignments:",o.alignments);let a=JSON.parse(o.alignments);Array.isArray(a)?(console.log("Parsed alignments:",a),r=a.map(l=>({word:l.word||"",start:parseFloat(l.start)||0,end:parseFloat(l.end)||0}))):console.error("El campo alignments no es un array:",a)}catch(a){console.error("Error al parsear alignments:",a,o.alignments)}console.log("Tipo de alignments:",typeof r),console.log("Alignments despu\xE9s de parsear:",r);let s=new gn({fileName:o.file_name,Emotion_1_label:o.Emotion_1_label,Emotion_1_mean:parseFloat(o.Emotion_1_mean),Emotion_1_std:parseFloat(o.Emotion_1_std),Emotion_2_label:o.Emotion_2_label,Emotion_2_mean:parseFloat(o.Emotion_2_mean),Emotion_2_std:parseFloat(o.Emotion_2_std),Emotion_3_label:o.Emotion_3_label,Emotion_3_mean:parseFloat(o.Emotion_3_mean),Emotion_3_std:parseFloat(o.Emotion_3_std),valence:parseFloat(o.valence),arousal:parseFloat(o.arousal),dominance:parseFloat(o.dominance),userId:o.user_id||"",timestamp:parseInt(o.timestamp,10),audioBlob:new Blob,transcription:o.transcription,alignments:Array.isArray(r)?r:[]});e.push(s)})}}),e}};var Io=class{word;start;end;constructor(t,e,i){this.word=i,this.start=e,this.end=t}};var _n=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrl()}apiUrl;getDataAudio(t){return this.http.post(`${this.apiUrl}/audio/getData`,t)}sendAudios(t){return this.http.post(`${this.apiUrl}/getAudios`,t)}getAvalaibleModels(){return this.http.get(`${this.apiUrl}/audio/getAvalaibleModels`)}getInferenceInterval(){return this.http.get(`${this.apiUrl}/audio/getInferenceInterval`)}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var la=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrlForceAlignment()}apiUrl;test(){return this.http.get(`${this.apiUrl}/hello`,{responseType:"text"})}getForcedAlignment(t){return this.http.post(`${this.apiUrl}/getForcedAlignment`,t)}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var TC=["waveform"],OC=["recordings"],ca=class n{constructor(t,e,i,o,r,s){this.audioService=t;this.viewContainerRef=e;this.componentFactoryResolver=i;this.authService=o;this.forceAlignment=r;this.cdr=s}waveformRef;recordingsRef;isAuthorized=!1;waveSurfer=null;audio=null;audioContext=null;mediaStream=null;vad=null;audioUtils=new ko;isRecording=!1;recordingProgress="00:00";index=0;waveSurferRecorded=[];requestQueue=[];isRequestInProgress=!1;recordingsWithEmotions=[];voice_stop_delay=500;fftSize=1024;bufferLen=1024;voice_stop_delay_string=this.voice_stop_delay.toString();stopDelayOptions=[500,1e3,3e3,5e3];ngAfterViewInit(){this.waveformRef&&this.waveformRef.nativeElement&&this.createWaveSurfer()}ngOnInit(){this.isAuthorized=this.authService.isAuthorized("admin","psychologist"),this.audioService.getInferenceInterval().subscribe(t=>{this.voice_stop_delay=t})}ngOnDestroy(){this.stopRecording(),this.waveSurfer&&(this.waveSurfer.destroy(),this.waveSurfer=null),this.requestQueue=[]}createWaveSurfer(){this.waveSurfer=fn.create({container:this.waveformRef.nativeElement,waveColor:"rgb(97, 80, 234)",progressColor:"rgb(100, 0, 100)",height:200}),this.audio=this.waveSurfer.registerPlugin(ia.create({renderRecordedAudio:!0,continuousWaveform:!1})),this.audio.on("record-end",t=>{this.processRecordedAudio(t)}),this.audio.on("record-progress",t=>{this.updateProgress(t)}),console.log("WaveSurfer creado.")}destroyWaveSurfer(){this.waveSurfer&&(this.waveSurfer.destroy(),this.waveSurfer=null,console.log("WaveSurfer destruido."))}getWaveformHeight(){return window.innerHeight*.3}closeAudioContext(){this.audioContext&&(this.audioContext.close(),this.audioContext=null,console.log("AudioContext cerrado.")),this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>t.stop()),this.mediaStream=null,console.log("MediaStream detenido."))}startRecording(){return ht(this,null,function*(){this.stopRecording(),this.destroyWaveSurfer(),this.createWaveSurfer(),this.closeAudioContext();try{let t=yield navigator.mediaDevices.getUserMedia({audio:!0});this.mediaStream=t,this.audioContext=new(window.AudioContext||window.webkitAudioContext);let e=this.audioContext.createMediaStreamSource(t);this.isRecording=!0,this.vad=new of({source:e,context:this.audioContext,fftSize:1024,bufferLen:1024,voice_stop_delay:this.voice_stop_delay,voice_start:()=>{console.log("Voz detectada"),this.cdr.detectChanges(),this.audio.startRecording()},voice_stop:()=>{console.log("Silencio detectado, finalizando grabaci\xF3n actual"),this.audio.stopRecording(),this.cdr.detectChanges(),this.destroyWaveSurfer(),this.createWaveSurfer()}})}catch{this.isRecording=!1,console.log("Error accediendo al micr\xF3fono"),gt.fire({icon:"error",title:"Error de acceso",text:"No se ha podido comenzar a grabar por el micr\xF3fono.",confirmButtonText:"Aceptar"});return}})}stopRecording(){this.isRecording&&(this.isRecording=!1,this.cdr.detectChanges(),this.audio.stopRecording()),this.audioContext&&this.audioContext.state!=="closed"?this.audioContext.close().then(()=>{console.log("AudioContext cerrado correctamente."),this.audioContext=null}).catch(t=>{console.error("Error al cerrar el AudioContext:",t)}):this.audioContext=null,this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>t.stop()),this.mediaStream=null),console.log("Grabaci\xF3n detenida manualmente.")}updateProgress(t){let e=[Math.floor(t%36e5/6e4),Math.floor(t%6e4/1e3)].map(i=>i<10?"0"+i:i).join(":");this.recordingProgress=e}processRecordedAudio(t){return ht(this,null,function*(){this.audioUtils.convertBlobToWav(t).then(e=>{this.waveSurferRecorded.push(e);let i=this.recordingsRef.nativeElement,o=this.componentFactoryResolver.resolveComponentFactory(So),r=this.viewContainerRef.createComponent(o);r.instance.audioBlob=e,r.instance.audioIndex=this.index,i.appendChild(r.location.nativeElement),this.sendAudioToGetEmotions(e,r)}),this.index++})}sendAudioToGetEmotions(t,e){return ht(this,null,function*(){let i=()=>ht(this,null,function*(){let o=new FormData,r="recording"+this.index+".wav",s=new File([t],r,{type:t.type});o.append("audioFile",s);try{let a=yield this.audioService.getDataAudio(o).toPromise();console.log("Audio enviado exitosamente:",a);let l=a.emotions.emocategoric;this.addCategoric(l,e.instance);let c=a.emotions.emodimensional;this.addDimensional(c,e.instance);let d=yield this.createRecordingWithEmotion(r,l,c,a.userId,t,a.transcription,[]);this.recordingsWithEmotions.push(d);let h=(yield Ld(this.forceAlignment.getForcedAlignment(o))).map(m=>new Io(m.end,m.start,m.word));e.instance.alignments=h,d.alignments=h,console.log(d)}catch(a){console.error("Error al enviar el audio:",a)}});this.enqueueRequest(i)})}addCategoric(t,e){t&&Array.isArray(t)?e.emotions_categoric=t:console.error("No se recibieron emociones categ\xF3ricas v\xE1lidas.")}addDimensional(t,e){t?e.emotions_dimensional=t:console.error("No se recibieron emociones dimensionales v\xE1lidas.")}createRecordingWithEmotion(t,e,i,o,r,s,a){return ht(this,null,function*(){return console.log("antes de crear ",a),new gn({fileName:t,Emotion_1_label:e[0]?.emo||"",Emotion_1_mean:e[0]?.prob||0,Emotion_1_std:e[0]?.std||0,Emotion_2_label:e[1]?.emo||"",Emotion_2_mean:e[1]?.prob||0,Emotion_2_std:e[1]?.std||0,Emotion_3_label:e[2]?.emo||"",Emotion_3_mean:e[2]?.prob||0,Emotion_3_std:e[2]?.std||0,valence:i.valence,arousal:i.arousal,dominance:i.dominance,userId:o,timestamp:Date.now(),audioBlob:r,transcription:s,alignments:a})})}enqueueRequest(t){return ht(this,null,function*(){this.requestQueue.push(t),this.isRequestInProgress||(yield this.processQueue())})}processQueue(){return ht(this,null,function*(){if(this.isRequestInProgress||this.requestQueue.length===0)return;this.isRequestInProgress=!0;let t=this.requestQueue.shift();if(t)try{yield t()}finally{this.isRequestInProgress=!1,yield this.processQueue()}else this.isRequestInProgress=!1})}downloadAll(){if(this.waveSurferRecorded.length===0){console.warn("No hay audios grabados para descargar.");return}this.waveSurferRecorded.forEach((t,e)=>{let i=URL.createObjectURL(t),o=document.createElement("a");o.href=i,o.download=`recording${e+1}.wav`,o.click(),URL.revokeObjectURL(i)}),this.cdr.detectChanges(),console.log("tiene alignmets? ",this.recordingsWithEmotions),Ao.downloadCsv(this.recordingsWithEmotions,"recordings_emotions"),console.log("Todos los audios han sido descargados.")}static \u0275fac=function(e){return new(e||n)(x(_n),x(Kt),x(Fi),x(oi),x(la),x(Ie))};static \u0275cmp=G({type:n,selectors:[["app-audio-vad-live"]],viewQuery:function(e,i){if(e&1&&(Se(TC,7),Se(OC,7)),e&2){let o;le(o=ce())&&(i.waveformRef=o.first),le(o=ce())&&(i.recordingsRef=o.first)}},decls:25,vars:4,consts:[["waveform",""],["recordings",""],[1,"audio-visualizer"],[1,"main-info"],[1,"left-container"],[1,"buttons"],[1,"btn-initial",3,"click","disabled"],[1,"silence-interval"],[1,"right-container"],[1,"live-record"],[1,"separator"],[1,"records"],[1,"btn-secondary",3,"click","disabled"],[1,"record-container"],[1,"audios-recorded"]],template:function(e,i){if(e&1){let o=ye();v(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1"),S(4,"Reconocimiento de voz en tiempo real"),g(),v(5,"div",5)(6,"button",6),B("click",function(){return ie(o),ne(i.startRecording())}),S(7,"Grabar"),g(),v(8,"button",6),B("click",function(){return ie(o),ne(i.stopRecording())}),S(9,"Detener"),g()(),v(10,"div",7),S(11),g()(),v(12,"div",8)(13,"div",9),V(14,"div",null,0),g()()(),V(16,"div",10),v(17,"div",11)(18,"h2"),S(19,"Grabaciones"),g(),v(20,"button",12),B("click",function(){return ie(o),ne(i.downloadAll())}),S(21,"Descargar Datos"),g()(),v(22,"div",13),V(23,"div",14,1),g()()}e&2&&(E(6),T("disabled",i.isRecording),E(2),T("disabled",!i.isRecording),E(3),st(" Intervalo de silencio (ms): ",i.voice_stop_delay_string," "),E(9),T("disabled",i.recordingsWithEmotions.length===0||!i.isAuthorized))},styles:['@charset "UTF-8";.inferior-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.controls-div[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:10px}div[class^=emotions][_ngcontent-%COMP%]{background-color:#7fffd4}.main-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:40px;background-color:var(--soft-gray-color);border-radius:40px;margin-bottom:100px;padding:20px;box-sizing:border-box;overflow:hidden}.buttons[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:70px;display:flex;gap:10px}.btn-secondary[_ngcontent-%COMP%]{margin-right:100px}.left-container[_ngcontent-%COMP%]{flex:1;margin:0 80px}.right-container[_ngcontent-%COMP%]{margin-top:20px;margin-right:160px;flex:2;display:flex;flex-direction:column;justify-content:flex-start}p[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.separator[_ngcontent-%COMP%]{border-bottom:solid 1px grey;width:80%;margin:0 auto 80px;display:flex;justify-content:center;align-items:center}.records[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 1024px){.main-info[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-justify:distribute;align-content:center;gap:5px;background-color:var(--soft-gray-color);border-radius:40px;margin-bottom:100px;padding:0;box-sizing:border-box;overflow:hidden;width:100%}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:0;align-items:center}.btn-secondary[_ngcontent-%COMP%]{margin-right:0}.left-container[_ngcontent-%COMP%]{width:90%;margin-bottom:20px}.right-container[_ngcontent-%COMP%]{width:90%;margin-bottom:20px;margin-left:0;margin-right:0}.right-container[_ngcontent-%COMP%]{order:2}.buttons[_ngcontent-%COMP%]{margin-top:0}}']})};var da=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-audio"]],decls:2,vars:0,consts:[[1,"mx-auto","individual-container"]],template:function(e,i){e&1&&(v(0,"div",0),V(1,"app-audio-vad-live"),g())},dependencies:[ca],styles:[".individual-container[_ngcontent-%COMP%]{gap:20px}"]})};function PC(n,t){n&1&&(v(0,"div",11),S(1," El nombre de usuario es obligatorio. "),g())}function RC(n,t){n&1&&(v(0,"div",11),S(1," La contrase\xF1a es obligatoria. "),g())}function LC(n,t){if(n&1&&(v(0,"div",12),S(1),g()),n&2){let e=U();E(),st(" ",e.errorMessage," ")}}var ua=class n{constructor(t,e,i){this.fb=t;this.authService=e;this.router=i;this.loginForm=this.fb.group({username:["",St.required],password:["",St.required]})}loginForm;errorMessage=null;onSubmit(){if(this.loginForm.valid){let{username:t,password:e}=this.loginForm.value;this.authService.login(t,e).subscribe({next:()=>this.router.navigate(["/"]),error:i=>{this.errorMessage="Usuario o contrase\xF1a incorrectos.",this.loginForm.reset(),console.error(i)}})}}static \u0275fac=function(e){return new(e||n)(x(wi),x(oi),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"header"],[1,"form-group"],["for","username"],["id","username","type","text","formControlName","username",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn-form","btn-initial",3,"disabled"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"invalid-feedback"],[1,"alert","alert-danger","mt-3"]],template:function(e,i){if(e&1&&(v(0,"div",0)(1,"form",1),B("ngSubmit",function(){return i.onSubmit()}),v(2,"div",2)(3,"h2"),S(4,"Iniciar Sesi\xF3n"),g()(),v(5,"div",3)(6,"label",4),S(7,"Nombre de usuario"),g(),V(8,"input",5),X(9,PC,2,0,"div",6),g(),v(10,"div",3)(11,"label",7),S(12,"Contrase\xF1a"),g(),V(13,"input",8),X(14,RC,2,0,"div",6),g(),v(15,"button",9),S(16,"Iniciar Sesi\xF3n"),g(),X(17,LC,2,1,"div",10),g()()),e&2){let o,r,s,a;E(),T("formGroup",i.loginForm),E(7),fe("is-invalid",((o=i.loginForm.get("username"))==null?null:o.invalid)&&((o=i.loginForm.get("username"))==null?null:o.touched)),E(),T("ngIf",((r=i.loginForm.get("username"))==null?null:r.invalid)&&((r=i.loginForm.get("username"))==null?null:r.touched)),E(4),fe("is-invalid",((s=i.loginForm.get("password"))==null?null:s.invalid)&&((s=i.loginForm.get("password"))==null?null:s.touched)),E(),T("ngIf",((a=i.loginForm.get("password"))==null?null:a.invalid)&&((a=i.loginForm.get("password"))==null?null:a.touched)),E(),T("disabled",i.loginForm.invalid),E(2),T("ngIf",i.errorMessage)}},dependencies:[at,xi,Nt,ei,yi,ui,hi],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden;background-image:url(/img/background_bolas_100.png);background-size:55%;background-position:center;background-repeat:no-repeat;transform:translateY(-50px);animation:_ngcontent-%COMP%_pulseBackground 5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulseBackground{0%{background-size:40%}50%{background-size:30%}to{background-size:60%}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:1;padding:2%;border-radius:2em;background-color:transparent}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--soft-gray-color);opacity:.7;border-radius:2em;z-index:-1}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:auto;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:35px}.form-control[_ngcontent-%COMP%]{width:95%;padding:10px}label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin-bottom:.5rem;font-weight:700;font-size:1rem;opacity:1}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:20px;font-size:1rem;width:100%;height:65px;box-sizing:border-box;margin-top:5px;transition:border-color .3s ease;opacity:1}input[_ngcontent-%COMP%]:first-of-type{font-weight:700}input[_ngcontent-%COMP%]:focus{border:5px solid gray;outline:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:14px}.alert[_ngcontent-%COMP%]{text-align:center}']})};var ki=(n,t)=>{let e=Qe(oi),i=Qe(Et),o=n.data?.expectedRole,r=e.getCurrentUserValue();return e.isLoggedIn()?!o||r&&r.role===o?!0:(i.navigate(["/access-denied"]),!1):(i.navigate(["/login"]),!1)};var ha=class{id;rol;registrationDate;constructor(t,e,i){this.id=t,this.rol=e,this.registrationDate=i}};var ma=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrl()}apiUrl;insertEmployee(t){return this.http.post(`${this.apiUrl}/workers/register`,t)}getRols(){return this.http.get(`${this.apiUrl}/getRols`)}getWorkersId(){return this.http.get(`${this.apiUrl}//workers/getIds`)}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function NC(n,t){n&1&&(v(0,"div")(1,"small",18),S(2,"El ID es obligatorio."),g()())}var pa=class n{constructor(t,e,i){this.fb=t;this.employeeService=e;this.router=i;this.dateNow=new Date().toISOString().split("T")[0],this.registerForm=this.fb.group({id:[null,St.required],rol:[null,St.required],registration_date:[this.dateNow,St.required]})}registerForm;roles=[];dateNow;ids=[];ngOnInit(){this.employeeService.getRols().subscribe(t=>{this.roles=t,this.roles.length>0&&this.registerForm.patchValue({rol:this.roles[0].value})},t=>{console.error("Error al obtener las opciones de tiempo:",t)}),this.employeeService.getWorkersId().subscribe(t=>{this.ids=t},t=>{console.error("Error al obtener las opciones de tiempo:",t)})}parseForm(t){return new ha(t.id,t.rol,new Date(t.registration_date))}onSubmit(){if(this.registerForm.valid){let t=this.parseForm(this.registerForm.value);this.employeeService.insertEmployee(t).subscribe(e=>{console.log("Employee registered successfully:",e),gt.fire({icon:"success",title:"Alta completada",text:"Trabajador dado de alta en WebEmotions.",confirmButtonText:"Aceptar"}),this.registerForm.reset()},e=>{console.error("Error registering employee:",e)})}else console.log("Formulario inv\xE1lido"),gt.fire({icon:"error",title:"Error",text:"Hubo un problema al dar de alta al usuario. Intenta nuevamente.",confirmButtonText:"Aceptar"}),this.registerForm.reset()}backToConfig(){this.router.navigate(["/config"])}static \u0275fac=function(e){return new(e||n)(x(wi),x(ma),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-register-form"]],decls:28,vars:8,consts:[[1,"container-general"],[1,"btn-secondary",3,"click"],[1,"container-form"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","col-sm-4"],[1,"form-group"],["for","id"],["id","id","bindLabel","label","bindValue","value","formControlName","id","placeholder","ID Trabajador...",3,"items","searchable"],[4,"ngIf"],[1,"col-2","col-sm-6"],["for","time"],["id","rol","bindLabel","label","bindValue","value","formControlName","rol","placeholder","Elija rol...",3,"items","searchable"],[1,"col-12","col-sm-6"],["for","registration_date"],["type","date","id","registration_date","formControlName","registration_date",3,"min"],[1,"form-actions"],["type","submit",1,"btn-form",3,"disabled"],[1,"error"]],template:function(e,i){if(e&1&&(v(0,"div",0)(1,"button",1),B("click",function(){return i.backToConfig()}),S(2,"Volver"),g(),v(3,"div",2)(4,"h2"),S(5,"Alta de Usuario"),g(),v(6,"form",3),B("ngSubmit",function(){return i.onSubmit()}),v(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),S(11,"ID"),g(),V(12,"ng-select",8),g(),X(13,NC,3,0,"div",9),g()(),v(14,"div",10)(15,"div",6)(16,"label",11),S(17,"Rol:"),g(),V(18,"ng-select",12),g()(),v(19,"div",4)(20,"div",13)(21,"div",6)(22,"label",14),S(23,"Fecha de Alta"),g(),V(24,"input",15),g()()(),v(25,"div",16)(26,"button",17),S(27,"Registrar"),g()()()()()),e&2){let o;E(6),T("formGroup",i.registerForm),E(6),T("items",i.ids)("searchable",!0),E(),T("ngIf",((o=i.registerForm.get("id"))==null?null:o.invalid)&&((o=i.registerForm.get("id"))==null?null:o.touched)),E(5),T("items",i.roles)("searchable",!1),E(6),T("min",i.dateNow),E(2),T("disabled",i.registerForm.invalid)}},dependencies:[at,xi,Nt,ei,yi,ui,hi,cn],styles:['@charset "UTF-8";.container-general[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:1rem;gap:1rem}.container-form[_ngcontent-%COMP%]{margin:30px auto 20px;padding:2rem;box-sizing:border-box;background-color:#fff;border-radius:20px;border:4px solid var(--primary-color);box-shadow:0 4px 8px #0000001a;width:60%}h2[_ngcontent-%COMP%]{color:var(--primary-color)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin-bottom:.5rem;font-weight:700;font-size:1rem;color:#333}input[_ngcontent-%COMP%], ng-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;transition:border-color .3s ease}.btn-form[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:focus, ng-select[_ngcontent-%COMP%]:focus{border-color:#f4c6c0;outline:none}fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;padding:1rem;border-radius:4px;display:block;background-color:#fafafa}fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-bottom:.5rem;font-size:1rem}fieldset[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;margin-top:.2rem}ng-select[_ngcontent-%COMP%]{display:block;padding:.75rem;border-radius:4px;border:1px solid #ccc}@media (max-width: 1024px){.container-form[_ngcontent-%COMP%]{margin:0 auto;padding:2rem;width:100%}form[_ngcontent-%COMP%]{gap:1rem}ng-select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:.75rem}}']})};var Ai=class{no_disorder;depression;anxiety;constructor(t=[],e=[],i=[]){this.no_disorder=t,this.depression=e,this.anxiety=i}};var To=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrl()}apiUrl;getClassification(){return this.http.get(`${this.apiUrl}/classify`)}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var BC=["chartCanvas"];function jC(n,t){if(n&1){let e=ye();v(0,"li",12),B("click",function(){let o=ie(e).$implicit,r=U();return ne(r.routeToRepresentation(o))}),S(1),g()}if(n&2){let e=t.$implicit;E(),st(" ID: ",e," ")}}function zC(n,t){if(n&1){let e=ye();v(0,"button",13),B("click",function(){ie(e);let o=U();return ne(o.toggleShow("depression"))}),S(1),g()}if(n&2){let e=U();E(),st(" ",e.showLessDepression?"Leer m\xE1s":"Leer menos"," ")}}function HC(n,t){if(n&1){let e=ye();v(0,"li",12),B("click",function(){let o=ie(e).$implicit,r=U();return ne(r.routeToRepresentation(o))}),S(1),g()}if(n&2){let e=t.$implicit;E(),st(" ID: ",e," ")}}function WC(n,t){if(n&1){let e=ye();v(0,"button",13),B("click",function(){ie(e);let o=U();return ne(o.toggleShow("anxiety"))}),S(1),g()}if(n&2){let e=U();E(),st(" ",e.showLessAnxiety?"Leer m\xE1s":"Leer menos"," ")}}function UC(n,t){if(n&1){let e=ye();v(0,"li",12),B("click",function(){let o=ie(e).$implicit,r=U();return ne(r.routeToRepresentation(o))}),S(1),g()}if(n&2){let e=t.$implicit;E(),st(" ID: ",e," ")}}function $C(n,t){if(n&1){let e=ye();v(0,"button",13),B("click",function(){ie(e);let o=U();return ne(o.toggleShow("noDisorder"))}),S(1),g()}if(n&2){let e=U();E(),st(" ",e.showLessNoDisorder?"Leer m\xE1s":"Leer menos"," ")}}var Oo=class n{constructor(t,e){this.analysisService=t;this.router=e}classificationData=new Ai;searchTerm="";showMoreDepression=!1;showMoreAnxiety=!1;showMoreNoDisorder=!1;showLessDepression=!0;showLessAnxiety=!0;showLessNoDisorder=!0;chartCanvas;chart;ngOnInit(){this.classificationData.depression.length===0&&this.classificationData.anxiety.length===0&&this.classificationData.no_disorder.length===0?this.analysisService.getClassification().subscribe({next:t=>{this.classificationData=new Ai(t.no_disorder,t.depression,t.anxiety),setTimeout(()=>{this.createChart()},0)},error:t=>{console.error("Error al obtener la clasificaci\xF3n:",t)}}):setTimeout(()=>{this.createChart()},0)}routeToRepresentation(t){this.router.navigate(["/representation",t])}get filteredDepression(){return this.classificationData.depression.filter(t=>t.toString().includes(this.searchTerm))}get filteredAnxiety(){return this.classificationData.anxiety.filter(t=>t.toString().includes(this.searchTerm))}get filteredNoDisorder(){return this.classificationData.no_disorder.filter(t=>t.toString().includes(this.searchTerm))}showMore(t){t==="depression"?this.showMoreDepression=!0:t==="anxiety"?this.showMoreAnxiety=!0:t==="noDisorder"&&(this.showMoreNoDisorder=!0)}toggleShow(t){t==="depression"?this.showLessDepression=!this.showLessDepression:t==="anxiety"?this.showLessAnxiety=!this.showLessAnxiety:t==="noDisorder"&&(this.showLessNoDisorder=!this.showLessNoDisorder)}createChart(){if(!this.chartCanvas)return;let t=this.chartCanvas.nativeElement.getContext("2d");t&&(this.chart&&this.chart.destroy(),this.chart=new ni(t,{type:"doughnut",data:{labels:["Depresi\xF3n","Ansiedad","Sin Trastorno"],datasets:[{label:"Distribuci\xF3n de trabajadores",data:[this.classificationData.depression.length,this.classificationData.anxiety.length,this.classificationData.no_disorder.length],backgroundColor:["#e74c3c","#3498db","#2ecc71"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Distribuci\xF3n de trabajadores por tendencia psicol\xF3gica"}}}}))}static \u0275fac=function(e){return new(e||n)(x(To),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-analysis"]],viewQuery:function(e,i){if(e&1&&Se(BC,5),e&2){let o;le(o=ce())&&(i.chartCanvas=o.first)}},inputs:{classificationData:"classificationData"},decls:35,vars:10,consts:[["chartCanvas",""],[1,"search-container"],["type","text","placeholder","Buscar por ID...",1,"search-input",3,"ngModelChange","ngModel"],[1,"groups-container"],[1,"group-depression"],[1,"users_info"],[3,"click",4,"ngFor","ngForOf"],["class","btn-secondary",3,"click",4,"ngIf"],[1,"group-anxiety"],[1,"group-no-disorder"],[1,"chart-container"],["width","400","height","400"],[3,"click"],[1,"btn-secondary",3,"click"]],template:function(e,i){if(e&1){let o=ye();v(0,"div",1)(1,"h1"),S(2,"Agrupaci\xF3n de los trabajadores por tendencia psicol\xF3gica "),g(),v(3,"input",2),Ka("ngModelChange",function(s){return ie(o),Qa(i.searchTerm,s)||(i.searchTerm=s),ne(s)}),g()(),v(4,"div",3)(5,"div",4)(6,"h2"),S(7,"Tendencia depresiva"),g(),v(8,"div",5)(9,"p"),S(10),g(),v(11,"ul"),X(12,jC,2,1,"li",6),g(),X(13,zC,2,1,"button",7),g()(),v(14,"div",8)(15,"h2"),S(16,"Tendencia ansiosa"),g(),v(17,"div",5)(18,"p"),S(19),g(),v(20,"ul"),X(21,HC,2,1,"li",6),g(),X(22,WC,2,1,"button",7),g()(),v(23,"div",9)(24,"h2"),S(25,"Sin tendencia detectada"),g(),v(26,"div",5)(27,"p"),S(28),g(),v(29,"ul"),X(30,UC,2,1,"li",6),g(),X(31,$C,2,1,"button",7),g()(),v(32,"div",10),V(33,"canvas",11,0),g()()}e&2&&(E(3),Xa("ngModel",i.searchTerm),E(7),st("Total: ",i.classificationData.depression.length,""),E(2),T("ngForOf",i.filteredDepression.slice(0,i.showLessDepression?10:i.filteredDepression.length)),E(),T("ngIf",i.filteredDepression.length>10),E(6),st("Total: ",i.classificationData.anxiety.length,""),E(2),T("ngForOf",i.filteredAnxiety.slice(0,i.showLessAnxiety?10:i.filteredAnxiety.length)),E(),T("ngIf",i.filteredAnxiety.length>10),E(6),st("Total: ",i.classificationData.no_disorder.length,""),E(2),T("ngForOf",i.filteredNoDisorder.slice(0,i.showLessNoDisorder?10:i.filteredNoDisorder.length)),E(),T("ngIf",i.filteredNoDisorder.length>10))},dependencies:[Zr,at,Nt,ei,Vl],styles:['@charset "UTF-8";.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:80px;margin-bottom:50px}.search-input[_ngcontent-%COMP%]{width:80%;max-width:400px;padding:.75rem;border:1px solid #ccc;border-radius:10px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;transition:border-color .3s ease}.search-input[_ngcontent-%COMP%]:focus{border:5px solid;border-color:gray;outline:none}.groups-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:auto;gap:20px;max-width:1200px;margin:0 auto;padding:10px}.group-depression[_ngcontent-%COMP%], .group-anxiety[_ngcontent-%COMP%], .group-no-disorder[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px;border:5px solid var(--primary-color);border-radius:40px;background-color:#d2c8fa;text-align:center}.group-no-disorder[_ngcontent-%COMP%]{grid-column:1/span 2}ul[_ngcontent-%COMP%]{padding:0;margin:10px 0 0;list-style:none}li[_ngcontent-%COMP%]{background:#e3e3e3;margin:8px 0;padding:5px;border-radius:8px;border:3px solid var(--primary-color);background-color:var(--third-color);transition:transform .3s ease-in-out}li[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translateY(-6px)}.group-no-disorder[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px}button[_ngcontent-%COMP%]{margin-top:20px}h1[_ngcontent-%COMP%]{color:var(--primary-color)}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%;max-width:600px;margin:0 auto}']})};function qC(n,t){if(n&1){let e=ye();v(0,"div",21)(1,"div",22)(2,"button",23),B("click",function(){ie(e);let o=U();return ne(o.changePopUpState())}),S(3,"\u2716"),g(),V(4,"app-analysis",24),g()()}if(n&2){let e=U();E(4),T("classificationData",e.filteredClassification)}}var Fo=class n{constructor(t,e,i,o,r,s){this.formBuilder=t;this.service=e;this.analysisService=i;this.cdr=o;this.chartDataService=r;this.router=s;this.form=this.formBuilder.group({shift:["ma\xF1ana",St.required],time:[null,St.required],charType:["1",[St.required]],startDate:[""],endDate:[""]})}form;isDatesDisabled=!1;selectedOption=null;shifts=[];options=[];showPopup=!1;charTypeChange=new ue;classificationData=new Ai;filteredClassification=new Ai;ngOnInit(){this.service.getTimePeriods().subscribe(t=>{this.options=t},t=>{console.error("Error al obtener las opciones de tiempo:",t)}),this.service.getShifts().subscribe(t=>{this.shifts=t},t=>{console.error("Error al obtener los turnos:",t)}),this.analysisService.getClassification().subscribe({next:t=>{this.classificationData=new Ai(t.no_disorder,t.depression,t.anxiety)},error:t=>{console.error("Error al obtener la clasificaci\xF3n:",t)}})}onTimeChange(t){console.log("change");let e=this.form.get("startDate"),i=this.form.get("endDate"),o=this.form.get("datePick");t?(e?.disable(),i?.disable(),this.isDatesDisabled=!0):(e?.enable(),i?.enable(),this.isDatesDisabled=!1),this.cdr.detectChanges()}onManualDate(){let t=this.form.get("startDate"),e=this.form.get("endDate"),i=this.form.get("time");t?.value||e?.value?i?.disable():i?.enable()}onSubmit(){if(this.form.valid){let t=this.form.value.shift,e=this.form.value.time,i=this.form.value.charType,o=this.form.value.startDate,r=this.form.value.endDate;this.charTypeChange.emit(i);let s={shift:t,char_type:i};e?s.time_option=e:(s.start_date=new Date(o).toISOString().split("T")[0],s.end_date=new Date(r).toISOString().split("T")[0]),console.log(s),this.service.filterByShifts(s).subscribe(a=>{let l=a.user_ids;this.filteredClassification=new Ai(this.classificationData.no_disorder.filter(u=>l.includes(u)),this.classificationData.depression.filter(u=>l.includes(u)),this.classificationData.anxiety.filter(u=>l.includes(u))),console.log("User IDs:",this.filteredClassification),this.cdr.detectChanges();let d=a.data.flat().map(u=>new mo(u));console.log("Datos RECORDS:",d),this.chartDataService.updateChartData(d,e,t)},a=>{console.error("Error al hacer la solicitud:",a)})}else console.log("Formulario inv\xE1lido")}onCharTypeChange(t){this.charTypeChange.emit(t)}changePopUpState(t){this.chartDataService.chartData$&&(t&&t.preventDefault(),this.chartDataService.chartData$.pipe(jd()).subscribe(e=>{e&&e.data.length>0?(this.showPopup=!this.showPopup,this.cdr.detectChanges()):console.warn("No hay datos disponibles para mostrar en el popup")}))}routeToRepresentation(t){this.router.navigate(["/representation",t])}static \u0275fac=function(e){return new(e||n)(x(wi),x(ln),x(To),x(Ie),x(ii),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-shift-form"]],outputs:{charTypeChange:"charTypeChange"},decls:45,vars:7,consts:[[1,"container-form"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"form-group"],["for","shift"],["id","shift","bindLabel","label","bindValue","value","formControlName","shift","placeholder","Elija un turno",3,"items","searchable"],["for","time"],["id","time","bindLabel","label","bindValue","value","formControlName","time","placeholder","Elija una opci\xF3n",3,"change","items","searchable"],[1,"col-2","col-sm-6"],["type","button",1,"btn-initial",3,"disabled"],[1,"bi","bi-calendar"],["for","startDate"],["type","date","id","startDate","formControlName","startDate",3,"change"],["for","endDate"],["type","date","id","endDate","formControlName","endDate",3,"change"],["type","radio","formControlName","charType","value","0",3,"change"],["type","radio","formControlName","charType","value","1",3,"change"],[1,"buttons"],["type","submit",1,"btn-initial"],["href","#",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],[1,"popup-content"],[1,"close-button",3,"click"],[3,"classificationData"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"form",1),B("ngSubmit",function(){return i.onSubmit()}),v(2,"div",2)(3,"div",3)(4,"label",4),S(5,"Turno:"),g(),V(6,"ng-select",5),g()(),v(7,"div",2)(8,"div",3)(9,"label",6),S(10,"Ventana temporal:"),g(),v(11,"ng-select",7),B("change",function(r){return i.onTimeChange(r)}),g()(),v(12,"div",8)(13,"div",3)(14,"button",9),V(15,"i",10),S(16," Elegir fecha "),g()()()(),v(17,"div",2)(18,"div",8)(19,"div",3)(20,"label",11),S(21,"Inicio:"),g(),v(22,"input",12),B("change",function(){return i.onManualDate()}),g()()(),v(23,"div",8)(24,"div",3)(25,"label",13),S(26,"Fin:"),g(),v(27,"input",14),B("change",function(){return i.onManualDate()}),g()()()(),v(28,"div",2)(29,"div",3)(30,"fieldset")(31,"legend"),S(32,"Tipo de gr\xE1fico:"),g(),v(33,"label")(34,"input",15),B("change",function(){return i.onCharTypeChange("0")}),g(),S(35," Categ\xF3rico "),g(),v(36,"label")(37,"input",16),B("change",function(){return i.onCharTypeChange("1")}),g(),S(38," Dimensional "),g()()()(),v(39,"div",17)(40,"button",18),S(41,"Mostrar"),g(),v(42,"a",19),B("click",function(r){return i.changePopUpState(r)}),S(43,"Mostrar Participantes"),g()()()(),X(44,qC,5,1,"div",20)),e&2&&(E(),T("formGroup",i.form),E(5),T("items",i.shifts)("searchable",!1),E(5),T("items",i.options)("searchable",!1),E(3),T("disabled",i.isDatesDisabled),E(30),T("ngIf",i.showPopup))},dependencies:[at,xi,Nt,dr,ei,yi,ui,hi,cn,Oo],styles:['@charset "UTF-8";.container-form[_ngcontent-%COMP%]{margin:30px auto 0;padding:2rem;box-sizing:border-box;background-color:var(--soft-gray-color);border-radius:50px;border:1px solid #ddd;box-shadow:0 4px 8px #0000001a}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin-bottom:.5rem;font-weight:700;font-size:1rem;color:var(--primary-color)}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:20px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;transition:border-color .3s ease}ng-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:20px;font-size:1rem;width:100%;box-sizing:border-box;margin-top:5px;background-color:#fff;transition:border-color .3s ease}.row[_ngcontent-%COMP%]:nth-child(2){display:grid;grid-template-columns:2fr 1fr;gap:.5rem;align-items:center}.btn-initial[_ngcontent-%COMP%]:first-of-type{padding:20px 25px;margin-top:2em}.row[_ngcontent-%COMP%]:nth-child(3){display:grid;grid-template-columns:1fr 1fr;gap:.5rem;align-items:center}input[_ngcontent-%COMP%]:focus, ng-select[_ngcontent-%COMP%]:focus{border-color:#f4c6c0;outline:none}fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;padding:1rem;border-radius:20px;display:block;background-color:#fafafa;gap:30px}fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:30px;margin-bottom:.5rem;font-size:1rem}fieldset[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;margin-top:.2rem}.popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;border-radius:20px}.popup-content[_ngcontent-%COMP%]{background:#fff;width:50%;max-height:80vh;overflow-y:auto;padding:80px;border-radius:20px;border:2px solid var(--soft-gray-color);position:relative;box-shadow:0 4px 10px #0003}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:20px;cursor:pointer}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}a[_ngcontent-%COMP%]{color:#000;padding:10px 20px}']})};function GC(n,t){n&1&&V(0,"app-dimensional")}function XC(n,t){n&1&&V(0,"app-categoric")}var fa=class n{charType="1";onCharTypeChange(t){this.charType=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-shift-representation"]],decls:6,vars:2,consts:[[1,"individual-container"],[1,"form"],[3,"charTypeChange"],[1,"charts_shift"],[4,"ngIf"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"div",1)(2,"app-shift-form",2),B("charTypeChange",function(r){return i.onCharTypeChange(r)}),g()(),v(3,"div",3),X(4,GC,1,0,"app-dimensional",4)(5,XC,1,0,"app-categoric",4),g()()),e&2&&(E(4),T("ngIf",i.charType==="1"),E(),T("ngIf",i.charType==="0"))},dependencies:[at,mn,pn,Fo],styles:['@charset "UTF-8";.individual-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem}.form[_ngcontent-%COMP%]{flex:1;max-width:30%;background-color:#f9f9f9;padding:1rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a}.charts_shift[_ngcontent-%COMP%]{flex:2;max-width:70%;background-color:#fff;padding:1rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a}']})};function QC(n,t){if(n&1){let e=ye();v(0,"div")(1,"app-individual-form",9),B("charTypeChange",function(o){ie(e);let r=U();return ne(r.onCharTypeChange(o))}),g()()}if(n&2){let e=U();E(),T("id",e.id)}}function KC(n,t){if(n&1){let e=ye();v(0,"div")(1,"app-shift-form",10),B("charTypeChange",function(o){ie(e);let r=U();return ne(r.onCharTypeChange(o))}),g()()}}function ZC(n,t){n&1&&V(0,"app-dimensional")}function JC(n,t){n&1&&V(0,"app-categoric")}var Lr=class n{constructor(t,e,i){this.chartDataService=t;this.cdr=e;this.router=i}charType="1";selectedTab="individual";graphData=[];id=null;resizeSubscription;ngOnInit(){this.chartDataService.chartData$.subscribe(t=>{console.log(this.graphData),this.graphData=t.data||[],this.cdr.detectChanges()}),this.id=this.router.snapshot.paramMap.get("id"),console.log(this.id)}onCharTypeChange(t){this.charType=t}selectTab(t){this.selectedTab=t,this.resetCharType(),this.chartDataService.deleteChartData(),this.cdr.detectChanges()}resetCharType(){this.charType="1"}downloadData(){if(this.isDisabled()){console.warn("No hay datos disponibles para descargar.");return}Ao.downloadCsv(this.graphData,"data_emotions")}isDisabled(){return!this.graphData||this.graphData.length===0}scrollToGraphic(){let t=document.getElementById("graphic-representation");t&&t.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(e){return new(e||n)(x(ii),x(Ie),x(su))};static \u0275cmp=G({type:n,selectors:[["app-graphic-representation"]],decls:18,vars:9,consts:[[1,"representation-container"],[1,"tabs-container"],[1,"tabs"],[1,"tab",3,"click"],["id","graphic-representation",1,"graphic-representation"],[4,"ngIf"],[1,"charts"],[1,"inferior-container"],[1,"btn-secondary",3,"click","disabled"],[3,"charTypeChange","id"],[3,"charTypeChange"]],template:function(e,i){e&1&&(v(0,"h1"),S(1,"Representaci\xF3n gr\xE1fica de las emociones de un trabajador"),g(),v(2,"div",0)(3,"div",1)(4,"div",2)(5,"button",3),B("click",function(){return i.selectTab("individual")}),S(6,"Individual"),g(),v(7,"button",3),B("click",function(){return i.selectTab("turnos")}),S(8,"Turnos"),g()()(),v(9,"div",4),X(10,QC,2,1,"div",5)(11,KC,2,0,"div",5),v(12,"div",6),X(13,ZC,1,0,"app-dimensional",5)(14,JC,1,0,"app-categoric",5),g()(),v(15,"div",7)(16,"button",8),B("click",function(){return i.downloadData()}),S(17,"Download Data"),g()()()),e&2&&(E(5),fe("active",i.selectedTab==="individual"),E(2),fe("active",i.selectedTab==="turnos"),E(3),T("ngIf",i.selectedTab==="individual"),E(),T("ngIf",i.selectedTab==="turnos"),E(2),T("ngIf",i.charType==="1"),E(),T("ngIf",i.charType==="0"),E(2),T("disabled",i.isDisabled()))},dependencies:[at,Co,mn,pn,Fo],styles:[".individual-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:1rem;padding:1rem}.charts[_ngcontent-%COMP%]{flex:2;height:fit-content;max-width:70%;background-color:var(--background-color);padding:1rem;border:3px solid var(--soft-gray-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}.canvas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container-categoric[_ngcontent-%COMP%]{flex:1}.container-accumulated[_ngcontent-%COMP%]{flex:0 0 50%;max-height:300px}canvas[_ngcontent-%COMP%]{width:100%;height:auto}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:60px;margin:100px 200px;padding:50px;border:5px solid var(--primary-color);background-color:var(--card-bg-color);border-radius:50px}.custom-card[_ngcontent-%COMP%]{width:40%;height:60vh;display:flex;flex-direction:column;justify-content:space-between;align-items:center;border:3px solid var(--primary-color);border-radius:40px;box-shadow:0 4px 8px #0000001a;background-color:var(--background-color);overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;padding:1%}h2[_ngcontent-%COMP%]{color:var(--primary-color)}.custom-card[_ngcontent-%COMP%]:nth-child(1){align-self:flex-start}.custom-card[_ngcontent-%COMP%]:nth-child(2){align-self:flex-end;margin-top:30vh}.custom-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.card-header[_ngcontent-%COMP%]{width:100%;padding:10px 15px;display:flex;align-items:center;text-align:left;font-family:FraktionMono,monospace;text-transform:uppercase;font-size:18px;border-bottom:1px solid #ddd;margin-left:25px}.card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:15px;text-align:center;font-size:14px}.card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:auto;margin-bottom:20px}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.card-bottom[_ngcontent-%COMP%]{align-self:flex-end}.tabs-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:30%}.tab[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;cursor:pointer;background-color:#f0f0f0;border:2px solid var(--dark-gray-color);border-radius:4px;transition:background-color .3s;flex:1;margin:20px 0}.tab[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab.active[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.graphic-representation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;padding:20px;background-color:var(--dark-gray-color);height:100%}.graphic-representation[_ngcontent-%COMP%]   .charts[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column;gap:20px;border-radius:50px;height:100%}.app-individual-form[_ngcontent-%COMP%], .app-shift-form[_ngcontent-%COMP%]{margin-bottom:20px}.charts[_ngcontent-%COMP%]   app-dimensional[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]   app-categoric[_ngcontent-%COMP%]{width:100%}.btn-secondary[_ngcontent-%COMP%]:disabled{pointer-events:none;opacity:.5}.btn-secondary[_ngcontent-%COMP%]:disabled:hover{background-color:inherit;cursor:not-allowed}.inferior-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;margin:3rem}@media (max-width: 1024px){form[_ngcontent-%COMP%]{width:60%}.graphic-representation[_ngcontent-%COMP%]{flex-direction:column;width:100%}.graphic-representation[_ngcontent-%COMP%]   .charts[_ngcontent-%COMP%]{width:100%}.charts[_ngcontent-%COMP%]{max-width:90%}}"]})};var ga=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-access-denied"]],decls:2,vars:0,template:function(e,i){e&1&&(v(0,"h2"),S(1,"Acceso restringido a otros perfiles de la aplicaci\xF3n."),g())}})};var Po=class{nWorkers;nSamples;inferenceModel;silenceInterval;shifts;constructor(t){Object.assign(this,t)}};var _a=class n{constructor(t,e){this.http=t;this.apiConfig=e;this.apiUrl=this.apiConfig.getApiUrl()}apiUrl;getConfig(){return this.http.get(this.apiUrl).pipe(Pt(t=>new Po({nWorkers:t.GENERATION.n_trabajadores,nSamples:t.GENERATION.n_samples,inferenceModel:t.INFERENCE.inference_model,silenceInterval:1e3})))}getFullConfig(){return this.http.get(`${this.apiUrl}/getConfig`).pipe(Pt(t=>({debug:t.DEBUG,jwtSecretKey:t.JWT_SECRET_KEY,secretKey:t.SECRET_KEY,corsOrigins:t.CORS_ORIGINS,uploadFolder:t.UPLOAD_FOLDER,maxContentLength:t.MAX_CONTENT_LENGTH,port:t.PORT,alignmentPort:t.PORT_FORCE_ALIGNMENT,shifts:t.SHIFTS,generation:{nWorkers:t.GENERATION?.n_trabajadores,nSamples:t.GENERATION?.n_samples},inference:{silenceInterval:t.INFERENCE?.silence_interval,inferenceModel:t.INFERENCE?.inference_model}})))}changeConfig(t){return this.http.post(`${this.apiUrl}/changeConfig`,t)}resetConfig(){return this.http.get(`${this.apiUrl}/resetConfig`)}changeFileWithData(t){return this.http.post(`${this.apiUrl}/setCsv`,{file:t})}static \u0275fac=function(e){return new(e||n)(R(Lt),R(At))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var ba=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let o of this._listeners)o(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var t1=0,td=new be("CdkAccordion"),hf=(()=>{class n{constructor(){this._stateChanges=new _e,this._openCloseAllActions=new _e,this.id=`cdk-accordion-${t1++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=te({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Ee]},exportAs:["cdkAccordion"],features:[ze([{provide:td,useExisting:n}]),bt,Ue]})}}return n})(),i1=0,mf=(()=>{class n{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,i,o){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=o,this._openCloseAllSubscription=ri.EMPTY,this.closed=new ue,this.opened=new ue,this.destroyed=new ue,this.expandedChange=new ue,this.id=`cdk-accordion-child-${i1++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((r,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(x(td,12),x(Ie),x(ba))}}static{this.\u0275dir=te({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Ee],disabled:[2,"disabled","disabled",Ee]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ze([{provide:td,useValue:void 0}]),bt]})}}return n})(),pf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})();var Vr=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},va=class extends Vr{constructor(t,e,i,o,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o,this.projectableNodes=r}},jn=class extends Vr{constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},id=class extends Vr{constructor(t){super(),this.element=t instanceof pe?t.nativeElement:t}},ya=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof va)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof jn)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof id)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var xa=class extends ya{constructor(t,e,i,o,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||Yi.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);o!==-1&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ff=(()=>{class n extends ya{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ue,this.attachDomPortal=r=>{this._document;let s=r.element;s.parentNode;let a=this._document.createComment("dom-portal");r.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(r,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(x(Fi),x(Kt),x(Me))}}static{this.\u0275dir=te({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Le]})}}return n})();var Ro=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})();var od;try{od=typeof Intl<"u"&&Intl.v8BreakIterator}catch{od=!1}var tt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Jd(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||od)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(R(zd))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Nr;function o1(){if(Nr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nr=!0}))}finally{Nr=Nr||!1}return Nr}function Lo(n){return o1()?n:!!n.capture}var zn;function gf(){if(zn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return zn=!1,zn;if("scrollBehavior"in document.documentElement.style)zn=!0;else{let n=Element.prototype.scrollTo;n?zn=!/\{\s*\[native code\]\s*\}/.test(n.toString()):zn=!1}}return zn}var nd;function r1(){if(nd==null){let n=typeof document<"u"?document.head:null;nd=!!(n&&(n.createShadowRoot||n.attachShadow))}return nd}function _f(n){if(r1()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fi(n){return n.composedPath?n.composedPath()[0]:n.target}function Br(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function wa(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Ca(n){return n!=null&&`${n}`!="false"}function rd(n,t=0){return s1(n)?Number(n):t}function s1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Vo(n){return Array.isArray(n)?n:[n]}function it(n){return n==null?"":typeof n=="string"?n:`${n}px`}function zi(n){return n instanceof pe?n.nativeElement:n}var a1=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ea=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[a1]})}}return n})();var bf=new Set,Wn,l1=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d1}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&c1(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(R(tt),R(Hd,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function c1(n,t){if(!bf.has(n))try{Wn||(Wn=document.createElement("style"),t&&(Wn.nonce=t),Wn.setAttribute("type","text/css"),document.head.appendChild(Wn)),Wn.sheet&&(Wn.sheet.insertRule(`@media ${n} {body{ }}`,0),bf.add(n))}catch(e){console.error(e)}}function d1(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var yf=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new _e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vf(Vo(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=vf(Vo(e)).map(s=>this._registerQuery(s).observable),r=Vd(o);return r=Nd(r.pipe(xn(1)),r.pipe(Wr(1),Kn(0))),r.pipe(Pt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),r={observable:new Wo(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Wi(i),Pt(({matches:s})=>({query:e,matches:s})),Rt(this._destroySubject)),mql:i};return this._queries.set(e,r),r}static{this.\u0275fac=function(i){return new(i||n)(R(l1),R(Fe))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vf(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var ad=class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _e,this._typeaheadSubscription=ri.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new _e,this.change=new _e,t instanceof Zn&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){let o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ur(e=>this._pressedLetters.push(e)),Kn(t),Yt(()=>this._pressedLetters.length>0),Pt(()=>this._pressedLetters.join(""))).subscribe(e=>{let i=this._getItemsArray();for(let o=1;o<i.length+1;o++){let r=(this._activeItemIndex+o)%i.length,s=i[r];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(e)===0){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(o||wa(t,"shiftKey"))&&(t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e)));return}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),o=e[i];this._activeItem=o??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let o=(this._activeItemIndex+t*i+e.length)%e.length,r=e[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Zn?this._items.toArray():this._items}};var Ma=class extends ad{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};function ld(n){return n.buttons===0||n.detail===0}function cd(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var A1=new be("cdk-input-modality-detector-options"),I1={ignoreKeys:[18,17,224,91,16]},Cf=650,No=Lo({passive:!0,capture:!0}),T1=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,o,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Qn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fi(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<Cf||(this._modality.next(ld(s)?"keyboard":"mouse"),this._mostRecentTarget=fi(s))},this._onTouchstart=s=>{if(cd(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fi(s)},this._options=he(he({},I1),r),this.modalityDetected=this._modality.pipe(Wr(1)),this.modalityChanged=this.modalityDetected.pipe(Yo()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,No),o.addEventListener("mousedown",this._onMousedown,No),o.addEventListener("touchstart",this._onTouchstart,No)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,No),document.removeEventListener("mousedown",this._onMousedown,No),document.removeEventListener("touchstart",this._onTouchstart,No))}static{this.\u0275fac=function(i){return new(i||n)(R(tt),R(Fe),R(Me),R(A1,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var O1=new be("cdk-focus-monitor-default-options"),Da=Lo({passive:!0,capture:!0}),Sa=(()=>{class n{constructor(e,i,o,r,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _e,this._rootNodeFocusAndBlurListener=a=>{let l=fi(a);for(let c=l;c;c=c.parentElement)a.type==="focus"?this._onFocus(a,c):this._onBlur(a,c)},this._document=r,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){let o=zi(e);if(!this._platform.isBrowser||o.nodeType!==1)return Uo();let r=_f(o)||this._getDocument(),s=this._elementInfo.get(o);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new _e,rootNode:r};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=zi(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){let r=zi(e),s=this._getDocument().activeElement;r===s?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===1||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===0){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Cf:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,i){let o=this._elementInfo.get(i),r=fi(e);!o||!o.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),o)}_onBlur(e,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Da),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Da)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Rt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Da),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Da),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&i.push([r,o])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let r=e.labels;if(r){for(let s=0;s<r.length;s++)if(r[s].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(R(Fe),R(tt),R(T1),R(Me,8),R(O1,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xf="cdk-high-contrast-black-on-white",wf="cdk-high-contrast-white-on-black",sd="cdk-high-contrast-active",dd=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Qe(yf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(sd,xf,wf),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===1?e.add(sd,xf):i===2&&e.add(sd,wf)}}static{this.\u0275fac=function(i){return new(i||n)(R(tt),R(Me))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ef=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(R(dd))}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Ea]})}}return n})();var F1=new be("cdk-dir-doc",{providedIn:"root",factory:P1});function P1(){return Qe(Me)}var R1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function L1(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?R1.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Mf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ue,e){let i=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=L1(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(R(F1,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var bn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})();function N1(){return!0}var B1=new be("mat-sanity-checks",{providedIn:"root",factory:N1}),Re=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Br()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||n)(R(dd),R(B1,8),R(Me))}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[bn,bn]})}}return n})();function Aa(n,t){return class extends n{get color(){return this._color}set color(e){let i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Lf(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e!=null?rd(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}var Sf=new be("MAT_DATE_LOCALE",{providedIn:"root",factory:j1});function j1(){return Qe(Qd)}var jr=class{constructor(){this._localeChanges=new _e,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),o=this.isValid(e);return i&&o?!this.compareDate(t,e):i==o}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}},Vf=new be("mat-date-formats"),z1=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ud(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var H1=(()=>{class n extends jr{constructor(e){super(),this.useUtcForDisplay=!1,this._matDateLocale=Qe(Sf,{optional:!0}),e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return ud(12,o=>this._format(i,new Date(2017,o,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ud(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return ud(7,o=>this._format(i,new Date(2017,0,o+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,o){let r=this._createDateWithOverflow(e,i,o);return r.getMonth()!=i,r}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,rt(he({},i),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+i)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(z1.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,o){let r=new Date;return r.setFullYear(e,i,o),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let o=new Date;return o.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),o.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(o)}static{this.\u0275fac=function(i){return new(i||n)(R(Sf,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),W1={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},U1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[{provide:jr,useClass:H1}]})}}return n})(),Nf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[{provide:Vf,useValue:W1}],imports:[U1]})}}return n})();var pd=class{constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},kf=Lo({passive:!0,capture:!0}),fd=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=fi(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(r=>r.handleEvent(t))})}}addHandler(t,e,i,o){let r=this._events.get(e);if(r){let s=r.get(i);s?s.add(o):r.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,kf)})}removeHandler(t,e,i){let o=this._events.get(t);if(!o)return;let r=o.get(e);r&&(r.delete(i),r.size===0&&o.delete(e),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,kf)))}},Af={enterDuration:225,exitDuration:150},$1=800,If=Lo({passive:!0,capture:!0}),Tf=["mousedown","touchstart"],Of=["mouseup","mouseleave","touchend","touchcancel"],gd=class n{static{this._eventManager=new fd}constructor(t,e,i,o){this._target=t,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=zi(i))}fadeInRipple(t,e,i={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=he(he({},Af),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);let s=i.radius||Y1(t,e,o),a=t-o.left,l=e-o.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,p=h==="none"||m==="0s"||m==="0s, 0s"||o.width===0&&o.height===0,f=new pd(this,d,i,p);d.style.transform="scale3d(1, 1, 1)",f.state=0,i.persistent||(this._mostRecentTransientRipple=f);let b=null;return!p&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>this._finishRippleTransition(f),w=()=>this._destroyRipple(f);d.addEventListener("transitionend",C),d.addEventListener("transitioncancel",w),b={onTransitionEnd:C,onTransitionCancel:w}}),this._activeRipples.set(f,b),(p||!c)&&this._finishRippleTransition(f),f}fadeOutRipple(t){if(t.state===2||t.state===3)return;let e=t.element,i=he(he({},Af),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=zi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Tf.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Of.forEach(e=>{this._triggerElement.addEventListener(e,this,If)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===0?this._startFadeOutTransition(t):t.state===2&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){let e=ld(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$1;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!cd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===1||t.config.terminateOnPointerUp&&t.state===0;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Tf.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&Of.forEach(e=>t.removeEventListener(e,this,If)))}};function Y1(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}var Bf=new be("mat-ripple-global-options"),q1=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,o,r,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gd(this,i,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:he(he(he({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,he(he({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,he(he({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||n)(x(pe),x(Fe),x(tt),x(Bf,8),x(ai,8))}}static{this.\u0275dir=te({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){i&2&&fe("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),Ia=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,Re]})}}return n})();var Ff={capture:!0},Pf=["focus","click","mouseenter","touchstart"],hd="mat-ripple-loader-uninitialized",md="mat-ripple-loader-class-name",Rf="mat-ripple-loader-centered",ka="mat-ripple-loader-disabled",jf=(()=>{class n{constructor(){this._document=Qe(Me,{optional:!0}),this._animationMode=Qe(ai,{optional:!0}),this._globalRippleOptions=Qe(Bf,{optional:!0}),this._platform=Qe(tt),this._ngZone=Qe(Fe),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;let o=e.target.closest(`[${hd}]`);o&&this.createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let e of Pf)this._document?.addEventListener(e,this._onInteraction,Ff)})}ngOnDestroy(){for(let e of Pf)this._document?.removeEventListener(e,this._onInteraction,Ff)}configureRipple(e,i){e.setAttribute(hd,""),(i.className||!e.hasAttribute(md))&&e.setAttribute(md,i.className||""),i.centered&&e.setAttribute(Rf,""),i.disabled&&e.setAttribute(ka,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){let o=e.matRipple;if(o){o.disabled=i;return}i?e.setAttribute(ka,""):e.removeAttribute(ka)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(md)),e.append(i);let o=new q1(new pe(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(Rf),o.disabled=e.hasAttribute(ka),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(hd),e.matRipple=i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q1=["body"],K1=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Z1=["mat-expansion-panel-header","*","mat-action-row"];function J1(n,t){}var eE=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],tE=["mat-panel-title","mat-panel-description","*"];function iE(n,t){if(n&1&&V(0,"span",1),n&2){let e=U();T("@indicatorRotate",e._getExpandedState())}}var bd=new be("MAT_ACCORDION"),zf="225ms cubic-bezier(0.4,0.0,0.2,1)",Hf={indicatorRotate:eo("indicatorRotate",[Gi("collapsed, void",di({transform:"rotate(0deg)"})),Gi("expanded",di({transform:"rotate(180deg)"})),En("expanded <=> collapsed, void => collapsed",Cn(zf))]),bodyExpansion:eo("bodyExpansion",[Gi("collapsed, void",di({height:"0px",visibility:"hidden"})),Gi("expanded",di({height:"*",visibility:""})),En("expanded <=> collapsed, void => collapsed",Cn(zf))])},Wf=new be("MAT_EXPANSION_PANEL"),nE=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(x(ve),x(Wf,8))}}static{this.\u0275dir=te({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return n})(),oE=0,Uf=new be("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),yd=(()=>{class n extends mf{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ca(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,o,r,s,a,l){super(e,i,o),this._viewContainerRef=r,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new ue,this.afterCollapse=new ue,this._inputChanges=new _e,this._headerId=`mat-expansion-panel-header-${oE++}`,this._bodyAnimationDone=new _e,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(Yo((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{c.fromState!=="void"&&(c.toState==="expanded"?this.afterExpand.emit():c.toState==="collapsed"&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Wi(null),Yt(()=>this.expanded&&!this._portal),xn(1)).subscribe(()=>{this._portal=new jn(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}static{this.\u0275fac=function(i){return new(i||n)(x(bd,12),x(Ie),x(ba),x(Kt),x(Me),x(ai,8),x(Uf,8))}}static{this.\u0275cmp=G({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,o,r){if(i&1&&Ke(r,nE,5),i&2){let s;le(s=ce())&&(o._lazyContent=s.first)}},viewQuery:function(i,o){if(i&1&&Se(Q1,5),i&2){let r;le(r=ce())&&(o._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,o){i&2&&fe("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ze([{provide:bd,useValue:void 0},{provide:Wf,useExisting:n}]),Le,Ue],ngContentSelectors:Z1,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,o){if(i&1){let r=ye();vt(K1),je(0),v(1,"div",1,0),B("@bodyExpansion.done",function(a){return ie(r),ne(o._bodyAnimationDone.next(a))}),v(3,"div",2),je(4,1),X(5,J1,0,0,"ng-template",3),g(),je(6,2),g()}i&2&&(E(),T("@bodyExpansion",o._getExpandedState())("id",o.id),Ct("aria-labelledby",o._headerId),E(4),T("cdkPortalOutlet",o._portal))},dependencies:[ff],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Hf.bodyExpansion]},changeDetection:0})}}return n})();var vd=class{},rE=Lf(vd),xd=(()=>{class n extends rE{constructor(e,i,o,r,s,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=o,this._changeDetectorRef=r,this._animationMode=a,this._parentChangeSubscription=ri.EMPTY;let c=e.accordion?e.accordion._stateChanges.pipe(Yt(d=>!!(d.hideToggle||d.togglePosition))):Pd;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Oi(e.opened,e.closed,c,e._inputChanges.pipe(Yt(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Yt(()=>e._containsFocus())).subscribe(()=>o.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:wa(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(x(yd,1),x(pe),x(Sa),x(Ie),x(Uf,8),x(ai,8),$i("tabindex"))}}static{this.\u0275cmp=G({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,o){i&1&&B("click",function(){return o._toggle()})("keydown",function(s){return o._keydown(s)}),i&2&&(Ct("id",o.panel._headerId)("tabindex",o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),qr("height",o._getHeaderHeight()),fe("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before")("_mat-animation-noopable",o._animationMode==="NoopAnimations"))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Le],ngContentSelectors:tE,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"]],template:function(i,o){i&1&&(vt(eE),v(0,"span",0),je(1),je(2,1),je(3,2),g(),X(4,iE,1,1,"span",1)),i&2&&(fe("mat-content-hide-toggle",!o._showToggle()),E(4),mt(o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Hf.indicatorRotate]},changeDetection:0})}}return n})();var $f=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=te({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return n})(),Yf=(()=>{class n extends hf{constructor(){super(...arguments),this._ownHeaders=new Zn,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ca(e)}ngAfterContentInit(){this._headers.changes.pipe(Wi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ma(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ui(n)))(o||n)}})()}static{this.\u0275dir=te({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,o,r){if(i&1&&Ke(r,xd,5),i&2){let s;le(s=ce())&&(o._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,o){i&2&&fe("mat-accordion-multi",o.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[ze([{provide:bd,useExisting:n}]),Le]})}}return n})(),Ta=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,pf,Ro]})}}return n})();function aE(n,t){n&1&&(v(0,"div",32)(1,"label"),S(2,"Inicio:"),g(),V(3,"input",33),v(4,"label"),S(5,"Fin:"),g(),V(6,"input",34),g())}function lE(n,t){n&1&&(v(0,"div",32)(1,"label"),S(2,"Inicio:"),g(),V(3,"input",35),v(4,"label"),S(5,"Fin:"),g(),V(6,"input",36),g())}function cE(n,t){n&1&&(v(0,"div",32)(1,"label"),S(2,"Inicio:"),g(),V(3,"input",37),v(4,"label"),S(5,"Fin:"),g(),V(6,"input",38),g())}var Oa=class n{constructor(t,e,i,o){this.formBuilder=t;this.audiosService=e;this.configService=i;this.router=o;this.form=this.formBuilder.group({nWorkers:[null],nSamples:[null],models:[null],delay:[null],amOn:[!1],amStart:[""],amEnd:[""],pmOn:[!1],pmStart:[""],pmEnd:[""],ntOn:[!1],ntStart:[""],ntEnd:[""],port:[null],alignmentPort:[null]})}form;defaultConfig;numWorkers=Array.from({length:100},(t,e)=>{let i=(e+1)*5;return{label:i.toString(),value:i}});numSamples=Array.from({length:9500/50+1},(t,e)=>{let i=500+e*50;return{label:i.toString(),value:i}});delays=[200,300,500,750,1e3,2e3,3e3].map(t=>({label:t.toString(),value:t}));inferenceModels=[];newFile="estocastic_data_reconfig.csv";defaultFile="estocastic_data_reconfig.csv";ngOnInit(){this.audiosService.getAvalaibleModels().subscribe(t=>{this.inferenceModels=t}),this.configService.getFullConfig().subscribe(t=>{this.defaultConfig=t,console.log(this.defaultConfig.inference);let e=this.defaultConfig.shifts;this.form.patchValue({nWorkers:this.defaultConfig.generation?.nWorkers??null,nSamples:this.defaultConfig.generation?.nSamples??null,delay:this.defaultConfig.inference?.silenceInterval??null,models:this.defaultConfig.inference?.inferenceModel??null,amStart:e?.ma\u00F1ana?.[0]||"",amEnd:e?.ma\u00F1ana?.[1]||"",pmStart:e?.tarde?.[0]||"",pmEnd:e?.tarde?.[1]||"",ntStart:e?.noche?.[0]||"",ntEnd:e?.noche?.[1]||"",port:this.defaultConfig.port??"",alignmentPort:this.defaultConfig.alignmentPort??"",newData:[!1]}),console.log(t)})}parseForm(){let t=this.form.value,e={ma\u00F1ana:[t.amStart??"",t.amEnd??""],tarde:[t.pmStart??"",t.pmEnd??""],noche:[t.ntStart??"",t.ntEnd??""]};return new Po({nWorkers:t.nWorkers,nSamples:t.nSamples,inferenceModel:t.models,silenceInterval:t.delay,shifts:e})}save(){let t=this.parseForm(),e={DEBUG:this.defaultConfig.debug,JWT_SECRET_KEY:this.defaultConfig.jwtSecretKey,SECRET_KEY:this.defaultConfig.secretKey,CORS_ORIGINS:this.defaultConfig.corsOrigins,UPLOAD_FOLDER:this.defaultConfig.uploadFolder,MAX_CONTENT_LENGTH:this.defaultConfig.maxContentLength,PORT:this.defaultConfig.port,SHIFTS:t.shifts||this.defaultConfig.shifts,GENERATION:{n_workers:t.nWorkers??this.defaultConfig.generation.nWorkers,n_samples:t.nSamples??this.defaultConfig.generation.nSamples},INFERENCE:{silence_interval:t.silenceInterval??this.defaultConfig.inference.silenceInterval,inference_model:t.inferenceModel??this.defaultConfig.inference.inferenceModel}};console.log(e),this.configService.changeConfig(e).subscribe({next:()=>{this.configService.changeFileWithData(this.newFile).subscribe({next:()=>{console.log("Archivo cambiado correctamente"),gt.fire("Configuraci\xF3n modificada y datos actualizados","","success"),this.routeToPrincipal()},error:i=>{console.error("Error al cambiar archivo de datos",i),gt.fire("Configuraci\xF3n guardada, pero hubo un error cargando los datos","","warning"),this.routeToPrincipal()}})},error:i=>console.error("Error al enviar config:",i)})}routeToWorkers(){this.router.navigate(["/register"])}routeToPrincipal(){this.router.navigate(["/"])}resetDefault(){gt.fire({title:"\xBFRestablecer la configuraci\xF3n por defecto?",text:"La aplicaci\xF3n tomar\xE1 los valores por defecto.",icon:"question",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.configService.resetConfig().subscribe({next:()=>{this.configService.changeFileWithData(this.defaultFile).subscribe({next:()=>{gt.fire("Configuraci\xF3n reestablecida","","success"),this.routeToPrincipal(),console.log("Config por defecto cargada y datos reiniciados")},error:e=>{gt.fire("La configuraci\xF3n fue restablecida, pero fall\xF3 la carga de datos","","warning"),this.routeToPrincipal(),console.error("Error al cambiar archivo despu\xE9s del reset:",e)}})},error:e=>{gt.fire("Error al restablecer configuraci\xF3n","","error"),console.error("Error al resetear configuraci\xF3n:",e)}})})}static \u0275fac=function(e){return new(e||n)(x(wi),x(_n),x(_a),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-config"]],decls:82,vars:12,consts:[[1,"container-form"],[1,"header-container"],[1,"btn-secondary",3,"click"],[3,"ngSubmit","formGroup"],["multi","true"],[1,"row"],[1,"col-6","col-sm-4"],[1,"form-group"],["for","port"],["id","port","type","number","formControlName","port","placeholder","Ej: 5000",1,"form-control"],["for","alignmentPort"],["id","alignmentPort","type","number","formControlName","alignmentPort","placeholder","Ej: 6000",1,"form-control"],["for","id"],["id","nWorkers","bindLabel","label","bindValue","value","formControlName","nWorkers","placeholder","Seleccione...",3,"items","searchable"],["id","nSamples","bindLabel","label","bindValue","value","formControlName","nSamples","placeholder","Seleccione...",3,"items","searchable"],[1,"shifts","mt-3"],[1,"mb-2","shifts-containers"],[1,"mb-2"],["type","checkbox","formControlName","amOn","id","amOn"],["for","amOn"],["class","time-container ms-3",4,"ngIf"],["type","checkbox","formControlName","pmOn","id","pmOn"],["for","pmOn"],["type","checkbox","formControlName","ntOn","id","ntOn"],["for","ntOn"],["id","models","bindLabel","label","bindValue","value","formControlName","models","placeholder","Seleccione...","appendTo","body",3,"items","searchable"],["id","delay","bindLabel","label","bindValue","value","formControlName","delay","placeholder","Seleccione...",3,"items","searchable"],["type","checkbox","formControlName","newData","id","newData"],["for","newData"],[1,"text-center","mt-3"],["type","button",1,"btn-form",3,"click"],["type","submit",1,"btn-form"],[1,"time-container","ms-3"],["type","time","formControlName","amStart",1,"form-control"],["type","time","formControlName","amEnd",1,"form-control"],["type","time","formControlName","pmStart",1,"form-control"],["type","time","formControlName","pmEnd",1,"form-control"],["type","time","formControlName","ntStart",1,"form-control"],["type","time","formControlName","ntEnd",1,"form-control"]],template:function(e,i){if(e&1&&(v(0,"div",0)(1,"div",1)(2,"h2"),S(3,"Configuraci\xF3n"),g(),v(4,"button",2),B("click",function(){return i.routeToWorkers()}),S(5,"Trabajadores"),g()(),v(6,"form",3),B("ngSubmit",function(){return i.save()}),v(7,"mat-accordion",4)(8,"mat-expansion-panel")(9,"mat-expansion-panel-header")(10,"mat-panel-title"),S(11,"General"),g()(),v(12,"div",5)(13,"div",6)(14,"div",7)(15,"label",8),S(16,"Puerto servidor principal"),g(),V(17,"input",9),g()(),v(18,"div",6)(19,"div",7)(20,"label",10),S(21,"Puerto servidor alineaci\xF3n forzada"),g(),V(22,"input",11),g()()()(),v(23,"mat-expansion-panel")(24,"mat-expansion-panel-header")(25,"mat-panel-title"),S(26,"An\xE1lisis"),g()(),v(27,"div",5)(28,"div",6)(29,"div",7)(30,"label",12),S(31,"N\xFAmero de trabajadores en la muestra"),g(),V(32,"ng-select",13),g()(),v(33,"div",6)(34,"div",7)(35,"label",12),S(36,"N\xBA de muestras"),g(),V(37,"ng-select",14),g()()(),v(38,"div",15)(39,"label",12),S(40,"Turnos"),g(),v(41,"div",16)(42,"div",17),V(43,"input",18),v(44,"label",19),S(45,"Ma\xF1ana"),g(),X(46,aE,7,0,"div",20),g(),v(47,"div",17),V(48,"input",21),v(49,"label",22),S(50,"Tarde"),g(),X(51,lE,7,0,"div",20),g(),v(52,"div",17),V(53,"input",23),v(54,"label",24),S(55,"Noche"),g(),X(56,cE,7,0,"div",20),g()()()(),v(57,"mat-expansion-panel")(58,"mat-expansion-panel-header")(59,"mat-panel-title"),S(60,"Inferencia"),g()(),v(61,"div",5)(62,"div",6)(63,"div",7)(64,"label",12),S(65,"Modelo de inferencia"),g(),V(66,"ng-select",25),g()()(),v(67,"div",5)(68,"div",6)(69,"div",7)(70,"label",12),S(71,"Intervalo de silencio (s)"),g(),V(72,"ng-select",26),g()()()()(),v(73,"div"),V(74,"input",27),v(75,"label",28),S(76,"\xBFQuieres generar una nueva muestra de datos y explotarlos?"),g()(),v(77,"div",29)(78,"button",30),B("click",function(){return i.resetDefault()}),S(79,"Reestablecer"),g(),v(80,"button",31),S(81,"Guardar configuraci\xF3n"),g()()()()),e&2){let o,r,s;E(6),T("formGroup",i.form),E(26),T("items",i.numWorkers)("searchable",!0),E(5),T("items",i.numSamples)("searchable",!0),E(9),T("ngIf",(o=i.form.get("amOn"))==null?null:o.value),E(5),T("ngIf",(r=i.form.get("pmOn"))==null?null:r.value),E(5),T("ngIf",(s=i.form.get("ntOn"))==null?null:s.value),E(10),T("items",i.inferenceModels)("searchable",!0),E(6),T("items",i.delays)("searchable",!0)}},dependencies:[at,xi,Nt,Nl,Tl,ei,yi,ui,hi,cn,Yf,yd,xd,$f],styles:[".header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.container-form[_ngcontent-%COMP%]{margin:30px auto 20px;padding:2rem;box-sizing:border-box;background-color:var(--soft-gray-color);border-radius:20px;border:4px solid var(--primary-color);box-shadow:0 4px 8px #0000001a;width:80%;overflow:visible}h2[_ngcontent-%COMP%]{color:var(--primary-color)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}label[_ngcontent-%COMP%]{padding:.75rem;font-size:20px}input[_ngcontent-%COMP%]{font-size:18px}.ng-dropdown-panel[_ngcontent-%COMP%]{z-index:1050!important}.ng-select[_ngcontent-%COMP%]{margin-bottom:20px;padding:.75rem;height:65px}mat-expansion-panel[_ngcontent-%COMP%]{background-color:#f6f6f6;margin:1rem 0}mat-panel-title[_ngcontent-%COMP%]{font-size:25px}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header-description[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px}.shifts-containers[_ngcontent-%COMP%]{margin-left:30px}.btn-form[_ngcontent-%COMP%]{margin-left:5px}"]})};var dE=["recordings"],Fa=class n{constructor(t,e,i,o){this.audioService=t;this.viewContainerRef=e;this.componentFactoryResolver=i;this.cdr=o}recordingsRef;recordings=[];audios=[];audioUtils=new ko;waveSurferRecorded=[];index=0;recordingsWithEmotions=[];requestQueue=[];isRequestInProgress=!1;onChargeAudios(t){let e=t.target;if(e.files){let i=Array.from(e.files);if(i.filter(r=>r.type!=="audio/wav").length>0){console.log("Formato incorrecto");return}this.audios=i,this.audios&&this.audios.length>0&&this.audios.forEach(r=>this.processRecordedAudio(r))}}processRecordedAudio(t){return ht(this,null,function*(){this.audioUtils.convertBlobToWav(t).then(e=>{this.waveSurferRecorded.push(e);let i=this.recordingsRef.nativeElement,o=this.componentFactoryResolver.resolveComponentFactory(So),r=this.viewContainerRef.createComponent(o);r.instance.audioBlob=e,r.instance.audioIndex=this.index,i.appendChild(r.location.nativeElement),this.sendAudioToGetEmotions(e,r)}),this.index++})}sendAudioToGetEmotions(t,e){return ht(this,null,function*(){let i=()=>ht(this,null,function*(){let o=new FormData,r="recording"+this.index+".wav",s=new File([t],r,{type:t.type});o.append("audioFile",s);try{let a=yield this.audioService.getDataAudio(o).toPromise();console.log("Audio enviado exitosamente:",a);let l=a.emotions.emocategoric;this.addCategoric(l,e.instance);let c=a.emotions.emodimensional;this.addDimensional(c,e.instance);let d=a.alignments;console.log("respuesta ",d);let u=d.map(m=>new Io(m.end,m.start,m.word));e.instance.alignments=u;let h=this.createRecordingWithEmotion(r,l,c,a.userId,t,a.transcription,u);this.recordingsWithEmotions.push(yield h),console.log(h)}catch(a){console.error("Error al enviar el audio:",a)}});this.enqueueRequest(i)})}addCategoric(t,e){t&&Array.isArray(t)?e.emotions_categoric=t:console.error("No se recibieron emociones categ\xF3ricas v\xE1lidas.")}addDimensional(t,e){t?e.emotions_dimensional=t:console.error("No se recibieron emociones dimensionales v\xE1lidas.")}createRecordingWithEmotion(t,e,i,o,r,s,a){return ht(this,null,function*(){return console.log("antes de crear ",a),new gn({fileName:t,Emotion_1_label:e[0]?.emo||"",Emotion_1_mean:e[0]?.prob||0,Emotion_1_std:e[0]?.std||0,Emotion_2_label:e[1]?.emo||"",Emotion_2_mean:e[1]?.prob||0,Emotion_2_std:e[1]?.std||0,Emotion_3_label:e[2]?.emo||"",Emotion_3_mean:e[2]?.prob||0,Emotion_3_std:e[2]?.std||0,valence:i.valence,arousal:i.arousal,dominance:i.dominance,userId:o,timestamp:Date.now(),audioBlob:r,transcription:s,alignments:a})})}enqueueRequest(t){return ht(this,null,function*(){this.requestQueue.push(t),this.isRequestInProgress||this.processQueue()})}processQueue(){return ht(this,null,function*(){if(this.isRequestInProgress||this.requestQueue.length===0)return;this.isRequestInProgress=!0;let t=this.requestQueue.shift();if(t)try{yield t()}finally{this.isRequestInProgress=!1,this.processQueue()}})}extractData(){return ht(this,null,function*(){for(let t of this.recordings){let e=`audio/${t.fileName}`;try{let o=yield(yield fetch(e)).blob();t.audioBlob=o,t.transcription&&(console.log("love",t.alignments),t.alignments=this.processAlignments(t.alignments))}catch(i){console.error("Error al cargar el audio:",i)}}})}processAlignments(t){let e=[];return t.forEach(i=>{let o=i.word,r=parseFloat(i.start.toString()),s=parseFloat(i.end.toString());e.push({end:s,start:r,word:o})}),e}static \u0275fac=function(e){return new(e||n)(x(_n),x(Kt),x(Fi),x(Ie))};static \u0275cmp=G({type:n,selectors:[["app-deferred-inference"]],viewQuery:function(e,i){if(e&1&&Se(dE,7),e&2){let o;le(o=ce())&&(i.recordingsRef=o.first)}},decls:12,vars:0,consts:[["recordings",""],[1,"inicial-container"],["type","file","accept",".wav","multiple","",3,"change"],[1,"records"],[1,"record-container"],[1,"audios-recorded"]],template:function(e,i){if(e&1){let o=ye();v(0,"div",1)(1,"h1"),S(2,"Inferencia de emociones."),g(),v(3,"p"),S(4,"Ahora no hace falta hablar, sube aqu\xED el .csv (siguiendo el modelo que puedes descargar aqu\xED), junto con los audios que se mencionan en el .csv y podr\xE1s visualizar las emociones asociadas a cada audio "),g(),v(5,"input",2),B("change",function(s){return ie(o),ne(i.onChargeAudios(s))}),g()(),v(6,"div",3)(7,"h2"),S(8,"Grabaciones"),g()(),v(9,"div",4),V(10,"div",5,0),g()}},styles:[".inicial-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:60vh;padding-top:100px;padding-left:50px;padding-right:40px;border:5px solid var(--primary-color);border-radius:18px;background-color:#d2c8fa;gap:5%}h1[_ngcontent-%COMP%]{color:var(--primary-color)}"]})};var uE=[{path:"",component:Js},{path:"individual",component:Ks,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"representation",component:Lr,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"representation/:id",component:Lr,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"audio",component:da,canActivate:[ki]},{path:"analysis",component:Oo,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"csv",component:Fa,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"login",component:ua},{path:"register",component:pa,canActivate:[ki]},{path:"config",component:Oa,canActivate:[ki]},{path:"shift",component:fa,canActivate:[ki],data:{expectedRoles:["psychologist","admin"]}},{path:"access-denied",component:ga}],Pa=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n});static \u0275inj=Q({imports:[to.forRoot(uE),to]})};var Ra=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-layout-main"]],decls:3,vars:0,consts:[["role","main"],[1,"container-fluid"]],template:function(e,i){e&1&&(v(0,"main",0)(1,"div",1),V(2,"router-outlet"),g()())},dependencies:[au],styles:[".container-fluid[_ngcontent-%COMP%]{margin:3em;margin-bottom:10rem}@media (max-width: 2048px){.container-fluid[_ngcontent-%COMP%]{margin:3em 2em}}"]})};var mE=["*",[["mat-toolbar-row"]]],pE=["*","mat-toolbar-row"],fE=Aa(class{constructor(n){this._elementRef=n}}),gE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),qf=(()=>{class n extends fE{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(i){return new(i||n)(x(pe),x(tt),x(Me))}}static{this.\u0275cmp=G({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,o,r){if(i&1&&Ke(r,gE,5),i&2){let s;le(s=ce())&&(o._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,o){i&2&&fe("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Le],ngContentSelectors:pE,decls:2,vars:0,template:function(i,o){i&1&&(vt(mE),je(0),je(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var Gf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,Re]})}}return n})();var bE=["mat-button",""],vE=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],yE=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],xE='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',wE=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var CE=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],EE=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,o,r){this._elementRef=e,this._platform=i,this._ngZone=o,this._animationMode=r,this._focusMonitor=Qe(Sa),this._rippleLoader=Qe(jf),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let s=this._elementRef.nativeElement,a=s.classList;for(let{attribute:l,mdcClasses:c}of CE)s.hasAttribute(l)&&a.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){Yr()}}static{this.\u0275dir=te({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ee],disabled:[2,"disabled","disabled",Ee]},features:[bt]})}}return n})();var DE=(()=>{class n extends EE{constructor(e,i,o,r){super(e,i,o,r),this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static{this.\u0275fac=function(i){Yr()}}static{this.\u0275dir=te({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:wn(e)]},features:[bt,Le]})}}return n})();var Xf=(()=>{class n extends DE{constructor(e,i,o,r){super(e,i,o,r)}static{this.\u0275fac=function(i){return new(i||n)(x(pe),x(tt),x(Fe),x(ai,8))}}static{this.\u0275cmp=G({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:11,hostBindings:function(i,o){i&2&&(Ct("disabled",o.disabled||null)("tabindex",o.disabled?-1:o.tabIndex)("aria-disabled",o.disabled.toString()),Gr(o.color?"mat-"+o.color:""),fe("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[Le],attrs:bE,ngContentSelectors:yE,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(vt(vE),V(0,"span",0),je(1),v(2,"span",1),je(3,1),g(),je(4,2),V(5,"span",2)(6,"span",3)),i&2&&fe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[xE,wE],encapsulation:2,changeDetection:0})}}return n})();var La=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,Ia,Re]})}}return n})();function SE(n,t){n&1&&(v(0,"mat-toolbar",7)(1,"a",8),S(2,"An\xE1lisis detallado"),g(),v(3,"a",9),S(4,"An\xE1lisis global"),g(),v(5,"a",10),S(6,"Inferencia tiempo real"),g(),v(7,"a",11),S(8,"Inferencia diferida"),g(),v(9,"a",12),S(10,"Configuraci\xF3n"),g()())}function kE(n,t){n&1&&(v(0,"div",13)(1,"button",14),S(2,"Entrar"),g()())}function AE(n,t){if(n&1){let e=ye();v(0,"div",13)(1,"button",15),B("click",function(){ie(e);let o=U();return ne(o.logout())}),S(2,"Salir"),g()()}}var Va=class n{constructor(t,e){this.authService=t;this.router=e}isLoggedIn=!1;isLoginPage=!1;menuOpen=!1;ngOnInit(){this.router.events.subscribe(t=>{t instanceof ru&&(this.isLoginPage=this.router.url==="/login",this.isLoggedIn=this.authService.isLoggedIn())})}logout(){this.authService.logout(),this.isLoggedIn=!1,this.router.navigate(["/"])}toggleMenu(){this.menuOpen=!this.menuOpen}static \u0275fac=function(e){return new(e||n)(x(oi),x(Et))};static \u0275cmp=G({type:n,selectors:[["app-layout-header"]],decls:8,vars:3,consts:[[1,"menu-container"],[1,"logo-container"],["mat-button","","routerLink","/"],["src","img/logo_white.png","alt","WebEmotions Logo",1,"logo-image"],["class","menu",4,"ngIf"],[1,"login-container"],["class","login",4,"ngIf"],[1,"menu"],["mat-button","","routerLink","/representation","routerLinkActive","active-link"],["mat-button","","routerLink","/analysis","routerLinkActive","active-link"],["mat-button","","routerLink","/audio","routerLinkActive","active-link"],["mat-button","","routerLink","/csv","routerLinkActive","active-link"],["mat-button","","routerLink","/config","routerLinkActive","active-link"],[1,"login"],["routerLink","/login",1,"btn-secondary"],[1,"btn-secondary",3,"click"]],template:function(e,i){e&1&&(v(0,"div",0)(1,"div",1)(2,"a",2),V(3,"img",3),g()(),X(4,SE,11,0,"mat-toolbar",4),v(5,"div",5),X(6,kE,3,0,"div",6)(7,AE,3,0,"div",6),g()()),e&2&&(E(4),T("ngIf",!i.isLoginPage),E(2),T("ngIf",!i.isLoggedIn&&!i.isLoginPage),E(),T("ngIf",i.isLoggedIn&&!i.isLoginPage))},dependencies:[at,Jr,lu,qf,Xf],styles:['@charset "UTF-8";.menu-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:2rem}.logo-image[_ngcontent-%COMP%]{width:15rem}.menu[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:3rem}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:FraktionMono,monospace;text-transform:uppercase;font-size:1rem;transition:all .5s ease}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color);color:var(--background-color);transform:translateY(-3px);box-shadow:0 4px 6px #0003}.menu[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{font-weight:700;color:var(--third-color);text-decoration:none}mat-toolbar.menu[_ngcontent-%COMP%]{position:relative;z-index:10}  .mat-toolbar{background:none}@media (max-width: 1024px){.menu[_ngcontent-%COMP%]{gap:0px}.menu-container[_ngcontent-%COMP%]{padding:.5rem;justify-content:flex-end;margin:2rem 1rem}.logo-image[_ngcontent-%COMP%]{width:10rem}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 768px){.menu[_ngcontent-%COMP%]{gap:0px}.menu-container[_ngcontent-%COMP%]{padding:.5rem;justify-content:flex-end;margin:2rem 1rem}.logo-image[_ngcontent-%COMP%]{width:8rem}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.5rem}}']})};var Bo=class n{constructor(t){this.router=t}title="frontendWebEmotions";isLoginPage=!1;ngOnInit(){this.router.events.subscribe(()=>{this.isLoginPage=this.router.url.includes("/login")})}static \u0275fac=function(e){return new(e||n)(x(Et))};static \u0275cmp=G({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){e&1&&V(0,"app-layout-header")(1,"app-layout-main")},dependencies:[Ra,Va]})};var Na=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n});static \u0275inj=Q({imports:[ci,to,hr,ur,wr,Ta,ci,to,hr,ur,wr]})};var TE=new be("NGX_ECHARTS_CONFIG");var OE=n=>({provide:TE,useValue:n}),Qf=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[OE(e)]}}static forChild(){return{ngModule:n}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})();var FE=20,Kf=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new _e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=FE){return this._platform.isBrowser?new Wo(i=>{this._globalSubscription||this._addGlobalListener();let o=e>0?this._scrolled.pipe($o(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Uo()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Yt(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=zi(i),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return yn(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(R(Fe),R(tt),R(Me,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var PE=20,wd=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new _e,this._changeListener=r=>{this._change.next(r)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){let r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),s=-r.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,a=-r.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:a}}change(e=PE){return e>0?this._change.pipe($o(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(R(tt),R(Fe),R(Me,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})(),Cd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[bn,jo,bn,jo]})}}return n})();var Zf=gf(),Ed=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=it(-this._previousScrollPosition.left),t.style.top=it(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,o=e.style,r=i.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Zf&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Zf&&(i.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Dd=class{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Yt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ba=class{enable(){}disable(){}attach(){}};function Md(n,t){return t.some(e=>{let i=n.bottom<e.top,o=n.top>e.bottom,r=n.right<e.left,s=n.left>e.right;return i||o||r||s})}function Jf(n,t){return t.some(e=>{let i=n.top<e.top,o=n.bottom>e.bottom,r=n.left<e.left,s=n.right>e.right;return i||o||r||s})}var Sd=class{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();Md(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},LE=(()=>{class n{constructor(e,i,o,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new Ba,this.close=s=>new Dd(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ed(this._viewportRuler,this._document),this.reposition=s=>new Sd(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=r}static{this.\u0275fac=function(i){return new(i||n)(R(Kf),R(wd),R(Fe),R(Me))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zr=class{constructor(t){if(this.scrollStrategy=new Ba,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var kd=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var og=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(R(Me))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VE=(()=>{class n extends og{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{let r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){let a=r[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(o)):a.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(R(Me),R(Fe,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NE=(()=>{class n extends og{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=fi(r)},this._clickListener=r=>{let s=fi(r),a=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){let d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;let u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(R(Me),R(tt),R(Fe,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Br()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let i=this._document.createElement("div");i.classList.add(e),Br()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(R(Me),R(tt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ad=class{constructor(t,e,i,o,r,s,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new _e,this._attachments=new _e,this._detachments=new _e,this._locationChanges=ri.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new _e,this._outsidePointerEvents=new _e,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=he(he({},this._config),t),this._updateElementSize()}setDirection(t){this._config=rt(he({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=it(this._config.width),t.height=it(this._config.height),t.minWidth=it(this._config.minWidth),t.minHeight=it(this._config.minHeight),t.maxWidth=it(this._config.maxWidth),t.maxHeight=it(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let o=Vo(e||[]).filter(r=>!!r);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Rt(Oi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},eg="cdk-overlay-connected-position-bounding-box",BE=/([A-Za-z%]+)$/,ja=class{get positions(){return this._preferredPositions}constructor(t,e,i,o,r){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _e,this._resizeSubscription=ri.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(eg),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,o,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(let c of r){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Un(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eg),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o;if(i.originX=="center")o=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;o=i.originX=="start"?s:a}e.left<0&&(o-=e.left);let r;return i.originY=="center"?r=t.top+t.height/2:r=i.originY=="top"?t.top:t.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(t,e,i){let o;i.overlayX=="center"?o=-e.width/2:i.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return i.overlayY=="center"?r=-e.height/2:r=i.overlayY=="top"?0:-e.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,e,i,o){let r=ig(e),{x:s,y:a}=t,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+r.width-i.width,h=0-a,m=a+r.height-i.height,p=this._subtractOverflows(r.width,d,u),f=this._subtractOverflows(r.height,h,m),b=p*f;return{visibleArea:b,isCompletelyWithinViewport:r.width*r.height===b,fitsInViewportVertically:f===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let o=i.bottom-e.y,r=i.right-e.x,s=tg(this._overlayRef.getConfig().minHeight),a=tg(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=o,c=t.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let o=ig(e),r=this._viewportRect,s=Math.max(t.x+o.width-r.width,0),a=Math.max(t.y+o.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0),d=0,u=0;return o.width<=r.width?d=c||-s:d=t.x<this._viewportMargin?r.left-i.left-t.x:0,o.height<=r.height?u=l||-a:u=t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let i=this._getScrollVisibility(),o=new kd(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,o=this._isRtl(),r,s,a;if(e.overlayY==="top")s=t.y,r=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;r=m*2,s=t.y-m,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-p/2)}let l=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,c=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,d,u,h;if(c)h=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:r}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=it(i.height),o.top=it(i.top),o.bottom=it(i.bottom),o.width=it(i.width),o.left=it(i.left),o.right=it(i.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=it(r)),s&&(o.maxWidth=it(s))}this._lastBoundingBoxSize=i,Un(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Un(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Un(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();Un(i,this._getExactOverlayY(e,t,d)),Un(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(o?i.maxHeight=it(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(o?i.maxWidth=it(s.maxWidth):r&&(i.maxWidth="")),Un(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=it(r.y);return o}_getExactOverlayX(t,e,i){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=it(r.x);return o}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Jf(t,i),isOriginOutsideView:Md(t,i),isOverlayClipped:Jf(e,i),isOverlayOutsideView:Md(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vo(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof pe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Un(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function tg(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(BE);return!e||e==="px"?parseFloat(t):null}return n||null}function ig(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}var ng="cdk-global-overlay-wrapper",Id=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ng),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",p="",f="";l?f="flex-start":d==="center"?(f="center",h?p=u:m=u):h?d==="left"||d==="end"?(f="flex-end",m=u):(d==="right"||d==="start")&&(f="flex-start",p=u):d==="left"||d==="start"?(f="flex-start",m=u):(d==="right"||d==="end")&&(f="flex-end",p=u),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":p,e.justifyContent=f,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(ng),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},jE=(()=>{class n{constructor(e,i,o,r){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=r}global(){return new Id}flexibleConnectedTo(e){return new ja(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(R(wd),R(Me),R(tt),R(rg))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zE=0,zo=(()=>{class n{constructor(e,i,o,r,s,a,l,c,d,u,h,m){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=r,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=m}create(e){let i=this._createHostElement(),o=this._createPaneElement(i),r=this._createPortalOutlet(o),s=new zr(e);return s.direction=s.direction||this._directionality.value,new Ad(r,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${zE++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Za)),new xa(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(R(LE),R(rg),R(Fi),R(jE),R(VE),R(Yi),R(Fe),R(Me),R(Mf),R(Kd),R(NE),R(ai,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var HE=new be("cdk-connected-overlay-scroll-strategy");function WE(n){return()=>n.scrollStrategies.reposition()}var UE={provide:HE,deps:[zo],useFactory:WE},za=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[zo,UE],imports:[bn,Ro,Cd,Cd]})}}return n})();var Hr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,ci,Ea,Re]})}}return n})();var sg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({})}}return n})();var ag=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,Hr,Hr,sg,Re]})}}return n})();var qE=(()=>{class n{constructor(){this.changes=new _e,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GE=new be("mat-datepicker-scroll-strategy");function XE(n){return()=>n.scrollStrategies.reposition()}var QE={provide:GE,deps:[zo],useFactory:XE};var lg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[qE,QE],imports:[ci,La,za,Ef,Ro,Re,jo]})}}return n})();var cg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,ci,Re]})}}return n})();var dg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({imports:[Re,Re]})}}return n})();var ug={transformMenu:eo("transformMenu",[Gi("void",di({opacity:0,transform:"scale(0.8)"})),En("void => enter",Cn("120ms cubic-bezier(0, 0, 0.2, 1)",di({opacity:1,transform:"scale(1)"}))),En("* => void",Cn("100ms 25ms linear",di({opacity:0})))]),fadeInItems:eo("fadeInItems",[Gi("showing",di({opacity:1})),En("void => *",[di({opacity:0}),Cn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},bT=ug.fadeInItems,vT=ug.transformMenu;var KE=new be("mat-menu-scroll-strategy");function ZE(n){return()=>n.scrollStrategies.reposition()}var JE={provide:KE,deps:[zo],useFactory:ZE};var hg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=K({type:n})}static{this.\u0275inj=Q({providers:[JE],imports:[ci,Ia,Re,za,jo,Re]})}}return n})();var Ha=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n,bootstrap:[Bo]});static \u0275inj=Q({providers:[iu()],imports:[tu,Pa,Na,ur,hr,wr,eu,Qf.forRoot({echarts:Wu}),Gf,La,cg,dg,hg,lg,Hr,Nf,ag,Ta,nu]})};var Td=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n,bootstrap:[Bo]});static \u0275inj=Q({imports:[Ha,ou]})};export{Td as a};
